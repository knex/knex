import{_ as e,c as r,o as n,a as t}from"./app.36cb52e5.js";const d='{"title":"Changelog","description":"","frontmatter":{},"headers":[{"level":2,"title":"Changelog","slug":"changelog"},{"level":3,"title":"2.5.1 - 12 July, 2023","slug":"_2-5-1-12-july-2023"},{"level":3,"title":"2.5.0 - 08 July, 2023","slug":"_2-5-0-08-july-2023"},{"level":3,"title":"2.4.2 - 22 January, 2023","slug":"_2-4-2-22-january-2023"},{"level":3,"title":"2.4.1 - 18 January, 2023","slug":"_2-4-1-18-january-2023"},{"level":3,"title":"2.4.0 - 6 January, 2023","slug":"_2-4-0-6-january-2023"},{"level":3,"title":"2.3.0 - 31 August, 2022","slug":"_2-3-0-31-august-2022"},{"level":3,"title":"2.2.0 - 18 July, 2022","slug":"_2-2-0-18-july-2022"},{"level":3,"title":"2.1.0 - 26 May, 2022","slug":"_2-1-0-26-may-2022"},{"level":3,"title":"2.0.0 - 21 April, 2022","slug":"_2-0-0-21-april-2022"},{"level":3,"title":"1.0.7 - 13 March, 2022","slug":"_1-0-7-13-march-2022"},{"level":3,"title":"1.0.6 - 12 March, 2022","slug":"_1-0-6-12-march-2022"},{"level":3,"title":"1.0.5 - 05 March, 2022","slug":"_1-0-5-05-march-2022"},{"level":3,"title":"1.0.4 - 13 March, 2022","slug":"_1-0-4-13-march-2022"},{"level":3,"title":"1.0.3 - 11 February, 2022","slug":"_1-0-3-11-february-2022"},{"level":3,"title":"1.0.2 - 02 February, 2022","slug":"_1-0-2-02-february-2022"},{"level":3,"title":"1.0.1 - 16 January, 2022","slug":"_1-0-1-16-january-2022"},{"level":3,"title":"1.0.0 - 16 January, 2022","slug":"_1-0-0-16-january-2022"},{"level":3,"title":"0.95.15 - 22 December, 2021","slug":"_0-95-15-22-december-2021"},{"level":3,"title":"0.95.14 - 09 November, 2021","slug":"_0-95-14-09-november-2021"},{"level":3,"title":"0.95.13 - 02 November, 2021","slug":"_0-95-13-02-november-2021"},{"level":3,"title":"0.95.12 - 28 October, 2021","slug":"_0-95-12-28-october-2021"},{"level":3,"title":"0.95.11 - 03 September, 2021","slug":"_0-95-11-03-september-2021"},{"level":3,"title":"0.95.10 - 20 August, 2021","slug":"_0-95-10-20-august-2021"},{"level":3,"title":"0.95.9 - 31 July, 2021","slug":"_0-95-9-31-july-2021"},{"level":3,"title":"0.95.8 - 25 July, 2021","slug":"_0-95-8-25-july-2021"},{"level":3,"title":"0.95.7 - 10 July, 2021","slug":"_0-95-7-10-july-2021"},{"level":3,"title":"0.95.6 - 17 May, 2021","slug":"_0-95-6-17-may-2021"},{"level":3,"title":"0.95.5 - 11 May, 2021","slug":"_0-95-5-11-may-2021"},{"level":3,"title":"0.95.4 - 26 March, 2021","slug":"_0-95-4-26-march-2021"},{"level":3,"title":"0.95.3 - 25 March, 2021","slug":"_0-95-3-25-march-2021"},{"level":3,"title":"0.95.2 - 11 March, 2021","slug":"_0-95-2-11-march-2021"},{"level":3,"title":"0.95.1 - 04 March, 2021","slug":"_0-95-1-04-march-2021"},{"level":3,"title":"0.95.0 - 03 March, 2021","slug":"_0-95-0-03-march-2021"},{"level":3,"title":"0.21.19 - 02 March, 2021","slug":"_0-21-19-02-march-2021"},{"level":3,"title":"0.21.18 - 22 February, 2021","slug":"_0-21-18-22-february-2021"},{"level":3,"title":"0.21.17 - 30 January, 2021","slug":"_0-21-17-30-january-2021"},{"level":3,"title":"0.21.16 - 17 January, 2021","slug":"_0-21-16-17-january-2021"},{"level":3,"title":"0.21.15 - 26 December, 2020","slug":"_0-21-15-26-december-2020"},{"level":3,"title":"0.21.14 - 18 December, 2020","slug":"_0-21-14-18-december-2020"},{"level":3,"title":"0.21.13 - 12 December, 2020","slug":"_0-21-13-12-december-2020"},{"level":3,"title":"0.21.12 - 02 November, 2020","slug":"_0-21-12-02-november-2020"},{"level":3,"title":"0.21.11 - 01 November, 2020","slug":"_0-21-11-01-november-2020"},{"level":3,"title":"0.21.10 - 31 October, 2020","slug":"_0-21-10-31-october-2020"},{"level":3,"title":"0.21.9 - 27 October, 2020","slug":"_0-21-9-27-october-2020"},{"level":3,"title":"0.21.8 - 27 October, 2020","slug":"_0-21-8-27-october-2020"},{"level":3,"title":"0.21.7 - 25 October, 2020","slug":"_0-21-7-25-october-2020"},{"level":3,"title":"0.21.6 - 27 September, 2020","slug":"_0-21-6-27-september-2020"},{"level":3,"title":"0.21.5 - 17 August, 2020","slug":"_0-21-5-17-august-2020"},{"level":3,"title":"0.21.4 - 10 August, 2020","slug":"_0-21-4-10-august-2020"},{"level":3,"title":"0.21.3 - 08 August, 2020","slug":"_0-21-3-08-august-2020"},{"level":3,"title":"0.21.2 - 10 July, 2020","slug":"_0-21-2-10-july-2020"},{"level":3,"title":"0.21.1 - 28 April, 2020","slug":"_0-21-1-28-april-2020"},{"level":3,"title":"0.21.0 - 18 April, 2020","slug":"_0-21-0-18-april-2020"},{"level":3,"title":"0.20.15 - 16 April, 2020","slug":"_0-20-15-16-april-2020"},{"level":3,"title":"0.20.14 - 13 April, 2020","slug":"_0-20-14-13-april-2020"},{"level":3,"title":"0.20.13 - 23 March, 2020","slug":"_0-20-13-23-march-2020"},{"level":3,"title":"0.20.12 - 19 March, 2020","slug":"_0-20-12-19-march-2020"},{"level":3,"title":"0.20.11 - 26 February, 2020","slug":"_0-20-11-26-february-2020"},{"level":3,"title":"0.20.10 - 13 February, 2020","slug":"_0-20-10-13-february-2020"},{"level":3,"title":"0.20.9 - 08 February, 2020","slug":"_0-20-9-08-february-2020"},{"level":3,"title":"0.20.8 - 14 January, 2020","slug":"_0-20-8-14-january-2020"},{"level":3,"title":"0.20.7 - 07 January, 2020","slug":"_0-20-7-07-january-2020"},{"level":3,"title":"0.20.6 - 29 December, 2019","slug":"_0-20-6-29-december-2019"},{"level":3,"title":"0.20.5 - 29 December, 2019","slug":"_0-20-5-29-december-2019"},{"level":3,"title":"0.20.4 - 08 December, 2019","slug":"_0-20-4-08-december-2019"},{"level":3,"title":"0.20.3 - 27 November, 2019","slug":"_0-20-3-27-november-2019"},{"level":3,"title":"0.20.2 - 14 November, 2019","slug":"_0-20-2-14-november-2019"},{"level":3,"title":"0.20.1 - 29 October, 2019","slug":"_0-20-1-29-october-2019"},{"level":3,"title":"0.20.0 - 25 October, 2019","slug":"_0-20-0-25-october-2019"},{"level":3,"title":"0.19.5 - 06 October, 2019","slug":"_0-19-5-06-october-2019"},{"level":3,"title":"0.19.4 - 09 September, 2019","slug":"_0-19-4-09-september-2019"},{"level":3,"title":"0.19.3 - 25 August, 2019","slug":"_0-19-3-25-august-2019"},{"level":3,"title":"0.19.2 - 17 August, 2019","slug":"_0-19-2-17-august-2019"},{"level":3,"title":"0.19.1 - 23 July, 2019","slug":"_0-19-1-23-july-2019"},{"level":3,"title":"0.19.0 - 11 July, 2019","slug":"_0-19-0-11-july-2019"},{"level":3,"title":"0.18.4 - 10 July, 2019","slug":"_0-18-4-10-july-2019"},{"level":3,"title":"0.18.3 - 04 July, 2019","slug":"_0-18-3-04-july-2019"},{"level":3,"title":"0.18.2 - 03 July, 2019","slug":"_0-18-2-03-july-2019"},{"level":3,"title":"0.18.1 - 30 June, 2019","slug":"_0-18-1-30-june-2019"},{"level":3,"title":"0.18.0 - 26 June, 2019","slug":"_0-18-0-26-june-2019"},{"level":3,"title":"0.17.5 - 8 June, 2019","slug":"_0-17-5-8-june-2019"},{"level":3,"title":"0.17.4 - 8 June, 2019","slug":"_0-17-4-8-june-2019"},{"level":3,"title":"0.17.3 - 2 June, 2019","slug":"_0-17-3-2-june-2019"},{"level":3,"title":"0.17.2 - 1 June, 2019","slug":"_0-17-2-1-june-2019"},{"level":3,"title":"0.17.1 - 31 May, 2019","slug":"_0-17-1-31-may-2019"},{"level":3,"title":"0.17.0 - 28 May, 2019","slug":"_0-17-0-28-may-2019"},{"level":3,"title":"0.16.5 - 11 Apr, 2019","slug":"_0-16-5-11-apr-2019"},{"level":3,"title":"0.16.4 - 11 Apr, 2019","slug":"_0-16-4-11-apr-2019"},{"level":3,"title":"0.16.3 - 19 Dec, 2018","slug":"_0-16-3-19-dec-2018"},{"level":3,"title":"0.16.2 - 10 Dec, 2018","slug":"_0-16-2-10-dec-2018"},{"level":3,"title":"0.16.1 - 28 Nov, 2018","slug":"_0-16-1-28-nov-2018"},{"level":3,"title":"0.16.0 - 27 Nov, 2018","slug":"_0-16-0-27-nov-2018"},{"level":3,"title":"0.15.2 - 19 Jul, 2018","slug":"_0-15-2-19-jul-2018"},{"level":3,"title":"0.15.1 - 12 Jul, 2018","slug":"_0-15-1-12-jul-2018"},{"level":3,"title":"0.15.0 - 1 Jul, 2018","slug":"_0-15-0-1-jul-2018"},{"level":3,"title":"0.14.6 - 12 Apr, 2018","slug":"_0-14-6-12-apr-2018"},{"level":3,"title":"0.14.5 - 8 Apr, 2018","slug":"_0-14-5-8-apr-2018"},{"level":3,"title":"0.14.4 - 19 Feb, 2018","slug":"_0-14-4-19-feb-2018"},{"level":3,"title":"0.14.3 - 8 Feb, 2018","slug":"_0-14-3-8-feb-2018"},{"level":3,"title":"0.14.2 - 24 Nov, 2017","slug":"_0-14-2-24-nov-2017"},{"level":3,"title":"0.14.1 - 19 Nov, 2017","slug":"_0-14-1-19-nov-2017"},{"level":3,"title":"0.14.0 - 6 Nov, 2017","slug":"_0-14-0-6-nov-2017"},{"level":3,"title":"0.13.0 - 29 Apr, 2017","slug":"_0-13-0-29-apr-2017"},{"level":3,"title":"0.12.9 - 23 Mar, 2017","slug":"_0-12-9-23-mar-2017"},{"level":3,"title":"0.12.8 - 15 Mar, 2017","slug":"_0-12-8-15-mar-2017"},{"level":3,"title":"0.12.7 - 17 Feb, 2017","slug":"_0-12-7-17-feb-2017"},{"level":3,"title":"0.12.6 - 19 Oct, 2016","slug":"_0-12-6-19-oct-2016"},{"level":3,"title":"0.12.5 - 12 Oct, 2016","slug":"_0-12-5-12-oct-2016"},{"level":3,"title":"0.12.3 - 9 Oct, 2016","slug":"_0-12-3-9-oct-2016"},{"level":3,"title":"0.12.2 - 27 Sep, 2016","slug":"_0-12-2-27-sep-2016"},{"level":3,"title":"0.12.1 - 16 Sep, 2016","slug":"_0-12-1-16-sep-2016"},{"level":3,"title":"0.12.0 - 13 Sep, 2016","slug":"_0-12-0-13-sep-2016"},{"level":3,"title":"0.11.10 - 9 Aug, 2016","slug":"_0-11-10-9-aug-2016"},{"level":3,"title":"0.11.9 - 21 Jul, 2016","slug":"_0-11-9-21-jul-2016"},{"level":3,"title":"0.11.8 - 21 Jul, 2016","slug":"_0-11-8-21-jul-2016"},{"level":3,"title":"0.11.7 - 19 Jun, 2016","slug":"_0-11-7-19-jun-2016"},{"level":3,"title":"0.11.6 - 18 Jun, 2016","slug":"_0-11-6-18-jun-2016"},{"level":3,"title":"0.11.5 - 26 May, 2016","slug":"_0-11-5-26-may-2016"},{"level":3,"title":"0.11.4 - 22 May, 2016","slug":"_0-11-4-22-may-2016"},{"level":3,"title":"0.11.3 - 14 May, 2016","slug":"_0-11-3-14-may-2016"},{"level":3,"title":"0.11.2 - 14 May, 2016","slug":"_0-11-2-14-may-2016"},{"level":3,"title":"0.11.1 - 6 May, 2016","slug":"_0-11-1-6-may-2016"},{"level":3,"title":"0.11.0 - 5 May, 2016","slug":"_0-11-0-5-may-2016"},{"level":3,"title":"0.10.0 - 15 Feb, 2016","slug":"_0-10-0-15-feb-2016"},{"level":3,"title":"0.9.0 - Nov 2, 2015","slug":"_0-9-0-nov-2-2015"},{"level":3,"title":"0.8.6 - May 20, 2015","slug":"_0-8-6-may-20-2015"},{"level":3,"title":"0.8.5 - May 14, 2015","slug":"_0-8-5-may-14-2015"},{"level":3,"title":"0.8.4 - May 13, 2015","slug":"_0-8-4-may-13-2015"},{"level":3,"title":"0.8.3 - May 2, 2015","slug":"_0-8-3-may-2-2015"},{"level":3,"title":"0.8.2 - May 1, 2015","slug":"_0-8-2-may-1-2015"},{"level":3,"title":"0.8.1 - May 1, 2015","slug":"_0-8-1-may-1-2015"},{"level":3,"title":"0.8.0 - Apr 30, 2015","slug":"_0-8-0-apr-30-2015"},{"level":3,"title":"0.7.5 - Mar 9, 2015","slug":"_0-7-5-mar-9-2015"},{"level":3,"title":"0.7.4 - Feb 25, 2015","slug":"_0-7-4-feb-25-2015"},{"level":3,"title":"0.7.3 - Oct 3, 2014","slug":"_0-7-3-oct-3-2014"},{"level":3,"title":"0.7.2 - Oct 1, 2014","slug":"_0-7-2-oct-1-2014"},{"level":3,"title":"0.7.1 - Oct 1, 2014","slug":"_0-7-1-oct-1-2014"},{"level":3,"title":"0.7.0 - Oct 1, 2014","slug":"_0-7-0-oct-1-2014"},{"level":3,"title":"0.6.22 - July 10, 2014","slug":"_0-6-22-july-10-2014"},{"level":3,"title":"0.6.21 - July 9, 2014","slug":"_0-6-21-july-9-2014"},{"level":3,"title":"0.6.20 - June 30, 2014","slug":"_0-6-20-june-30-2014"},{"level":3,"title":"0.6.19 - June 27, 2014","slug":"_0-6-19-june-27-2014"},{"level":3,"title":"0.6.18 - June 25, 2014","slug":"_0-6-18-june-25-2014"},{"level":3,"title":"0.6.17 - June 23, 2014","slug":"_0-6-17-june-23-2014"},{"level":3,"title":"0.6.16 - June 18, 2014","slug":"_0-6-16-june-18-2014"},{"level":3,"title":"0.6.15 - June 14, 2014","slug":"_0-6-15-june-14-2014"},{"level":3,"title":"0.6.14 - June 14, 2014","slug":"_0-6-14-june-14-2014"},{"level":3,"title":"0.6.13 - June 12, 2014","slug":"_0-6-13-june-12-2014"},{"level":3,"title":"0.6.12 - June 10, 2014","slug":"_0-6-12-june-10-2014"},{"level":3,"title":"0.6.11 - June 10, 2014","slug":"_0-6-11-june-10-2014"},{"level":3,"title":"0.6.10 - June 10, 2014","slug":"_0-6-10-june-10-2014"},{"level":3,"title":"0.6.9 - June 9, 2014","slug":"_0-6-9-june-9-2014"},{"level":3,"title":"0.6.8 - June 9, 2014","slug":"_0-6-8-june-9-2014"},{"level":3,"title":"0.6.7 - June 9, 2014","slug":"_0-6-7-june-9-2014"},{"level":3,"title":"0.6.6 - June 9, 2014","slug":"_0-6-6-june-9-2014"},{"level":3,"title":"0.6.5 - June 9, 2014","slug":"_0-6-5-june-9-2014"},{"level":3,"title":"0.6.4 - June 9, 2014","slug":"_0-6-4-june-9-2014"},{"level":3,"title":"0.6.3 - June 6, 2014","slug":"_0-6-3-june-6-2014"},{"level":3,"title":"0.6.2 - June 4, 2014","slug":"_0-6-2-june-4-2014"},{"level":3,"title":"0.6.1 - June 4, 2014","slug":"_0-6-1-june-4-2014"},{"level":3,"title":"0.6.0 - June 4, 2014","slug":"_0-6-0-june-4-2014"},{"level":3,"title":"0.5.15 - June 4, 2014","slug":"_0-5-15-june-4-2014"},{"level":3,"title":"0.5.14 - May 6, 2014","slug":"_0-5-14-may-6-2014"},{"level":3,"title":"0.5.13 - April 2, 2014","slug":"_0-5-13-april-2-2014"},{"level":3,"title":"0.5.12 - Mar 31, 2014","slug":"_0-5-12-mar-31-2014"},{"level":3,"title":"0.5.11 - Mar 25, 2014","slug":"_0-5-11-mar-25-2014"},{"level":3,"title":"0.5.10 - Mar 19, 2014","slug":"_0-5-10-mar-19-2014"},{"level":3,"title":"0.5.9 - Mar 18, 2014","slug":"_0-5-9-mar-18-2014"},{"level":3,"title":"0.5.8 - Feb 27, 2014","slug":"_0-5-8-feb-27-2014"},{"level":3,"title":"0.5.7 - Feb 18, 2014","slug":"_0-5-7-feb-18-2014"},{"level":3,"title":"0.5.6 - Feb 5, 2014","slug":"_0-5-6-feb-5-2014"},{"level":3,"title":"0.5.5 - Jan 28, 2014","slug":"_0-5-5-jan-28-2014"},{"level":3,"title":"0.5.4 - Jan 7, 2014","slug":"_0-5-4-jan-7-2014"},{"level":3,"title":"0.5.3 - Jan 2, 2014","slug":"_0-5-3-jan-2-2014"},{"level":3,"title":"0.5.2 - Dec 18, 2013","slug":"_0-5-2-dec-18-2013"},{"level":3,"title":"0.5.1 - Dec 12, 2013","slug":"_0-5-1-dec-12-2013"},{"level":3,"title":"0.5.0 - Nov 25, 2013","slug":"_0-5-0-nov-25-2013"},{"level":3,"title":"0.4.13 - Oct 31, 2013","slug":"_0-4-13-oct-31-2013"},{"level":3,"title":"0.4.12 - Oct 29, 2013","slug":"_0-4-12-oct-29-2013"},{"level":3,"title":"0.4.11 - Oct 15, 2013","slug":"_0-4-11-oct-15-2013"},{"level":3,"title":"0.4.10 - Oct 14, 2013","slug":"_0-4-10-oct-14-2013"},{"level":3,"title":"0.4.9 - Oct 7, 2013","slug":"_0-4-9-oct-7-2013"},{"level":3,"title":"0.4.8 - Oct 2, 2013","slug":"_0-4-8-oct-2-2013"},{"level":3,"title":"0.4.7 - Sep 27, 2013","slug":"_0-4-7-sep-27-2013"},{"level":3,"title":"0.4.6 - Sep 25, 2013","slug":"_0-4-6-sep-25-2013"},{"level":3,"title":"0.4.5 - Sep 24, 2013","slug":"_0-4-5-sep-24-2013"},{"level":3,"title":"0.4.4 - Sep 22, 2013","slug":"_0-4-4-sep-22-2013"},{"level":3,"title":"0.4.3 - Sep 18, 2013","slug":"_0-4-3-sep-18-2013"},{"level":3,"title":"0.4.2 - Sep 17, 2013","slug":"_0-4-2-sep-17-2013"},{"level":3,"title":"0.4.1 - Sep 16, 2013","slug":"_0-4-1-sep-16-2013"},{"level":3,"title":"0.4.0 - Sep 13, 2013","slug":"_0-4-0-sep-13-2013"},{"level":3,"title":"0.2.6 - Aug 29, 2013","slug":"_0-2-6-aug-29-2013"},{"level":3,"title":"0.2.5 - Aug 25, 2013","slug":"_0-2-5-aug-25-2013"},{"level":3,"title":"0.2.4 - Aug 22, 2013","slug":"_0-2-4-aug-22-2013"},{"level":3,"title":"0.2.3 - Aug 22, 2013","slug":"_0-2-3-aug-22-2013"},{"level":3,"title":"0.2.2 - Aug 20, 2013","slug":"_0-2-2-aug-20-2013"},{"level":3,"title":"0.2.1 - Aug 13, 2013","slug":"_0-2-1-aug-13-2013"},{"level":3,"title":"0.2.0 - Aug 7, 2013","slug":"_0-2-0-aug-7-2013"},{"level":3,"title":"0.1.8 - July 7, 2013","slug":"_0-1-8-july-7-2013"},{"level":3,"title":"0.1.7 - June 12, 2013","slug":"_0-1-7-june-12-2013"},{"level":3,"title":"0.1.6 - June 9, 2013","slug":"_0-1-6-june-9-2013"},{"level":3,"title":"0.1.5 - June 9, 2013","slug":"_0-1-5-june-9-2013"},{"level":3,"title":"0.1.4 - May 22, 2013","slug":"_0-1-4-may-22-2013"},{"level":3,"title":"0.1.3 - May 18, 2013","slug":"_0-1-3-may-18-2013"},{"level":3,"title":"0.1.2 - May 15, 2013","slug":"_0-1-2-may-15-2013"},{"level":3,"title":"0.1.1 - May 14, 2013","slug":"_0-1-1-may-14-2013"},{"level":3,"title":"0.1.0 - May 13, 2013","slug":"_0-1-0-may-13-2013"}],"relativePath":"changelog.md"}',a={},o=t('<h2 id="changelog" tabindex="-1">Changelog <a class="header-anchor" href="#changelog" aria-hidden="true">#</a></h2><h3 id="_2-5-1-12-july-2023" tabindex="-1">2.5.1 - 12 July, 2023 <a class="header-anchor" href="#_2-5-1-12-july-2023" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Fix Linting <a href="https://github.com/knex/knex/issues/5460" target="_blank" rel="noopener noreferrer">#5455</a> - <a href="https://github.com/knex/knex/issues/5460" target="_blank" rel="noopener noreferrer">#5460</a></li></ul><h3 id="_2-5-0-08-july-2023" tabindex="-1">2.5.0 - 08 July, 2023 <a class="header-anchor" href="#_2-5-0-08-july-2023" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Add uuid helper function <a href="https://github.com/knex/knex/issues/5617" target="_blank" rel="noopener noreferrer">#5617</a></li><li>Add <code>nativeBindings</code> option to <code>better-sqlite3</code> options <a href="https://github.com/knex/knex/issues/5461" target="_blank" rel="noopener noreferrer">#5461</a></li><li>Add QueryBuilder#updateFrom <a href="https://github.com/knex/knex/issues/5386" target="_blank" rel="noopener noreferrer">#5386</a></li><li>Add readonly transaction access mode <a href="https://github.com/knex/knex/issues/5445" target="_blank" rel="noopener noreferrer">#5445</a></li><li>Add readonly option to Better-SQLite3 <a href="https://github.com/knex/knex/issues/5530" target="_blank" rel="noopener noreferrer">#5530</a></li><li>Add EXCEPT as a valid keyword <a href="https://github.com/knex/knex/issues/5357" target="_blank" rel="noopener noreferrer">#5357</a></li><li>Add ability to prepend query comments <a href="https://github.com/knex/knex/issues/5289" target="_blank" rel="noopener noreferrer">#5289</a></li><li>Add fetchAsString option <a href="https://github.com/knex/knex/issues/5484" target="_blank" rel="noopener noreferrer">#5484</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Avoid password leaks on query logs <a href="https://github.com/knex/knex/issues/5559" target="_blank" rel="noopener noreferrer">#5559</a></li><li>Add knex.mjs to files in package.json <a href="https://github.com/knex/knex/issues/5518" target="_blank" rel="noopener noreferrer">#5518</a></li><li>Handle numeric array elements in .orderBy() <a href="https://github.com/knex/knex/issues/5551" target="_blank" rel="noopener noreferrer">#5551</a></li><li>Attach error handler early enough <a href="https://github.com/knex/knex/issues/5552" target="_blank" rel="noopener noreferrer">#5552</a></li><li>Fix Returning * in Oracle <a href="https://github.com/knex/knex/issues/5598" target="_blank" rel="noopener noreferrer">#5598</a></li><li>Fix indexType option in <code>Postgres</code> <a href="https://github.com/knex/knex/issues/5601" target="_blank" rel="noopener noreferrer">#5601</a></li><li>Add mjs extension type <a href="https://github.com/knex/knex/issues/5616" target="_blank" rel="noopener noreferrer">#5616</a></li><li>Use implicit check on json fields for OracleDB <a href="https://github.com/knex/knex/issues/5478" target="_blank" rel="noopener noreferrer">#5478</a></li><li>Fix when manually close source stream <a href="https://github.com/knex/knex/issues/5466" target="_blank" rel="noopener noreferrer">#5466</a></li><li>Fix case sensitive issue with get table <a href="https://github.com/knex/knex/issues/5509" target="_blank" rel="noopener noreferrer">#5509</a></li></ul><p><strong>Typings</strong></p><ul><li>Add Object syntax overload to increment method <a href="https://github.com/knex/knex/issues/5512" target="_blank" rel="noopener noreferrer">#5512</a></li><li>Add object syntax overload to decrement method <a href="https://github.com/knex/knex/issues/5555" target="_blank" rel="noopener noreferrer">#5555</a></li><li>Fix typing for toSql <a href="https://github.com/knex/knex/issues/5594" target="_blank" rel="noopener noreferrer">#5594</a></li><li>Add ResolveTableType for <code>.merge()</code> <a href="https://github.com/knex/knex/issues/5605" target="_blank" rel="noopener noreferrer">#5605</a></li><li>Add missing types for havingNull and havingNotNull <a href="https://github.com/knex/knex/issues/5529" target="_blank" rel="noopener noreferrer">#5529</a></li><li>Add collate to the columnbuilder interface <a href="https://github.com/knex/knex/issues/5568" target="_blank" rel="noopener noreferrer">#5568</a></li><li>TableBuilder methods return the SchemaBuilder. <a href="https://github.com/knex/knex/issues/5486" target="_blank" rel="noopener noreferrer">#5486</a></li></ul><h3 id="_2-4-2-22-january-2023" tabindex="-1">2.4.2 - 22 January, 2023 <a class="header-anchor" href="#_2-4-2-22-january-2023" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>CLI: Fix incorrent EOL causing errors on Linux <a href="https://github.com/knex/knex/issues/5455" target="_blank" rel="noopener noreferrer">#5455</a></li></ul><h3 id="_2-4-1-18-january-2023" tabindex="-1">2.4.1 - 18 January, 2023 <a class="header-anchor" href="#_2-4-1-18-january-2023" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Fix Postgres Malformed array literal 2.4.0 Regression - <a href="https://github.com/knex/knex/issues/5439" target="_blank" rel="noopener noreferrer">#5439</a></li></ul><h3 id="_2-4-0-6-january-2023" tabindex="-1">2.4.0 - 6 January, 2023 <a class="header-anchor" href="#_2-4-0-6-january-2023" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Support partial unique indexes <a href="https://github.com/knex/knex/issues/5316" target="_blank" rel="noopener noreferrer">#5316</a></li><li>Make compiling SQL in error message optional <a href="https://github.com/knex/knex/issues/5282" target="_blank" rel="noopener noreferrer">#5282</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Insert array into json column <a href="https://github.com/knex/knex/issues/5321" target="_blank" rel="noopener noreferrer">#5321</a></li><li>Fix unexpected max acquire-timeout <a href="https://github.com/knex/knex/issues/5377" target="_blank" rel="noopener noreferrer">#5377</a></li><li>Fix: orWhereJson <a href="https://github.com/knex/knex/issues/5361" target="_blank" rel="noopener noreferrer">#5361</a></li><li>MySQL: Add assertion for basic where clause not to be object or array <a href="https://github.com/knex/knex/issues/1227" target="_blank" rel="noopener noreferrer">#1227</a></li><li>SQLite: Fix changing the default value of a boolean column in SQLite <a href="https://github.com/knex/knex/issues/5319" target="_blank" rel="noopener noreferrer">#5319</a></li></ul><p><strong>Typings</strong></p><ul><li>add missing type for &#39;expirationChecker&#39; on PgConnectionConfig <a href="https://github.com/knex/knex/issues/5334" target="_blank" rel="noopener noreferrer">#5334</a></li></ul><h3 id="_2-3-0-31-august-2022" tabindex="-1">2.3.0 - 31 August, 2022 <a class="header-anchor" href="#_2-3-0-31-august-2022" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>PostgreSQL: Explicit jsonb support for custom pg clients <a href="https://github.com/knex/knex/issues/5201" target="_blank" rel="noopener noreferrer">#5201</a></li><li>SQLite: Support returning with sqlite3 and better-sqlite3 <a href="https://github.com/knex/knex/issues/5285" target="_blank" rel="noopener noreferrer">#5285</a></li><li>MSSQL: Implement mapBinding mssql dialect option <a href="https://github.com/knex/knex/issues/5292" target="_blank" rel="noopener noreferrer">#5292</a></li></ul><p><strong>Typings</strong></p><ul><li>Update types for TS 4.8 <a href="https://github.com/knex/knex/issues/5279" target="_blank" rel="noopener noreferrer">#5279</a></li><li>Fix typo <a href="https://github.com/knex/knex/issues/5267" target="_blank" rel="noopener noreferrer">#5267</a></li><li>Fix WhereJsonObject withCompositeTableType <a href="https://github.com/knex/knex/issues/5306" target="_blank" rel="noopener noreferrer">#5306</a></li><li>Fix AnalyticFunction type <a href="https://github.com/knex/knex/issues/5304" target="_blank" rel="noopener noreferrer">#5304</a></li><li>Infer specific column value type in aggregations <a href="https://github.com/knex/knex/issues/5297" target="_blank" rel="noopener noreferrer">#5297</a></li></ul><h3 id="_2-2-0-18-july-2022" tabindex="-1">2.2.0 - 18 July, 2022 <a class="header-anchor" href="#_2-2-0-18-july-2022" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Inline primary key creation for postgres flavours <a href="https://github.com/knex/knex/issues/5233" target="_blank" rel="noopener noreferrer">#5233</a></li><li>SQLite: Add warning for undefined connection file <a href="https://github.com/knex/knex/issues/5223" target="_blank" rel="noopener noreferrer">#5223</a></li><li>MSSQL: Add JSON parameter support for connection <a href="https://github.com/knex/knex/issues/5200" target="_blank" rel="noopener noreferrer">#5200</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>PostgreSQL: add primaryKey option for uuid <a href="https://github.com/knex/knex/issues/5212" target="_blank" rel="noopener noreferrer">#5212</a></li></ul><p><strong>Typings</strong></p><ul><li>Add promisable and better types <a href="https://github.com/knex/knex/issues/5222" target="_blank" rel="noopener noreferrer">#5222</a></li><li>Update raw query bind parameter type <a href="https://github.com/knex/knex/issues/5208" target="_blank" rel="noopener noreferrer">#5208</a></li></ul><h3 id="_2-1-0-26-may-2022" tabindex="-1">2.1.0 - 26 May, 2022 <a class="header-anchor" href="#_2-1-0-26-may-2022" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Improve bundling experience to safely import dialects while using static paths <a href="https://github.com/knex/knex/issues/5142" target="_blank" rel="noopener noreferrer">#5142</a></li><li>Implement extendable builders <a href="https://github.com/knex/knex/issues/5041" target="_blank" rel="noopener noreferrer">#5041</a></li><li>PostgreSQL: Refresh materialized view concurrently <a href="https://github.com/knex/knex/issues/5166" target="_blank" rel="noopener noreferrer">#5166</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Use correct paths in package.json browser field <a href="https://github.com/knex/knex/issues/5174" target="_blank" rel="noopener noreferrer">#5174</a></li><li>MariaDB: Fix &#39;NULL&#39; returned instead of NULL on MariaDB 10.2.6+ <a href="https://github.com/knex/knex/issues/5181" target="_blank" rel="noopener noreferrer">#5181</a></li><li>MySQL: fix hasColumn Error (hasColumn (&#39;a_id&#39;) is true, but hasColumn(&#39;a_Id&#39;) is false) <a href="https://github.com/knex/knex/issues/5148" target="_blank" rel="noopener noreferrer">#5148</a></li><li>MSSQL: Fix .hasTable result when using .withSchema <a href="https://github.com/knex/knex/issues/5176" target="_blank" rel="noopener noreferrer">#5176</a></li><li>Oracle: correctly INSERTS Buffer <a href="https://github.com/knex/knex/issues/4869" target="_blank" rel="noopener noreferrer">#4869</a></li></ul><p><strong>Typings</strong></p><ul><li>Update type definitions for pg connection <a href="https://github.com/knex/knex/issues/5139" target="_blank" rel="noopener noreferrer">#5139</a></li></ul><h3 id="_2-0-0-21-april-2022" tabindex="-1">2.0.0 - 21 April, 2022 <a class="header-anchor" href="#_2-0-0-21-april-2022" aria-hidden="true">#</a></h3><p><strong>Breaking changes</strong></p><ul><li>Restore sqlite3 package <a href="https://github.com/knex/knex/issues/5136" target="_blank" rel="noopener noreferrer">#5136</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Migrate Husky from 4 to 7 <a href="https://github.com/knex/knex/issues/5137" target="_blank" rel="noopener noreferrer">#5137</a></li><li>Migrate Jake to 10.8.5 <a href="https://github.com/knex/knex/issues/5138" target="_blank" rel="noopener noreferrer">#5138</a></li></ul><h3 id="_1-0-7-13-march-2022" tabindex="-1">1.0.7 - 13 March, 2022 <a class="header-anchor" href="#_1-0-7-13-march-2022" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>CLI: Fix cli migrate:make SQLite dependency <a href="https://github.com/knex/knex/issues/5106" target="_blank" rel="noopener noreferrer">#5106</a></li></ul><h3 id="_1-0-6-12-march-2022" tabindex="-1">1.0.6 - 12 March, 2022 <a class="header-anchor" href="#_1-0-6-12-march-2022" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>PostgreSQL: Wait for search path to be set before returning connection <a href="https://github.com/knex/knex/issues/5107" target="_blank" rel="noopener noreferrer">#5107</a></li><li>CLI: No client override during migrate:make <a href="https://github.com/knex/knex/issues/5109" target="_blank" rel="noopener noreferrer">#5109</a></li></ul><h3 id="_1-0-5-05-march-2022" tabindex="-1">1.0.5 - 05 March, 2022 <a class="header-anchor" href="#_1-0-5-05-march-2022" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Override knexfile options with CLI options <a href="https://github.com/knex/knex/issues/4047" target="_blank" rel="noopener noreferrer">#4047</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Stringify json value in update <a href="https://github.com/knex/knex/issues/5063" target="_blank" rel="noopener noreferrer">#5063</a></li><li>Fix isModuleType() for yarn <a href="https://github.com/knex/knex/issues/4447" target="_blank" rel="noopener noreferrer">#4447</a></li><li>Wrapped Unions Fixes <a href="https://github.com/knex/knex/issues/5072" target="_blank" rel="noopener noreferrer">#5072</a></li><li>SQLite: Fix @vscode-sqlite3 error message <a href="https://github.com/knex/knex/issues/5081" target="_blank" rel="noopener noreferrer">#5081</a></li><li>CLI: Fix completed migration listing <a href="https://github.com/knex/knex/issues/5060" target="_blank" rel="noopener noreferrer">#5060</a></li></ul><p><strong>Typings</strong></p><ul><li>Make default generic parameters of <code>Knex</code> match the generic parameter types of <code>knex</code> <a href="https://github.com/knex/knex/issues/5021" target="_blank" rel="noopener noreferrer">#5021</a></li><li>Update knex types for TS 4.7 <a href="https://github.com/knex/knex/issues/5095" target="_blank" rel="noopener noreferrer">#5095</a></li></ul><h3 id="_1-0-4-13-march-2022" tabindex="-1">1.0.4 - 13 March, 2022 <a class="header-anchor" href="#_1-0-4-13-march-2022" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Add whereLike functions <a href="https://github.com/knex/knex/issues/5044" target="_blank" rel="noopener noreferrer">#5044</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix orWhereJsonPath clause <a href="https://github.com/knex/knex/issues/5022" target="_blank" rel="noopener noreferrer">#5022</a></li><li>Subquery in on clause missing parenthesis <a href="https://github.com/knex/knex/issues/5049" target="_blank" rel="noopener noreferrer">#5049</a></li><li>Rework Union Wrapping <a href="https://github.com/knex/knex/issues/5030" target="_blank" rel="noopener noreferrer">#5030</a></li><li>Oracle: Fix batch inserts with DEFAULT values with OracleDB <a href="https://github.com/knex/knex/issues/2592" target="_blank" rel="noopener noreferrer">#2592</a> <a href="https://github.com/knex/knex/issues/5037" target="_blank" rel="noopener noreferrer">#5037</a></li></ul><p><strong>Typings</strong></p><ul><li>Fix types for &quot;returning&quot; methods <a href="https://github.com/knex/knex/issues/5031" target="_blank" rel="noopener noreferrer">#5031</a></li><li>createTableLike callback should be optional <a href="https://github.com/knex/knex/issues/5055" target="_blank" rel="noopener noreferrer">#5055</a></li></ul><p><strong>Documentation</strong></p><ul><li>Website URL changed to <a href="https://knex.github.io/documentation/" target="_blank" rel="noopener noreferrer">https://knex.github.io/documentation/</a></li></ul><h3 id="_1-0-3-11-february-2022" tabindex="-1">1.0.3 - 11 February, 2022 <a class="header-anchor" href="#_1-0-3-11-february-2022" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Fix error message for missing migration files <a href="https://github.com/knex/knex/issues/4937" target="_blank" rel="noopener noreferrer">#4937</a></li><li>Add withMaterialized and withNotMaterialized to method-constants <a href="https://github.com/knex/knex/issues/5009" target="_blank" rel="noopener noreferrer">#5009</a></li><li>PostgreSQL: Fix whereJsonPath queries <a href="https://github.com/knex/knex/issues/5011" target="_blank" rel="noopener noreferrer">#5011</a></li><li>PostgreSQL: Fix delete joins <a href="https://github.com/knex/knex/issues/5016" target="_blank" rel="noopener noreferrer">#5016</a></li><li>CockroachDB: Fix whereJsonPath queries <a href="https://github.com/knex/knex/issues/5011" target="_blank" rel="noopener noreferrer">#5011</a></li><li>MySQL: Create primary keys in same statement <a href="https://github.com/knex/knex/issues/5017" target="_blank" rel="noopener noreferrer">#5017</a></li></ul><p><strong>Typings</strong></p><ul><li>Fix type definition for getMigration in MigrationSource <a href="https://github.com/knex/knex/issues/4998" target="_blank" rel="noopener noreferrer">#4998</a></li><li>Fix argument type of alter method <a href="https://github.com/knex/knex/issues/4996" target="_blank" rel="noopener noreferrer">#4996</a></li></ul><p><strong>Improvements</strong></p><ul><li>Use async / await syntax in seeds as default <a href="https://github.com/knex/knex/issues/5005" target="_blank" rel="noopener noreferrer">#5005</a></li></ul><p><strong>Documentation</strong></p><ul><li>Add Firebird dialect to <a href="http://ECOSYSTEM.md" target="_blank" rel="noopener noreferrer">ECOSYSTEM.md</a> <a href="https://github.com/knex/knex/issues/5003" target="_blank" rel="noopener noreferrer">#5003</a></li></ul><h3 id="_1-0-2-02-february-2022" tabindex="-1">1.0.2 - 02 February, 2022 <a class="header-anchor" href="#_1-0-2-02-february-2022" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Support of MATERIALIZED and NOT MATERIALIZED with WITH/CTE <a href="https://github.com/knex/knex/issues/4940" target="_blank" rel="noopener noreferrer">#4940</a></li><li>Add raw support in onConflict clause <a href="https://github.com/knex/knex/issues/4960" target="_blank" rel="noopener noreferrer">#4960</a></li><li>Alter nullable constraint when alterNullable is set to true <a href="https://github.com/knex/knex/issues/4730" target="_blank" rel="noopener noreferrer">#4730</a></li><li>Add alterType parameter for alter function <a href="https://github.com/knex/knex/issues/4967" target="_blank" rel="noopener noreferrer">#4967</a></li><li>Support string json in json values <a href="https://github.com/knex/knex/issues/4988" target="_blank" rel="noopener noreferrer">#4988</a></li><li>MySQL: add with clause <a href="https://github.com/knex/knex/issues/4508" target="_blank" rel="noopener noreferrer">#4508</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix error message for missing migration files <a href="https://github.com/knex/knex/issues/4937" target="_blank" rel="noopener noreferrer">#4937</a></li><li>Move deferrable to after on update/on delete <a href="https://github.com/knex/knex/issues/4976" target="_blank" rel="noopener noreferrer">#4976</a></li><li>Do not use sys.tables to find if a table exists <a href="https://github.com/knex/knex/issues/2328" target="_blank" rel="noopener noreferrer">#2328</a></li><li>PostgreSQL: Fix Order nulls <a href="https://github.com/knex/knex/issues/4989" target="_blank" rel="noopener noreferrer">#4989</a></li><li>MySQL: Fix collation when renaming column <a href="https://github.com/knex/knex/issues/2666" target="_blank" rel="noopener noreferrer">#2666</a></li><li>SQLite: Same boolean handling in better-sqlite3 as in sqlite3 <a href="https://github.com/knex/knex/issues/4982" target="_blank" rel="noopener noreferrer">#4982</a></li></ul><p><strong>Typings</strong></p><ul><li>WhereILike - fix typo <a href="https://github.com/knex/knex/issues/4941" target="_blank" rel="noopener noreferrer">#4941</a></li></ul><h3 id="_1-0-1-16-january-2022" tabindex="-1">1.0.1 - 16 January, 2022 <a class="header-anchor" href="#_1-0-1-16-january-2022" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Fix package.json metadata</li></ul><h3 id="_1-0-0-16-january-2022" tabindex="-1">1.0.0 - 16 January, 2022 <a class="header-anchor" href="#_1-0-0-16-january-2022" aria-hidden="true">#</a></h3><p><strong>Breaking changes</strong></p><ul><li>Dropped support for Node 10;</li><li>Replaced unsupported <code>sqlite3</code> driver with <code>@vscode/sqlite3</code>;</li><li>Changed data structure from <code>RETURNING</code> operation to be consistent with <code>SELECT</code>;</li><li>Changed Migrator to return list of migrations as objects consistently.</li></ul><p><strong>New features</strong></p><ul><li>Support fromRaw <a href="https://github.com/knex/knex/issues/4781" target="_blank" rel="noopener noreferrer">#4781</a></li><li>Support zero precision in timestamp/datetime <a href="https://github.com/knex/knex/issues/4784" target="_blank" rel="noopener noreferrer">#4784</a></li><li>Support whereLike and whereILike <a href="https://github.com/knex/knex/issues/4779" target="_blank" rel="noopener noreferrer">#4779</a></li><li>Add JSDoc (TS flavor) to stub files <a href="https://github.com/knex/knex/issues/4809" target="_blank" rel="noopener noreferrer">#4809</a></li><li>Allow skip binding in limit and offset <a href="https://github.com/knex/knex/issues/4811" target="_blank" rel="noopener noreferrer">#4811</a></li><li>Support creating a new table in the database based on another table <a href="https://github.com/knex/knex/issues/4821" target="_blank" rel="noopener noreferrer">#4821</a></li><li>Accept Raw on onIn joins <a href="https://github.com/knex/knex/issues/4830" target="_blank" rel="noopener noreferrer">#4830</a></li><li>Implement support for custom seed sources <a href="https://github.com/knex/knex/issues/4842" target="_blank" rel="noopener noreferrer">#4842</a></li><li>Add binary uuid option <a href="https://github.com/knex/knex/issues/4836" target="_blank" rel="noopener noreferrer">#4836</a></li><li>ForUpdate array parameter <a href="https://github.com/knex/knex/issues/4882" target="_blank" rel="noopener noreferrer">#4882</a></li><li>Add camel case to timestamps method <a href="https://github.com/knex/knex/issues/4803" target="_blank" rel="noopener noreferrer">#4803</a></li><li>Advanced JSON support <a href="https://github.com/knex/knex/issues/4859" target="_blank" rel="noopener noreferrer">#4859</a></li><li>Add type to TypeScript knexfile <a href="https://github.com/knex/knex/issues/4909" target="_blank" rel="noopener noreferrer">#4909</a></li><li>Checks Constraints Support <a href="https://github.com/knex/knex/issues/4874" target="_blank" rel="noopener noreferrer">#4874</a></li><li>Support creating multiple PKs with increments <a href="https://github.com/knex/knex/issues/4903" target="_blank" rel="noopener noreferrer">#4903</a></li><li>Enable wrapIdentifier for SQLite .hasTable <a href="https://github.com/knex/knex/issues/4915" target="_blank" rel="noopener noreferrer">#4915</a></li><li>MSSQL: Add support for unique constraint <a href="https://github.com/knex/knex/issues/4887" target="_blank" rel="noopener noreferrer">#4887</a></li><li>SQLite: New dialect, using better-sqlite3 driver <a href="https://github.com/knex/knex/issues/4871" target="_blank" rel="noopener noreferrer">#4871</a></li><li>SQLite: Switch to @vscode/sqlite3 <a href="https://github.com/knex/knex/issues/4866" target="_blank" rel="noopener noreferrer">#4866</a></li><li>SQLite: Support createViewOrReplace <a href="https://github.com/knex/knex/issues/4856" target="_blank" rel="noopener noreferrer">#4856</a></li><li>SQLite: Support RETURNING statements for better-sqlite3 driver <a href="https://github.com/knex/knex/issues/4934" target="_blank" rel="noopener noreferrer">#4934</a></li><li>PostgreSQL: Support JOIN and USING syntax for Delete Statement <a href="https://github.com/knex/knex/issues/4800" target="_blank" rel="noopener noreferrer">#4800</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix overzealous warning on use of whereNot with &quot;in&quot; or &quot;between&quot; <a href="https://github.com/knex/knex/issues/4780" target="_blank" rel="noopener noreferrer">#4780</a></li><li>Fix Union all + first syntax error <a href="https://github.com/knex/knex/issues/4799" target="_blank" rel="noopener noreferrer">#4799</a></li><li>Make view columns optional in create view like <a href="https://github.com/knex/knex/issues/4829" target="_blank" rel="noopener noreferrer">#4829</a></li><li>Insert lock row fix during migration <a href="https://github.com/knex/knex/issues/4865" target="_blank" rel="noopener noreferrer">#4865</a></li><li>Fix for createViewOrReplace <a href="https://github.com/knex/knex/issues/4856" target="_blank" rel="noopener noreferrer">#4856</a></li><li>SQLite: Fix foreign key constraints when altering a table <a href="https://github.com/knex/knex/issues/4189" target="_blank" rel="noopener noreferrer">#4189</a></li><li>MySQL: Validate connection fix <a href="https://github.com/knex/knex/issues/4794" target="_blank" rel="noopener noreferrer">#4794</a></li><li>MySQL: Set comment size warning limit to 1024 <a href="https://github.com/knex/knex/issues/4867" target="_blank" rel="noopener noreferrer">#4867</a></li></ul><p><strong>Typings</strong></p><ul><li>Allow string indexType in index creation <a href="https://github.com/knex/knex/issues/4791" target="_blank" rel="noopener noreferrer">#4791</a></li><li>Add missing ints typings <a href="https://github.com/knex/knex/issues/4832" target="_blank" rel="noopener noreferrer">#4832</a></li><li>Returning method types <a href="https://github.com/knex/knex/issues/4881" target="_blank" rel="noopener noreferrer">#4881</a></li><li>Improve columnInfo type <a href="https://github.com/knex/knex/issues/4868" target="_blank" rel="noopener noreferrer">#4868</a></li></ul><h3 id="_0-95-15-22-december-2021" tabindex="-1">0.95.15 - 22 December, 2021 <a class="header-anchor" href="#_0-95-15-22-december-2021" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Oracle:</li><li>MariaDB: lock row fix during migration in MariaDB and Oracle <a href="https://github.com/knex/knex/issues/4865" target="_blank" rel="noopener noreferrer">#4865</a></li></ul><h3 id="_0-95-14-09-november-2021" tabindex="-1">0.95.14 - 09 November, 2021 <a class="header-anchor" href="#_0-95-14-09-november-2021" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>MySQL: mysql2 dialect validate connection fix <a href="https://github.com/knex/knex/issues/4794" target="_blank" rel="noopener noreferrer">#4794</a></li></ul><h3 id="_0-95-13-02-november-2021" tabindex="-1">0.95.13 - 02 November, 2021 <a class="header-anchor" href="#_0-95-13-02-november-2021" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>PostgreSQL: Support zero precision in timestamp/datetime <a href="https://github.com/knex/knex/issues/4784" target="_blank" rel="noopener noreferrer">#4784</a></li></ul><p><strong>Typings</strong></p><ul><li>Allow string indexType in index creation <a href="https://github.com/knex/knex/issues/4791" target="_blank" rel="noopener noreferrer">#4791</a></li></ul><h3 id="_0-95-12-28-october-2021" tabindex="-1">0.95.12 - 28 October, 2021 <a class="header-anchor" href="#_0-95-12-28-october-2021" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>New dialect: CockroachDB <a href="https://github.com/knex/knex/issues/4742" target="_blank" rel="noopener noreferrer">#4742</a></li><li>New dialect: pg-native <a href="https://github.com/knex/knex/issues/4327" target="_blank" rel="noopener noreferrer">#4327</a></li><li>CockroachDB: add support for upsert <a href="https://github.com/knex/knex/issues/4767" target="_blank" rel="noopener noreferrer">#4767</a></li><li>PostgreSQL: Support SELECT .. FOR NO KEY UPDATE / KEY SHARE row level locking clauses <a href="https://github.com/knex/knex/issues/4755" target="_blank" rel="noopener noreferrer">#4755</a></li><li>PostgreSQL: Add support for &#39;CASCADE&#39; in PostgreSQL &#39;DROP SCHEMA&#39; queries <a href="https://github.com/knex/knex/issues/4713" target="_blank" rel="noopener noreferrer">#4713</a></li><li>MySQL: Add storage engine index Type support to index() and unique() schema <a href="https://github.com/knex/knex/issues/4756" target="_blank" rel="noopener noreferrer">#4756</a></li><li>MSSQL: Support table.primary, table.unique variant with options object <a href="https://github.com/knex/knex/issues/4710" target="_blank" rel="noopener noreferrer">#4710</a></li><li>SQLite: Add setNullable support to SQLite <a href="https://github.com/knex/knex/issues/4684" target="_blank" rel="noopener noreferrer">#4684</a></li><li>Add geometry column building <a href="https://github.com/knex/knex/issues/4776" target="_blank" rel="noopener noreferrer">#4776</a></li><li>Add support for creating table copies <a href="https://github.com/knex/knex/issues/1373" target="_blank" rel="noopener noreferrer">#1373</a></li><li>Implement support for views and materialized views <a href="https://github.com/knex/knex/issues/1626" target="_blank" rel="noopener noreferrer">#1626</a></li><li>Implement partial index support <a href="https://github.com/knex/knex/issues/4768" target="_blank" rel="noopener noreferrer">#4768</a></li><li>Support for &#39;is null&#39; in &#39;order by&#39; <a href="https://github.com/knex/knex/issues/3667" target="_blank" rel="noopener noreferrer">#3667</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix support for Oracle connections passed via knex.connection() <a href="https://github.com/knex/knex/issues/4757" target="_blank" rel="noopener noreferrer">#4757</a></li><li>Avoid inserting multiple locks if a migration lock already exists <a href="https://github.com/knex/knex/issues/4694" target="_blank" rel="noopener noreferrer">#4694</a></li></ul><p><strong>Typings</strong></p><ul><li>Some TableBuilder methods return wrong types <a href="https://github.com/knex/knex/issues/4764" target="_blank" rel="noopener noreferrer">#4764</a></li><li>Update JoinRaw bindings type to accept arrays <a href="https://github.com/knex/knex/issues/4752" target="_blank" rel="noopener noreferrer">#4752</a></li><li>fix onDelete/onUpdate for ColumnBuilder <a href="https://github.com/knex/knex/issues/4656" target="_blank" rel="noopener noreferrer">#4656</a></li></ul><h3 id="_0-95-11-03-september-2021" tabindex="-1">0.95.11 - 03 September, 2021 <a class="header-anchor" href="#_0-95-11-03-september-2021" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Add support for nullability modification via schema builder (table.setNullable() and table.dropNullable()) <a href="https://github.com/knex/knex/issues/4657" target="_blank" rel="noopener noreferrer">#4657</a></li><li>MySQL: Add support for mysql/mariadb-client JSON parameters in connectionURIs <a href="https://github.com/knex/knex/issues/4629" target="_blank" rel="noopener noreferrer">#4629</a></li><li>MSSQL: Support comments as MS_Description properties <a href="https://github.com/knex/knex/issues/4632" target="_blank" rel="noopener noreferrer">#4632</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix Analytic orderBy and partitionBy to follow the SQL documentation <a href="https://github.com/knex/knex/issues/4602" target="_blank" rel="noopener noreferrer">#4602</a></li><li>CLI: fix migrate:up for migrations disabling transactions <a href="https://github.com/knex/knex/issues/4550" target="_blank" rel="noopener noreferrer">#4550</a></li><li>SQLite: Fix adding a column with a foreign key constraint in SQLite <a href="https://github.com/knex/knex/issues/4649" target="_blank" rel="noopener noreferrer">#4649</a></li><li>MSSQL: columnInfo() support case-sensitive database collations <a href="https://github.com/knex/knex/issues/4633" target="_blank" rel="noopener noreferrer">#4633</a></li><li>MSSQL: Generate valid SQL for withRecursive() <a href="https://github.com/knex/knex/issues/4514" target="_blank" rel="noopener noreferrer">#4514</a></li><li>Oracle: withRecursive: omit invalid RECURSIVE keyword, include column list <a href="https://github.com/knex/knex/issues/4514" target="_blank" rel="noopener noreferrer">#4514</a></li></ul><p><strong>Improvements</strong></p><ul><li>Add .mjs migration and seed stubs <a href="https://github.com/knex/knex/issues/4631" target="_blank" rel="noopener noreferrer">#4631</a></li><li>SQLite: Clean up DDL handling and move all operations to the parser-based approach <a href="https://github.com/knex/knex/issues/4648" target="_blank" rel="noopener noreferrer">#4648</a></li></ul><h3 id="_0-95-10-20-august-2021" tabindex="-1">0.95.10 - 20 August, 2021 <a class="header-anchor" href="#_0-95-10-20-august-2021" aria-hidden="true">#</a></h3><p><strong>Improvements</strong></p><ul><li>Use sys info function instead of connection db name <a href="https://github.com/knex/knex/issues/4623" target="_blank" rel="noopener noreferrer">#4623</a></li></ul><p><strong>Typings</strong></p><ul><li>Deferrable and withkeyName should not be in ColumnBuilder <a href="https://github.com/knex/knex/issues/4600" target="_blank" rel="noopener noreferrer">#4600</a></li></ul><h3 id="_0-95-9-31-july-2021" tabindex="-1">0.95.9 - 31 July, 2021 <a class="header-anchor" href="#_0-95-9-31-july-2021" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Oracle: support specifying schema for dropTable and dropSequence <a href="https://github.com/knex/knex/issues/4596" target="_blank" rel="noopener noreferrer">#4596</a></li><li>Oracle: support specifying schema for autoincrement <a href="https://github.com/knex/knex/issues/4594" target="_blank" rel="noopener noreferrer">#4594</a></li></ul><p><strong>Typings</strong></p><ul><li>Add TypeScript support for deferrable, new Primary/Unique syntax <a href="https://github.com/knex/knex/issues/4589" target="_blank" rel="noopener noreferrer">#4589</a></li></ul><h3 id="_0-95-8-25-july-2021" tabindex="-1">0.95.8 - 25 July, 2021 <a class="header-anchor" href="#_0-95-8-25-july-2021" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Add deferrable support for constraint <a href="https://github.com/knex/knex/issues/4584" target="_blank" rel="noopener noreferrer">#4584</a></li><li>Implement delete with join <a href="https://github.com/knex/knex/issues/4568" target="_blank" rel="noopener noreferrer">#4568</a></li><li>Add DPI error codes for Oracle <a href="https://github.com/knex/knex/issues/4536" target="_blank" rel="noopener noreferrer">#4536</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fixing PostgreSQL datetime and timestamp column created with wrong format <a href="https://github.com/knex/knex/issues/4578" target="_blank" rel="noopener noreferrer">#4578</a></li></ul><p><strong>Typings</strong></p><ul><li>Improve analytic types <a href="https://github.com/knex/knex/issues/4576" target="_blank" rel="noopener noreferrer">#4576</a></li><li>MSSQL: Add trustServerCertificate option <a href="https://github.com/knex/knex/issues/4500" target="_blank" rel="noopener noreferrer">#4500</a></li></ul><h3 id="_0-95-7-10-july-2021" tabindex="-1">0.95.7 - 10 July, 2021 <a class="header-anchor" href="#_0-95-7-10-july-2021" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Add ability to omit columns on an onConflict().ignore() <a href="https://github.com/knex/knex/issues/4557" target="_blank" rel="noopener noreferrer">#4557</a></li><li>CLI: Log error message <a href="https://github.com/knex/knex/issues/4534" target="_blank" rel="noopener noreferrer">#4534</a></li></ul><p><strong>Typings</strong></p><ul><li>Export Knex.TransactionConfig <a href="https://github.com/knex/knex/issues/4498" target="_blank" rel="noopener noreferrer">#4498</a></li><li>Include options object in count(Distinct) typings <a href="https://github.com/knex/knex/issues/4491" target="_blank" rel="noopener noreferrer">#4491</a></li><li>Add types for analytic functions <a href="https://github.com/knex/knex/issues/4544" target="_blank" rel="noopener noreferrer">#4544</a></li></ul><h3 id="_0-95-6-17-may-2021" tabindex="-1">0.95.6 - 17 May, 2021 <a class="header-anchor" href="#_0-95-6-17-may-2021" aria-hidden="true">#</a></h3><p><strong>Typings</strong></p><ul><li>Export TransactionProvider type <a href="https://github.com/knex/knex/issues/4489" target="_blank" rel="noopener noreferrer">#4489</a></li></ul><h3 id="_0-95-5-11-may-2021" tabindex="-1">0.95.5 - 11 May, 2021 <a class="header-anchor" href="#_0-95-5-11-may-2021" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>SQLite: Add support for file open flags <a href="https://github.com/knex/knex/issues/4446" target="_blank" rel="noopener noreferrer">#4446</a></li><li>Add .cjs extension to Seeder.js to support Node ESM <a href="https://github.com/knex/knex/issues/4381" target="_blank" rel="noopener noreferrer">#4381</a> <a href="https://github.com/knex/knex/issues/4382" target="_blank" rel="noopener noreferrer">#4382</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Remove peerDependencies to avoid auto-install on npm 7 <a href="https://github.com/knex/knex/issues/4480" target="_blank" rel="noopener noreferrer">#4480</a></li></ul><p><strong>Typings</strong></p><ul><li>Fix typing for increments and bigIncrements <a href="https://github.com/knex/knex/issues/4406" target="_blank" rel="noopener noreferrer">#4406</a></li><li>Add typings for on JoinClause for onVal <a href="https://github.com/knex/knex/issues/4436" target="_blank" rel="noopener noreferrer">#4436</a></li><li>Adding Type Definition for isTransaction <a href="https://github.com/knex/knex/issues/4418" target="_blank" rel="noopener noreferrer">#4418</a></li><li>Export client class from knex namespace <a href="https://github.com/knex/knex/issues/4479" target="_blank" rel="noopener noreferrer">#4479</a></li></ul><h3 id="_0-95-4-26-march-2021" tabindex="-1">0.95.4 - 26 March, 2021 <a class="header-anchor" href="#_0-95-4-26-march-2021" aria-hidden="true">#</a></h3><p><strong>Typings</strong></p><ul><li>Fix mistyping of stream <a href="https://github.com/knex/knex/issues/4400" target="_blank" rel="noopener noreferrer">#4400</a></li></ul><h3 id="_0-95-3-25-march-2021" tabindex="-1">0.95.3 - 25 March, 2021 <a class="header-anchor" href="#_0-95-3-25-march-2021" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>PostgreSQL: Add &quot;same&quot; as operator <a href="https://github.com/knex/knex/issues/4372" target="_blank" rel="noopener noreferrer">#4372</a></li><li>MSSQL: Improve an estimate of the max comment length <a href="https://github.com/knex/knex/issues/4362" target="_blank" rel="noopener noreferrer">#4362</a></li><li>Throw an error if negative offset is provided <a href="https://github.com/knex/knex/issues/4361" target="_blank" rel="noopener noreferrer">#4361</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix timeout method <a href="https://github.com/knex/knex/issues/4324" target="_blank" rel="noopener noreferrer">#4324</a></li><li>SQLite: prevent dropForeign from being silently ignored <a href="https://github.com/knex/knex/issues/4376" target="_blank" rel="noopener noreferrer">#4376</a></li></ul><p><strong>Typings</strong></p><ul><li>Allow config.client to be non-client instance <a href="https://github.com/knex/knex/issues/4367" target="_blank" rel="noopener noreferrer">#4367</a></li><li>Add dropForeign arg type for single column <a href="https://github.com/knex/knex/issues/4363" target="_blank" rel="noopener noreferrer">#4363</a></li><li>Update typings for TypePreservingAggregation and stream <a href="https://github.com/knex/knex/issues/4377" target="_blank" rel="noopener noreferrer">#4377</a></li></ul><h3 id="_0-95-2-11-march-2021" tabindex="-1">0.95.2 - 11 March, 2021 <a class="header-anchor" href="#_0-95-2-11-march-2021" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Improve ESM import support <a href="https://github.com/knex/knex/issues/4350" target="_blank" rel="noopener noreferrer">#4350</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>CLI: update ts.stub files to new TypeScript namespace <a href="https://github.com/knex/knex/issues/4344" target="_blank" rel="noopener noreferrer">#4344</a></li><li>CLI: fix TypeScript migration stub after 0.95.0 changes <a href="https://github.com/knex/knex/issues/4366" target="_blank" rel="noopener noreferrer">#4366</a></li></ul><p><strong>Typings</strong></p><ul><li>Move QueryBuilder and KnexTimeoutError into knex namespace <a href="https://github.com/knex/knex/issues/4358" target="_blank" rel="noopener noreferrer">#4358</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Unify db test helpers <a href="https://github.com/knex/knex/issues/4356" target="_blank" rel="noopener noreferrer">#4356</a></li></ul><h3 id="_0-95-1-04-march-2021" tabindex="-1">0.95.1 - 04 March, 2021 <a class="header-anchor" href="#_0-95-1-04-march-2021" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>CLI: fix <code>knex init</code> not finding default knexfile <a href="https://github.com/knex/knex/issues/4339" target="_blank" rel="noopener noreferrer">#4339</a></li></ul><h3 id="_0-95-0-03-march-2021" tabindex="-1">0.95.0 - 03 March, 2021 <a class="header-anchor" href="#_0-95-0-03-march-2021" aria-hidden="true">#</a></h3><p>Note: there are many breaking changes in this version, particularly in TypeScript support. Please see <code>UPGRADING.md</code> for details.</p><p><strong>New features</strong></p><ul><li>Add transaction isolation support <a href="https://github.com/knex/knex/issues/4185" target="_blank" rel="noopener noreferrer">#4185</a></li><li>Add analytic functions <a href="https://github.com/knex/knex/issues/4188" target="_blank" rel="noopener noreferrer">#4188</a></li><li>Change default to not trigger a promise rejection for transactions with a specified handler <a href="https://github.com/knex/knex/issues/4195" target="_blank" rel="noopener noreferrer">#4195</a></li><li>Make toSQL().toNative() work for Raw to match the API for QueryBuilder <a href="https://github.com/knex/knex/issues/4058" target="_blank" rel="noopener noreferrer">#4058</a></li><li>Allow &#39;match&#39; operator <a href="https://github.com/knex/knex/issues/3569" target="_blank" rel="noopener noreferrer">#3569</a></li><li>Support optimizer hints <a href="https://github.com/knex/knex/issues/4243" target="_blank" rel="noopener noreferrer">#4243</a></li><li>Add parameter to prevent autoincrement columns from being primary keys <a href="https://github.com/knex/knex/issues/4266" target="_blank" rel="noopener noreferrer">#4266</a></li><li>Make &quot;first&quot; and &quot;pluck&quot; mutually exclusive <a href="https://github.com/knex/knex/issues/4280" target="_blank" rel="noopener noreferrer">#4280</a></li><li>Added merge strategy to allow selecting columns to upsert. <a href="https://github.com/knex/knex/issues/4252" target="_blank" rel="noopener noreferrer">#4252</a></li><li>Throw error if the array passed to insert is empty <a href="https://github.com/knex/knex/issues/4289" target="_blank" rel="noopener noreferrer">#4289</a></li><li>Events: introduce queryContext on query-error <a href="https://github.com/knex/knex/issues/4301" target="_blank" rel="noopener noreferrer">#4301</a></li><li>CLI: Use UTC timestamp for new migrations <a href="https://github.com/knex/knex/issues/4245" target="_blank" rel="noopener noreferrer">#4245</a></li><li>MSSQL: Replace MSSQL dialect with Tedious.js implementation <a href="https://github.com/knex/knex/issues/2857" target="_blank" rel="noopener noreferrer">#2857</a> <a href="https://github.com/knex/knex/issues/4281" target="_blank" rel="noopener noreferrer">#4281</a></li><li>MSSQL: Use &quot;nvarchar(max)&quot; for &quot;.json()&quot; <a href="https://github.com/knex/knex/issues/4278" target="_blank" rel="noopener noreferrer">#4278</a></li><li>MSSQL: Schema builder - add predictable constraint names for default values <a href="https://github.com/knex/knex/issues/4319" target="_blank" rel="noopener noreferrer">#4319</a></li><li>MSSQL: Schema builder - attempt to drop default constraints when changing default value on columns <a href="https://github.com/knex/knex/issues/4321" target="_blank" rel="noopener noreferrer">#4321</a></li><li>SQLite: Fallback to json for sqlite3 when using jsonb <a href="https://github.com/knex/knex/issues/4186" target="_blank" rel="noopener noreferrer">#4186</a></li><li>SQLite: Return complete list of DDL commands for creating foreign keys <a href="https://github.com/knex/knex/issues/4194" target="_blank" rel="noopener noreferrer">#4194</a></li><li>SQLite: Support dropping composite foreign keys <a href="https://github.com/knex/knex/issues/4202" target="_blank" rel="noopener noreferrer">#4202</a></li><li>SQLite: Recreate indices when altering a table <a href="https://github.com/knex/knex/issues/4277" target="_blank" rel="noopener noreferrer">#4277</a></li><li>SQLite: Add support for altering columns <a href="https://github.com/knex/knex/issues/4322" target="_blank" rel="noopener noreferrer">#4322</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix issue with .withSchema usage with joins on a subquery <a href="https://github.com/knex/knex/issues/4267" target="_blank" rel="noopener noreferrer">#4267</a></li><li>Fix issue with schema usage with FROM clause contain QueryBuilder, function or Raw <a href="https://github.com/knex/knex/issues/4268" target="_blank" rel="noopener noreferrer">#4268</a></li><li>CLI: Address raised security warnings by dropping liftoff <a href="https://github.com/knex/knex/issues/4122" target="_blank" rel="noopener noreferrer">#4122</a></li><li>CLI: Fix an issue with npm@7 and ESM when <code>type</code> was set to <code>&#39;module&#39;</code> in <code>package.json</code> <a href="https://github.com/knex/knex/issues/4295" target="_blank" rel="noopener noreferrer">#4295</a></li><li>PostgreSQL: Add check to only create native enum once <a href="https://github.com/knex/knex/issues/3658" target="_blank" rel="noopener noreferrer">#3658</a></li><li>SQLite: Fix foreign key &quot;on delete&quot; when altering a table <a href="https://github.com/knex/knex/issues/4225" target="_blank" rel="noopener noreferrer">#4225</a></li><li>SQLite: Made the constraint detection case-insensitive <a href="https://github.com/knex/knex/issues/4330" target="_blank" rel="noopener noreferrer">#4330</a></li><li>MySQL: Keep auto increment after rename <a href="https://github.com/knex/knex/issues/4266" target="_blank" rel="noopener noreferrer">#4266</a></li><li>MSSQL: don&#39;t raise query-error twice <a href="https://github.com/knex/knex/issues/4314" target="_blank" rel="noopener noreferrer">#4314</a></li><li>MSSQL: Alter column must have its own query <a href="https://github.com/knex/knex/issues/4317" target="_blank" rel="noopener noreferrer">#4317</a></li></ul><p><strong>Typings</strong></p><ul><li>TypeScript 4.1+ is now required</li><li>Add missing onConflict overrides <a href="https://github.com/knex/knex/issues/4182" target="_blank" rel="noopener noreferrer">#4182</a></li><li>Introduce the &quot;infamous triplet&quot; export <a href="https://github.com/knex/knex/issues/4181" target="_blank" rel="noopener noreferrer">#4181</a></li><li>Fix type definition of Transaction <a href="https://github.com/knex/knex/issues/4172" target="_blank" rel="noopener noreferrer">#4172</a></li><li>Add typedefinitions for havingNotIn <a href="https://github.com/knex/knex/issues/4265" target="_blank" rel="noopener noreferrer">#4265</a></li><li>Include &#39;name&#39; property in MigratorConfig <a href="https://github.com/knex/knex/issues/4300" target="_blank" rel="noopener noreferrer">#4300</a></li><li>Improve join and conflict types <a href="https://github.com/knex/knex/issues/4318" target="_blank" rel="noopener noreferrer">#4318</a></li><li>Fix ArrayIfAlready type <a href="https://github.com/knex/knex/issues/4331" target="_blank" rel="noopener noreferrer">#4331</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Drop global Knex.raw <a href="https://github.com/knex/knex/issues/4180" target="_blank" rel="noopener noreferrer">#4180</a></li><li>Stop using legacy url.parse API <a href="https://github.com/knex/knex/issues/3702" target="_blank" rel="noopener noreferrer">#3702</a></li><li>Various internal refactorings <a href="https://github.com/knex/knex/issues/4175" target="_blank" rel="noopener noreferrer">#4175</a> <a href="https://github.com/knex/knex/issues/4177" target="_blank" rel="noopener noreferrer">#4177</a> <a href="https://github.com/knex/knex/issues/4178" target="_blank" rel="noopener noreferrer">#4178</a> <a href="https://github.com/knex/knex/issues/4192" target="_blank" rel="noopener noreferrer">#4192</a></li><li>Refactor to classes <a href="https://github.com/knex/knex/issues/4190" target="_blank" rel="noopener noreferrer">#4190</a> <a href="https://github.com/knex/knex/issues/4191" target="_blank" rel="noopener noreferrer">#4191</a> <a href="https://github.com/knex/knex/issues/4193" target="_blank" rel="noopener noreferrer">#4193</a> <a href="https://github.com/knex/knex/issues/4210" target="_blank" rel="noopener noreferrer">#4210</a> <a href="https://github.com/knex/knex/issues/4253" target="_blank" rel="noopener noreferrer">#4253</a></li><li>Move transaction type tests to TSD <a href="https://github.com/knex/knex/issues/4208" target="_blank" rel="noopener noreferrer">#4208</a></li><li>Clean up destroy logic <a href="https://github.com/knex/knex/issues/4248" target="_blank" rel="noopener noreferrer">#4248</a></li><li>Colorize code snippets in readme files <a href="https://github.com/knex/knex/issues/4234" target="_blank" rel="noopener noreferrer">#4234</a></li><li>Add &quot;Ecosystem&quot; documentation for Knex plugins <a href="https://github.com/knex/knex/issues/4183" target="_blank" rel="noopener noreferrer">#4183</a></li><li>Documentation cleanup</li><li>SQLite: Use SQLite &quot;rename column&quot; instead of a DDL helper <a href="https://github.com/knex/knex/issues/4200" target="_blank" rel="noopener noreferrer">#4200</a></li><li>SQLite: Simplify reinsert logic when altering a table <a href="https://github.com/knex/knex/issues/4272" target="_blank" rel="noopener noreferrer">#4272</a></li></ul><h3 id="_0-21-19-02-march-2021" tabindex="-1">0.21.19 - 02 March, 2021 <a class="header-anchor" href="#_0-21-19-02-march-2021" aria-hidden="true">#</a></h3><ul><li>SQLite: Made the constraint detection case-insensitive <a href="https://github.com/knex/knex/issues/4332" target="_blank" rel="noopener noreferrer">#4332</a></li></ul><h3 id="_0-21-18-22-february-2021" tabindex="-1">0.21.18 - 22 February, 2021 <a class="header-anchor" href="#_0-21-18-22-february-2021" aria-hidden="true">#</a></h3><ul><li>CLI: Fix an issue with npm@7 and ESM when type was set to &#39;module&#39; in package.json <a href="https://github.com/knex/knex/issues/4295" target="_blank" rel="noopener noreferrer">#4295</a></li></ul><h3 id="_0-21-17-30-january-2021" tabindex="-1">0.21.17 - 30 January, 2021 <a class="header-anchor" href="#_0-21-17-30-january-2021" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>SQLite: Fix SQLite foreign on delete when altering a table <a href="https://github.com/knex/knex/issues/4261" target="_blank" rel="noopener noreferrer">#4261</a></li></ul><p><strong>New features</strong></p><ul><li>Add support for optimizer hints (see <a href="https://github.com/knex/documentation/pull/306" target="_blank" rel="noopener noreferrer">https://github.com/knex/documentation/pull/306</a> for documentation) <a href="https://github.com/knex/knex/issues/4243" target="_blank" rel="noopener noreferrer">#4243</a></li></ul><h3 id="_0-21-16-17-january-2021" tabindex="-1">0.21.16 - 17 January, 2021 <a class="header-anchor" href="#_0-21-16-17-january-2021" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>MSSQL: Avoid passing unsupported pool param. Fixes node-mssql 7+ support <a href="https://github.com/knex/knex/issues/4236" target="_blank" rel="noopener noreferrer">#4236</a></li></ul><h3 id="_0-21-15-26-december-2020" tabindex="-1">0.21.15 - 26 December, 2020 <a class="header-anchor" href="#_0-21-15-26-december-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>SQLite: Add primary/foreign support on alterTable <a href="https://github.com/knex/knex/issues/4162" target="_blank" rel="noopener noreferrer">#4162</a></li><li>SQLite: Add dropPrimary/dropForeign support on alterTable <a href="https://github.com/knex/knex/issues/4162" target="_blank" rel="noopener noreferrer">#4162</a></li></ul><p><strong>Typings</strong></p><ul><li>Add &quot;after&quot; and &quot;first&quot; to columnBuilder types <a href="https://github.com/knex/knex/issues/3549" target="_blank" rel="noopener noreferrer">#3549</a> <a href="https://github.com/knex/knex/issues/4169" target="_blank" rel="noopener noreferrer">#4169</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Extract knex config resolution logic <a href="https://github.com/knex/knex/issues/4166" target="_blank" rel="noopener noreferrer">#4166</a></li><li>Run CI using GitHub Actions <a href="https://github.com/knex/knex/issues/4168" target="_blank" rel="noopener noreferrer">#4168</a></li><li>Add Node.js 15 to CI matrix <a href="https://github.com/knex/knex/issues/4173" target="_blank" rel="noopener noreferrer">#4173</a></li></ul><h3 id="_0-21-14-18-december-2020" tabindex="-1">0.21.14 - 18 December, 2020 <a class="header-anchor" href="#_0-21-14-18-december-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>MSSQL: support &quot;returning&quot; on inserts, updates and deletes on tables with triggers <a href="https://github.com/knex/knex/issues/4152" target="_blank" rel="noopener noreferrer">#4152</a></li><li>Use esm import if package.json type is &quot;module&quot; <a href="https://github.com/knex/knex/issues/4158" target="_blank" rel="noopener noreferrer">#4158</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Make sure query-response and query-error events contain _knexTxId <a href="https://github.com/knex/knex/issues/4160" target="_blank" rel="noopener noreferrer">#4160</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Improved integration test framework <a href="https://github.com/knex/knex/issues/4161" target="_blank" rel="noopener noreferrer">#4161</a></li></ul><h3 id="_0-21-13-12-december-2020" tabindex="-1">0.21.13 - 12 December, 2020 <a class="header-anchor" href="#_0-21-13-12-december-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>SQLite: Add support for <code>dropForeign</code> <a href="https://github.com/knex/knex/issues/4092" target="_blank" rel="noopener noreferrer">#4092</a></li><li>Add support for WHERE clauses to &quot;upsert&quot; queries <a href="https://github.com/knex/knex/issues/4148" target="_blank" rel="noopener noreferrer">#4148</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>MSSQL: Avoid connection getting stuck on socket hangup <a href="https://github.com/knex/knex/issues/4157" target="_blank" rel="noopener noreferrer">#4157</a></li><li>Oracle: Support specifying non-default DB port <a href="https://github.com/knex/knex/issues/4147" target="_blank" rel="noopener noreferrer">#4147</a></li><li>Oracle: Support inserts with only default values (empty body) <a href="https://github.com/knex/knex/issues/4092" target="_blank" rel="noopener noreferrer">#4092</a></li><li>CLI: fix irregular seed file execution order <a href="https://github.com/knex/knex/issues/4156" target="_blank" rel="noopener noreferrer">#4156</a></li><li>Fix performance of asyncStackTraces with enable-source-maps node flag <a href="https://github.com/knex/knex/issues/4154" target="_blank" rel="noopener noreferrer">#4154</a></li></ul><p><strong>Typings</strong></p><ul><li>PostgreSQL: Add support for application_name <a href="https://github.com/knex/knex/issues/4153" target="_blank" rel="noopener noreferrer">#4153</a></li><li>Fix types for insert to allow array <a href="https://github.com/knex/knex/issues/4105" target="_blank" rel="noopener noreferrer">#4105</a></li><li>Add types for userParams and withUserParams <a href="https://github.com/knex/knex/issues/4119" target="_blank" rel="noopener noreferrer">#4119</a></li><li>Added type for withKeyName <a href="https://github.com/knex/knex/issues/4139" target="_blank" rel="noopener noreferrer">#4139</a></li><li>Fix batchInsert definitions <a href="https://github.com/knex/knex/issues/4131" target="_blank" rel="noopener noreferrer">#4131</a></li><li>Fix types for WhereIn signature (value or query builder) <a href="https://github.com/knex/knex/issues/3863" target="_blank" rel="noopener noreferrer">#3863</a></li><li>Add types for connection config of mysql2 driver <a href="https://github.com/knex/knex/issues/4144" target="_blank" rel="noopener noreferrer">#4144</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Move TS tests to tsd (WIP) <a href="https://github.com/knex/knex/issues/4109" target="_blank" rel="noopener noreferrer">#4109</a> <a href="https://github.com/knex/knex/issues/4110" target="_blank" rel="noopener noreferrer">#4110</a></li></ul><h3 id="_0-21-12-02-november-2020" tabindex="-1">0.21.12 - 02 November, 2020 <a class="header-anchor" href="#_0-21-12-02-november-2020" aria-hidden="true">#</a></h3><p><strong>Typings</strong></p><ul><li>Reintroduce support for globally defining table/record mapping <a href="https://github.com/knex/knex/issues/4100" target="_blank" rel="noopener noreferrer">#4100</a></li><li>Add a few missing types for MSSQL Connection <a href="https://github.com/knex/knex/issues/4103" target="_blank" rel="noopener noreferrer">#4103</a></li><li>Make .ignore() and .merge() return QueryBuilder rather than QueryInterface <a href="https://github.com/knex/knex/issues/4102" target="_blank" rel="noopener noreferrer">#4102</a></li><li>Use tarn config TS types instead of generic-pool <a href="https://github.com/knex/knex/issues/4064" target="_blank" rel="noopener noreferrer">#4064</a></li></ul><h3 id="_0-21-11-01-november-2020" tabindex="-1">0.21.11 - 01 November, 2020 <a class="header-anchor" href="#_0-21-11-01-november-2020" aria-hidden="true">#</a></h3><p><strong>Typings</strong></p><ul><li>Revert support for globally defining table/record mapping <a href="https://github.com/knex/knex/issues/4099" target="_blank" rel="noopener noreferrer">#4099</a></li></ul><h3 id="_0-21-10-31-october-2020" tabindex="-1">0.21.10 - 31 October, 2020 <a class="header-anchor" href="#_0-21-10-31-october-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Upsert support (Postgres/MySQL/Sqlite) <a href="https://github.com/knex/knex/issues/3763" target="_blank" rel="noopener noreferrer">#3763</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Switch to non-uuid knexQueryUids to avoid issues when mocking global date <a href="https://github.com/knex/knex/issues/4089" target="_blank" rel="noopener noreferrer">#4089</a></li></ul><p><strong>Typings</strong></p><ul><li>Allow to globally define table/record mapping <a href="https://github.com/knex/knex/issues/4071" target="_blank" rel="noopener noreferrer">#4071</a></li></ul><h3 id="_0-21-9-27-october-2020" tabindex="-1">0.21.9 - 27 October, 2020 <a class="header-anchor" href="#_0-21-9-27-october-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>add method clear(statement) to QueryBuilder <a href="https://github.com/knex/knex/issues/4051" target="_blank" rel="noopener noreferrer">#4051</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>CLI: fix help text being printed twice <a href="https://github.com/knex/knex/issues/4072" target="_blank" rel="noopener noreferrer">#4072</a></li><li>Oracle: columnInfo() no longer requires an Owner User <a href="https://github.com/knex/knex/issues/4053" target="_blank" rel="noopener noreferrer">#4053</a></li><li>Add missing &quot;start&quot; event propagation from transaction <a href="https://github.com/knex/knex/issues/4087" target="_blank" rel="noopener noreferrer">#4087</a></li></ul><h3 id="_0-21-8-27-october-2020" tabindex="-1">0.21.8 - 27 October, 2020 <a class="header-anchor" href="#_0-21-8-27-october-2020" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>MSSQL: Escape properly if literal &#39;?&#39; is needed <a href="https://github.com/knex/knex/issues/4053" target="_blank" rel="noopener noreferrer">#4053</a></li><li>Make toQuery behavior consistent with pre-0.21.7 (do not break on empty builder) <a href="https://github.com/knex/knex/issues/4083" target="_blank" rel="noopener noreferrer">#4083</a></li><li>Fix comment escaping for MySQL and PostgreSQL <a href="https://github.com/knex/knex/issues/4084" target="_blank" rel="noopener noreferrer">#4084</a></li></ul><h3 id="_0-21-7-25-october-2020" tabindex="-1">0.21.7 - 25 October, 2020 <a class="header-anchor" href="#_0-21-7-25-october-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>CLI: Add migration stub for .cjs extension <a href="https://github.com/knex/knex/issues/4065" target="_blank" rel="noopener noreferrer">#4065</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>MSSQL: Add dynamic scaling for decimal values and prevents a UInt64 overflow <a href="https://github.com/knex/knex/issues/3910" target="_blank" rel="noopener noreferrer">#3910</a></li><li>MSSQL: Fix apostrophe escaping <a href="https://github.com/knex/knex/issues/4077" target="_blank" rel="noopener noreferrer">#4077</a></li><li>Ensure that semicolon is not appended to statements that already end with a semicolon <a href="https://github.com/knex/knex/issues/4052" target="_blank" rel="noopener noreferrer">#4052</a></li></ul><p><strong>Typings</strong></p><ul><li>Add arguments to QueryCallback in Where <a href="https://github.com/knex/knex/issues/4034" target="_blank" rel="noopener noreferrer">#4034</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Replace lodash type-checks with native solutions <a href="https://github.com/knex/knex/issues/4056" target="_blank" rel="noopener noreferrer">#4056</a></li><li>Replace mkdirp with native recursive flag <a href="https://github.com/knex/knex/issues/4060" target="_blank" rel="noopener noreferrer">#4060</a></li><li>Replace inherits package with builtin utility <a href="https://github.com/knex/knex/issues/4059" target="_blank" rel="noopener noreferrer">#4059</a></li></ul><h3 id="_0-21-6-27-september-2020" tabindex="-1">0.21.6 - 27 September, 2020 <a class="header-anchor" href="#_0-21-6-27-september-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>CLI: New config parameter / CLI flag to prefixing seed filename with timestamp <a href="https://github.com/knex/knex/issues/3873" target="_blank" rel="noopener noreferrer">#3873</a></li><li>CLI: throw an error when specific seed file cannot be found <a href="https://github.com/knex/knex/issues/4011" target="_blank" rel="noopener noreferrer">#4011</a></li><li>Warn if whereNot is used with &#39;in&#39; or &#39;between&#39; <a href="https://github.com/knex/knex/issues/4038" target="_blank" rel="noopener noreferrer">#4038</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>CLI: Fix double merging of config for migrator <a href="https://github.com/knex/knex/issues/4040" target="_blank" rel="noopener noreferrer">#4040</a></li></ul><p><strong>Typings</strong></p><ul><li>Unify SeedsConfig and SeederConfig <a href="https://github.com/knex/knex/issues/4003" target="_blank" rel="noopener noreferrer">#4003</a></li><li>Allow string[] type for directory in SeedsConfig <a href="https://github.com/knex/knex/issues/4033" target="_blank" rel="noopener noreferrer">#4033</a></li></ul><h3 id="_0-21-5-17-august-2020" tabindex="-1">0.21.5 - 17 August, 2020 <a class="header-anchor" href="#_0-21-5-17-august-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>CLI: Improve Esm interop <a href="https://github.com/knex/knex/issues/3985" target="_blank" rel="noopener noreferrer">#3985</a></li><li>CLI: Improve mjs module support <a href="https://github.com/knex/knex/issues/3980" target="_blank" rel="noopener noreferrer">#3980</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Bump version of dtslint <a href="https://github.com/knex/knex/issues/3984" target="_blank" rel="noopener noreferrer">#3984</a></li><li>Test/document esm interop mixed formats (knexfile/migrations/seeds) <a href="https://github.com/knex/knex/issues/3986" target="_blank" rel="noopener noreferrer">#3986</a></li></ul><h3 id="_0-21-4-10-august-2020" tabindex="-1">0.21.4 - 10 August, 2020 <a class="header-anchor" href="#_0-21-4-10-august-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>CLI: Add new option for seed: recursive <a href="https://github.com/knex/knex/issues/3974" target="_blank" rel="noopener noreferrer">#3974</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>CLI: Do not load seeds from subfolders recursively by default <a href="https://github.com/knex/knex/issues/3974" target="_blank" rel="noopener noreferrer">#3974</a></li></ul><h3 id="_0-21-3-08-august-2020" tabindex="-1">0.21.3 - 08 August, 2020 <a class="header-anchor" href="#_0-21-3-08-august-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>CLI: Support multiple directories for seeds <a href="https://github.com/knex/knex/issues/3967" target="_blank" rel="noopener noreferrer">#3967</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Ensure DB stream is destroyed when the PassThrough is destroyed <a href="https://github.com/knex/knex/issues/2324" target="_blank" rel="noopener noreferrer">#2324</a></li><li>Support postProcessResponse for streams <a href="https://github.com/knex/knex/issues/3931" target="_blank" rel="noopener noreferrer">#3931</a></li><li>Fix ESM module interop for calling module/package of type &#39;module&#39; <a href="https://github.com/knex/knex/issues/3938" target="_blank" rel="noopener noreferrer">#3938</a></li><li>CLI: Fix migration source name in rollback all <a href="https://github.com/knex/knex/issues/3956" target="_blank" rel="noopener noreferrer">#3956</a></li><li>Fix getMergedConfig calls to include client logger <a href="https://github.com/knex/knex/issues/3920" target="_blank" rel="noopener noreferrer">#3920</a></li><li>Escape single quoted values passed to defaultTo function <a href="https://github.com/knex/knex/issues/3899" target="_blank" rel="noopener noreferrer">#3899</a></li></ul><p><strong>Typings</strong></p><ul><li>Add .timeout(ms) to .raw()&#39;s typescript typings <a href="https://github.com/knex/knex/issues/3885" target="_blank" rel="noopener noreferrer">#3885</a></li><li>Add typing for double table column builder <a href="https://github.com/knex/knex/issues/3950" target="_blank" rel="noopener noreferrer">#3950</a></li><li>Add a phantom tag to Ref type to mark received type parameters as used <a href="https://github.com/knex/knex/issues/3934" target="_blank" rel="noopener noreferrer">#3934</a></li><li>Add <code>null</code> as valid binding type <a href="https://github.com/knex/knex/issues/3946" target="_blank" rel="noopener noreferrer">#3946</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Change query lab link to https <a href="https://github.com/knex/knex/issues/3933" target="_blank" rel="noopener noreferrer">#3933</a></li></ul><h3 id="_0-21-2-10-july-2020" tabindex="-1">0.21.2 - 10 July, 2020 <a class="header-anchor" href="#_0-21-2-10-july-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Warn user if custom migration source is being reset <a href="https://github.com/knex/knex/issues/3839" target="_blank" rel="noopener noreferrer">#3839</a></li><li>Prefer <code>void</code> as return type on migration generator ts stub <a href="https://github.com/knex/knex/issues/3865" target="_blank" rel="noopener noreferrer">#3865</a></li><li>MSSQL: Added the removal of a columns default constraint, before dropping the column <a href="https://github.com/knex/knex/issues/3855" target="_blank" rel="noopener noreferrer">#3855</a></li></ul><p><strong>Typings</strong></p><ul><li>Fix definition for raw querybuilders <a href="https://github.com/knex/knex/issues/3846" target="_blank" rel="noopener noreferrer">#3846</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Refactor migration logic to use async/await <a href="https://github.com/knex/knex/issues/3838" target="_blank" rel="noopener noreferrer">#3838</a></li></ul><h3 id="_0-21-1-28-april-2020" tabindex="-1">0.21.1 - 28 April, 2020 <a class="header-anchor" href="#_0-21-1-28-april-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>CLI: Add migrate:unlock command, truncate on forceFreeMigrationsLock <a href="https://github.com/knex/knex/issues/3822" target="_blank" rel="noopener noreferrer">#3822</a></li><li>CLI: Add support for cjs files by default <a href="https://github.com/knex/knex/issues/3829" target="_blank" rel="noopener noreferrer">#3829</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>CLI: Fix inference of seed/migration extension from knexfile extension <a href="https://github.com/knex/knex/issues/3814" target="_blank" rel="noopener noreferrer">#3814</a></li><li>rewrite delay to not node-only version. Fixes compatibility with browsers <a href="https://github.com/knex/knex/issues/3820" target="_blank" rel="noopener noreferrer">#3820</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Update dependencies. Explicitly support Node.js 14 <a href="https://github.com/knex/knex/issues/3825" target="_blank" rel="noopener noreferrer">#3825</a> <a href="https://github.com/knex/knex/issues/3830" target="_blank" rel="noopener noreferrer">#3830</a></li></ul><h3 id="_0-21-0-18-april-2020" tabindex="-1">0.21.0 - 18 April, 2020 <a class="header-anchor" href="#_0-21-0-18-april-2020" aria-hidden="true">#</a></h3><p><strong>Improvements</strong></p><ul><li>Reduce size of lodash in bundle <a href="https://github.com/knex/knex/issues/3804" target="_blank" rel="noopener noreferrer">#3804</a></li></ul><p><strong>Breaking changes</strong></p><ul><li>Dropped support for Node 8</li><li>Breaking upstream change in <code>pg-query-stream</code>: <code>Changed stream.close to stream.destroy which is the official way to terminate a readable stream. This is a breaking change if you rely on the stream.close method on pg-query-stream...though should be just a find/replace type operation to upgrade as the semantics remain very similar (not exactly the same, since internals are rewritten, but more in line with how streams are &quot;supposed&quot; to behave).</code></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Updated Tarn.js to a version 3.0.0</li><li>Updated mkdirp to a version 1.0.4</li><li>Updated examples to use ES2015 style <a href="https://github.com/knex/knex/issues/3810" target="_blank" rel="noopener noreferrer">#3810</a></li></ul><h3 id="_0-20-15-16-april-2020" tabindex="-1">0.20.15 - 16 April, 2020 <a class="header-anchor" href="#_0-20-15-16-april-2020" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Support for <code>.finally(..)</code> on knex&#39;s Promise-alikes <a href="https://github.com/knex/knex/issues/3800" target="_blank" rel="noopener noreferrer">#3800</a></li></ul><p><strong>Typings</strong></p><ul><li>Add types for <code>.distinctOn</code> <a href="https://github.com/knex/knex/issues/3784" target="_blank" rel="noopener noreferrer">#3784</a></li></ul><h3 id="_0-20-14-13-april-2020" tabindex="-1">0.20.14 - 13 April, 2020 <a class="header-anchor" href="#_0-20-14-13-april-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>CLI: adds support for asynchronous knexfile loading <a href="https://github.com/knex/knex/issues/3748" target="_blank" rel="noopener noreferrer">#3748</a></li><li>Add clearGroup method <a href="https://github.com/knex/knex/issues/3771" target="_blank" rel="noopener noreferrer">#3771</a></li></ul><p><strong>Typings</strong></p><ul><li>Support Raw types for insert, where, update <a href="https://github.com/knex/knex/issues/3730" target="_blank" rel="noopener noreferrer">#3730</a></li><li>Add typings for MigrationSource <a href="https://github.com/knex/knex/issues/3756" target="_blank" rel="noopener noreferrer">#3756</a></li><li>Update signature of orderBy to support QueryBuilder inside array <a href="https://github.com/knex/knex/issues/3757" target="_blank" rel="noopener noreferrer">#3757</a></li><li>Add toSQL and toString to SchemaBuilder <a href="https://github.com/knex/knex/issues/3758" target="_blank" rel="noopener noreferrer">#3758</a></li><li><code>interface Knex</code> and <code>function Knex</code> should have the same types <a href="https://github.com/knex/knex/issues/3787" target="_blank" rel="noopener noreferrer">#3787</a></li><li>Fix minor issues around typings <a href="https://github.com/knex/knex/issues/3765" target="_blank" rel="noopener noreferrer">#3765</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Minor test internal enhancements <a href="https://github.com/knex/knex/issues/3747" target="_blank" rel="noopener noreferrer">#3747</a></li><li>Minor improvements on the usage of fs utilities <a href="https://github.com/knex/knex/issues/3749" target="_blank" rel="noopener noreferrer">#3749</a></li><li>Split tests in groups <a href="https://github.com/knex/knex/issues/3785" target="_blank" rel="noopener noreferrer">#3785</a></li></ul><h3 id="_0-20-13-23-march-2020" tabindex="-1">0.20.13 - 23 March, 2020 <a class="header-anchor" href="#_0-20-13-23-march-2020" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Correctly handle dateToString escaping without timezone passed <a href="https://github.com/knex/knex/issues/3742" target="_blank" rel="noopener noreferrer">#3742</a></li><li>Make protocol length check more defensive <a href="https://github.com/knex/knex/issues/3744" target="_blank" rel="noopener noreferrer">#3744</a></li></ul><p><strong>Typings</strong></p><ul><li>Make the ChainableInterface conform to <code>Promise&lt;T&gt;</code> <a href="https://github.com/knex/knex/issues/3724" target="_blank" rel="noopener noreferrer">#3724</a></li></ul><h3 id="_0-20-12-19-march-2020" tabindex="-1">0.20.12 - 19 March, 2020 <a class="header-anchor" href="#_0-20-12-19-march-2020" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Added missing call to _reject in Transactor#transaction <a href="https://github.com/knex/knex/issues/3706" target="_blank" rel="noopener noreferrer">#3706</a></li><li>Fix method binding on knex proxy <a href="https://github.com/knex/knex/issues/3717" target="_blank" rel="noopener noreferrer">#3717</a></li><li>Oracle: Transaction_OracleDB can use config.connection <a href="https://github.com/knex/knex/issues/3731" target="_blank" rel="noopener noreferrer">#3731</a></li></ul><p><strong>Typings</strong></p><ul><li>Fix incorrect type signature of Having <a href="https://github.com/knex/knex/issues/3719" target="_blank" rel="noopener noreferrer">#3719</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Cleanup/remove transaction stalling <a href="https://github.com/knex/knex/issues/3716" target="_blank" rel="noopener noreferrer">#3716</a></li><li>Rewrote Transaction#acquireConnection() methods to use async <a href="https://github.com/knex/knex/issues/3707" target="_blank" rel="noopener noreferrer">#3707</a></li></ul><h3 id="_0-20-11-26-february-2020" tabindex="-1">0.20.11 - 26 February, 2020 <a class="header-anchor" href="#_0-20-11-26-february-2020" aria-hidden="true">#</a></h3><p><strong>Breaking changes</strong></p><ul><li>Knex returns native JS promises instead of Bluebird ones. This means that you no longer use such methods as <code>map</code>, <code>spread</code> and <code>reduce</code> on QueryBuilder instance.</li></ul><p><strong>New features</strong></p><ul><li>Oracle: Add OracleDB handling for buffer type in fetchAsString <a href="https://github.com/knex/knex/issues/3685" target="_blank" rel="noopener noreferrer">#3685</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix race condition in non-container transactions <a href="https://github.com/knex/knex/issues/3671" target="_blank" rel="noopener noreferrer">#3671</a></li></ul><p><strong>Typings</strong></p><ul><li>Mark knex arguments of composite/collection types to be readonly <a href="https://github.com/knex/knex/issues/3680" target="_blank" rel="noopener noreferrer">#3680</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Remove dependency on Bluebird methods from sources <a href="https://github.com/knex/knex/issues/3683" target="_blank" rel="noopener noreferrer">#3683</a></li><li>Cleanup and extract Transaction Workflow logic <a href="https://github.com/knex/knex/issues/3674" target="_blank" rel="noopener noreferrer">#3674</a></li></ul><h3 id="_0-20-10-13-february-2020" tabindex="-1">0.20.10 - 13 February, 2020 <a class="header-anchor" href="#_0-20-10-13-february-2020" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Oracle: commit was a no-op causing race conditions <a href="https://github.com/knex/knex/issues/3668" target="_blank" rel="noopener noreferrer">#3668</a></li><li>CLI: Knex calls process.chdir() before opening Knexfile <a href="https://github.com/knex/knex/issues/3661" target="_blank" rel="noopener noreferrer">#3661</a></li><li>Fixed unresolved promise in cancelQuery() <a href="https://github.com/knex/knex/issues/3666" target="_blank" rel="noopener noreferrer">#3666</a></li></ul><p><strong>Typings</strong></p><ul><li><code>fn.now</code> takes optionally a precision argument. <a href="https://github.com/knex/knex/issues/3662" target="_blank" rel="noopener noreferrer">#3662</a></li><li>PG: Include SSL in connection definition <a href="https://github.com/knex/knex/issues/3659" target="_blank" rel="noopener noreferrer">#3659</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>replace Bluebird.timeout <a href="https://github.com/knex/knex/issues/3634" target="_blank" rel="noopener noreferrer">#3634</a></li></ul><h3 id="_0-20-9-08-february-2020" tabindex="-1">0.20.9 - 08 February, 2020 <a class="header-anchor" href="#_0-20-9-08-february-2020" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>CLI: Improve Support for Liftoff&#39;s Preloaders - this should fix some cases like using TS for your migrations <a href="https://github.com/knex/knex/issues/3613" target="_blank" rel="noopener noreferrer">#3613</a></li></ul><p><strong>Typings</strong></p><ul><li>MSSQL: Add <code>enableArithAbort</code> to <code>MsSqlConnectionConfig</code></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Refactor more tests to use cli-testlab <a href="https://github.com/knex/knex/issues/3640" target="_blank" rel="noopener noreferrer">#3640</a></li><li>Update QueryCompiler implementation to use classes <a href="https://github.com/knex/knex/issues/3647" target="_blank" rel="noopener noreferrer">#3647</a></li></ul><h3 id="_0-20-8-14-january-2020" tabindex="-1">0.20.8 - 14 January, 2020 <a class="header-anchor" href="#_0-20-8-14-january-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>CLI: Support ES6 modules via flag --esm <a href="https://github.com/knex/knex/issues/3616" target="_blank" rel="noopener noreferrer">#3616</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>CLI: Print help only when there are no arguments <a href="https://github.com/knex/knex/issues/3617" target="_blank" rel="noopener noreferrer">#3617</a></li></ul><p><strong>Typings</strong></p><ul><li>Fix incorrect type of QueryBuilder.first(&#39;*&#39;) result <a href="https://github.com/knex/knex/issues/3621" target="_blank" rel="noopener noreferrer">#3621</a></li></ul><h3 id="_0-20-7-07-january-2020" tabindex="-1">0.20.7 - 07 January, 2020 <a class="header-anchor" href="#_0-20-7-07-january-2020" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Throw better error when trying to modify schema while using unsupported dialect <a href="https://github.com/knex/knex/issues/3609" target="_blank" rel="noopener noreferrer">#3609</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Oracle: dispose connection on connection error <a href="https://github.com/knex/knex/issues/3611" target="_blank" rel="noopener noreferrer">#3611</a></li><li>Oracle: fix not releasing connection from pool on disconnect <a href="https://github.com/knex/knex/issues/3605" target="_blank" rel="noopener noreferrer">#3605</a></li><li>CLI: prevent warning with root command <a href="https://github.com/knex/knex/issues/3604" target="_blank" rel="noopener noreferrer">#3604</a></li></ul><p><strong>Typings</strong></p><ul><li>Add create/drop schema methods to SchemaBuilder <a href="https://github.com/knex/knex/issues/3579" target="_blank" rel="noopener noreferrer">#3579</a></li></ul><h3 id="_0-20-6-29-december-2019" tabindex="-1">0.20.6 - 29 December, 2019 <a class="header-anchor" href="#_0-20-6-29-december-2019" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Enforce Unix (lf) line terminators <a href="https://github.com/knex/knex/issues/3598" target="_blank" rel="noopener noreferrer">#3598</a></li></ul><h3 id="_0-20-5-29-december-2019" tabindex="-1">0.20.5 - 29 December, 2019 <a class="header-anchor" href="#_0-20-5-29-december-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Return more information about empty updates <a href="https://github.com/knex/knex/issues/3597" target="_blank" rel="noopener noreferrer">#3597</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix colors in debug logs <a href="https://github.com/knex/knex/issues/3592" target="_blank" rel="noopener noreferrer">#3592</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Use more efficient algorithm for generating internal ids <a href="https://github.com/knex/knex/issues/3595" target="_blank" rel="noopener noreferrer">#3595</a> <a href="https://github.com/knex/knex/issues/3596" target="_blank" rel="noopener noreferrer">#3596</a></li><li>Use Buffer.alloc() instead of deprecated constructor <a href="https://github.com/knex/knex/issues/3574" target="_blank" rel="noopener noreferrer">#3574</a></li></ul><h3 id="_0-20-4-08-december-2019" tabindex="-1">0.20.4 - 08 December, 2019 <a class="header-anchor" href="#_0-20-4-08-december-2019" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Fix debug logger messing up queries with % <a href="https://github.com/knex/knex/issues/3566" target="_blank" rel="noopener noreferrer">#3566</a></li><li>Make logger methods mutually consistent <a href="https://github.com/knex/knex/issues/3567" target="_blank" rel="noopener noreferrer">#3567</a></li></ul><p><strong>Typings</strong></p><ul><li>Add missing methods to client type <a href="https://github.com/knex/knex/issues/3565" target="_blank" rel="noopener noreferrer">#3565</a></li><li>Fix queryContext function defintion <a href="https://github.com/knex/knex/issues/3562" target="_blank" rel="noopener noreferrer">#3562</a></li><li>Fix QueryBuilder.extend this type <a href="https://github.com/knex/knex/issues/3526" target="_blank" rel="noopener noreferrer">#3526</a> <a href="https://github.com/knex/knex/issues/3528" target="_blank" rel="noopener noreferrer">#3528</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Remove bluebird.using <a href="https://github.com/knex/knex/issues/3552" target="_blank" rel="noopener noreferrer">#3552</a></li></ul><h3 id="_0-20-3-27-november-2019" tabindex="-1">0.20.3 - 27 November, 2019 <a class="header-anchor" href="#_0-20-3-27-november-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>MSSQL, MySQL: Add connection string qs to connection params <a href="https://github.com/knex/knex/issues/3547" target="_blank" rel="noopener noreferrer">#3547</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Oracle: Fix issue retrieving BLOB from database <a href="https://github.com/knex/knex/issues/3545" target="_blank" rel="noopener noreferrer">#3545</a></li><li>PostgreSQL: Timeout for postgresql use cancel instead of terminate <a href="https://github.com/knex/knex/issues/3518" target="_blank" rel="noopener noreferrer">#3518</a></li><li>Make sure CLI works for namespaced knex packages <a href="https://github.com/knex/knex/issues/2539" target="_blank" rel="noopener noreferrer">#2539</a></li></ul><p><strong>Typings</strong></p><ul><li>Lift up dialect specific methods in the CreateTableBuilder <a href="https://github.com/knex/knex/issues/3532" target="_blank" rel="noopener noreferrer">#3532</a></li><li>Add client property to QueryBuilder type <a href="https://github.com/knex/knex/issues/3541" target="_blank" rel="noopener noreferrer">#3541</a></li><li>Support &#39;only&#39; option <a href="https://github.com/knex/knex/issues/3551" target="_blank" rel="noopener noreferrer">#3551</a></li></ul><h3 id="_0-20-2-14-november-2019" tabindex="-1">0.20.2 - 14 November, 2019 <a class="header-anchor" href="#_0-20-2-14-november-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Add support for distinct on for postgres <a href="https://github.com/knex/knex/issues/3513" target="_blank" rel="noopener noreferrer">#3513</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Make sqlite3 hasColumn case insensitive <a href="https://github.com/knex/knex/issues/3435" target="_blank" rel="noopener noreferrer">#3435</a></li></ul><p><strong>Typings</strong></p><ul><li>Fix PoolConfig typing <a href="https://github.com/knex/knex/issues/3505" target="_blank" rel="noopener noreferrer">#3505</a></li><li>Expand SeedsConfig types <a href="https://github.com/knex/knex/issues/3531" target="_blank" rel="noopener noreferrer">#3531</a></li><li>Make the default type parameters of QueryBuilder less strict <a href="https://github.com/knex/knex/issues/3520" target="_blank" rel="noopener noreferrer">#3520</a></li><li>Fix regression in older version of node when Promise#finally was not available <a href="https://github.com/knex/knex/issues/3507" target="_blank" rel="noopener noreferrer">#3507</a></li></ul><h3 id="_0-20-1-29-october-2019" tabindex="-1">0.20.1 - 29 October, 2019 <a class="header-anchor" href="#_0-20-1-29-october-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Declare drivers as optional peerDependencies <a href="https://github.com/knex/knex/issues/3081" target="_blank" rel="noopener noreferrer">#3081</a></li><li>Dynamic connection configuration resolution <a href="https://github.com/knex/knex/issues/3497" target="_blank" rel="noopener noreferrer">#3497</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Wrap subQuery with parenthesis when it appears as table name <a href="https://github.com/knex/knex/issues/3496" target="_blank" rel="noopener noreferrer">#3496</a></li><li>Fix Oracle error codes <a href="https://github.com/knex/knex/issues/3498" target="_blank" rel="noopener noreferrer">#3498</a></li></ul><p><strong>Typings</strong></p><ul><li>Add interface for PG Connection object <a href="https://github.com/knex/knex/issues/3372" target="_blank" rel="noopener noreferrer">#3372</a></li><li>Gracefully handle global promise pollution <a href="https://github.com/knex/knex/issues/3502" target="_blank" rel="noopener noreferrer">#3502</a></li></ul><h3 id="_0-20-0-25-october-2019" tabindex="-1">0.20.0 - 25 October, 2019 <a class="header-anchor" href="#_0-20-0-25-october-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>orderBy accepts QueryBuilder <a href="https://github.com/knex/knex/issues/3491" target="_blank" rel="noopener noreferrer">#3491</a></li><li>Add validation in <code>.offset()</code> <a href="https://github.com/knex/knex/issues/2908" target="_blank" rel="noopener noreferrer">#2908</a></li><li>disable_migrations_list_validation feature <a href="https://github.com/knex/knex/issues/3448" target="_blank" rel="noopener noreferrer">#3448</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix oracledb driver v4 support <a href="https://github.com/knex/knex/issues/3480" target="_blank" rel="noopener noreferrer">#3480</a></li><li>Fix some issues around seed and migration generation <a href="https://github.com/knex/knex/issues/3479" target="_blank" rel="noopener noreferrer">#3479</a></li><li>Fix bugs in replacement logic used when dropping columns in SQLite <a href="https://github.com/knex/knex/issues/3476" target="_blank" rel="noopener noreferrer">#3476</a></li></ul><p><strong>Typings</strong></p><ul><li>Add types to the Migrator interface <a href="https://github.com/knex/knex/issues/3459" target="_blank" rel="noopener noreferrer">#3459</a></li><li>Fix typings of index and dropIndex TableBuilder methods <a href="https://github.com/knex/knex/issues/3486" target="_blank" rel="noopener noreferrer">#3486</a></li><li>Fixes types for Seeder#run <a href="https://github.com/knex/knex/issues/3438" target="_blank" rel="noopener noreferrer">#3438</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Execute CI on Node.js 13</li><li>Bluebird: remove usage of <code>return</code>, <code>reflect</code>, <code>fromCallback</code> methods <a href="https://github.com/knex/knex/issues/3483" target="_blank" rel="noopener noreferrer">#3483</a></li><li>Bluebird: remove Bluebird.bind <a href="https://github.com/knex/knex/issues/3477" target="_blank" rel="noopener noreferrer">#3477</a></li><li>Bluebird: use util.promisify instead of Bluebird.promisify <a href="https://github.com/knex/knex/issues/3470" target="_blank" rel="noopener noreferrer">#3470</a></li><li>Bluebird: remove Bluebird.each <a href="https://github.com/knex/knex/issues/3471" target="_blank" rel="noopener noreferrer">#3471</a></li><li>Bluebird: remove Bluebird.map and Bluebird.mapSeries <a href="https://github.com/knex/knex/issues/3474" target="_blank" rel="noopener noreferrer">#3474</a></li><li>Bluebird: replace Bluebird.map with Promise.all <a href="https://github.com/knex/knex/issues/3469" target="_blank" rel="noopener noreferrer">#3469</a></li><li>Update badges <a href="https://github.com/knex/knex/issues/3482" target="_blank" rel="noopener noreferrer">#3482</a></li></ul><h3 id="_0-19-5-06-october-2019" tabindex="-1">0.19.5 - 06 October, 2019 <a class="header-anchor" href="#_0-19-5-06-october-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>CLI: Migrations up/down commands - filename parameter <a href="https://github.com/knex/knex/issues/3416" target="_blank" rel="noopener noreferrer">#3416</a></li><li>Oracle: Support stored procedures <a href="https://github.com/knex/knex/issues/3449" target="_blank" rel="noopener noreferrer">#3449</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>MSSQL: Escape column ids correctly in all cases (reported by Snyk Security Research Team) <a href="https://github.com/knex/knex/issues/3382" target="_blank" rel="noopener noreferrer">#3382</a></li><li>SQLite: Fix handling of multiline SQL in SQLite3 schema <a href="https://github.com/knex/knex/issues/3411" target="_blank" rel="noopener noreferrer">#3411</a></li><li>Fix concurrent child transactions failing <a href="https://github.com/knex/knex/issues/2213" target="_blank" rel="noopener noreferrer">#2213</a> <a href="https://github.com/knex/knex/issues/3440" target="_blank" rel="noopener noreferrer">#3440</a></li></ul><p><strong>Typings</strong></p><ul><li>Add missing Migrator.list typing <a href="https://github.com/knex/knex/issues/3460" target="_blank" rel="noopener noreferrer">#3460</a></li><li>Fix Typescript type inference for to better support wildcard (*) calls <a href="https://github.com/knex/knex/issues/3444" target="_blank" rel="noopener noreferrer">#3444</a></li><li>Make options argument optional in timeout <a href="https://github.com/knex/knex/issues/3442" target="_blank" rel="noopener noreferrer">#3442</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Enable linting in CI <a href="https://github.com/knex/knex/issues/3450" target="_blank" rel="noopener noreferrer">#3450</a></li></ul><h3 id="_0-19-4-09-september-2019" tabindex="-1">0.19.4 - 09 September, 2019 <a class="header-anchor" href="#_0-19-4-09-september-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Add undefined columns to undefined binding(s) error <a href="https://github.com/knex/knex/issues/3425" target="_blank" rel="noopener noreferrer">#3425</a></li></ul><p><strong>Typings</strong></p><ul><li>Add <code>specific</code> to SeederConfig type <a href="https://github.com/knex/knex/issues/3429" target="_blank" rel="noopener noreferrer">#3429</a></li><li>Fix some issues with QueryBuilder types <a href="https://github.com/knex/knex/issues/3427" target="_blank" rel="noopener noreferrer">#3427</a></li></ul><h3 id="_0-19-3-25-august-2019" tabindex="-1">0.19.3 - 25 August, 2019 <a class="header-anchor" href="#_0-19-3-25-august-2019" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Fix migrations for native enums to use table schema <a href="https://github.com/knex/knex/issues/3307" target="_blank" rel="noopener noreferrer">#3307</a></li></ul><p><strong>New features</strong></p><ul><li>Add ability to manually define schema for native enums <a href="https://github.com/knex/knex/issues/3307" target="_blank" rel="noopener noreferrer">#3307</a></li><li>Add SSL/TLS support for Postgres connection string <a href="https://github.com/knex/knex/issues/3410" target="_blank" rel="noopener noreferrer">#3410</a></li><li>CLI: new command that lists all migrations with status <a href="https://github.com/knex/knex/issues/3390" target="_blank" rel="noopener noreferrer">#3390</a></li></ul><p><strong>Typings</strong></p><ul><li>Include schemaName in EnumOptions <a href="https://github.com/knex/knex/issues/3415" target="_blank" rel="noopener noreferrer">#3415</a></li><li>Allow <code>ColumnBuilder.defaultTo()</code> to be <code>null</code> <a href="https://github.com/knex/knex/issues/3407" target="_blank" rel="noopener noreferrer">#3407</a></li></ul><p><strong>Other Changes</strong></p><ul><li>migrate: Refactor _lockMigrations to avoid forUpdate - makes migrations compatible with CockroachDB <a href="https://github.com/knex/knex/issues/3395" target="_blank" rel="noopener noreferrer">#3395</a></li></ul><h3 id="_0-19-2-17-august-2019" tabindex="-1">0.19.2 - 17 August, 2019 <a class="header-anchor" href="#_0-19-2-17-august-2019" aria-hidden="true">#</a></h3><p><strong>Other Changes</strong></p><ul><li>Make transaction rejection consistent across dialects <a href="https://github.com/knex/knex/issues/3399" target="_blank" rel="noopener noreferrer">#3399</a></li><li>More consistent handling of nested transactions <a href="https://github.com/knex/knex/issues/3393" target="_blank" rel="noopener noreferrer">#3393</a></li></ul><p><strong>New features</strong></p><ul><li>Fallback to JSON when using JSONB in MySQL <a href="https://github.com/knex/knex/issues/3394" target="_blank" rel="noopener noreferrer">#3394</a></li></ul><h3 id="_0-19-1-23-july-2019" tabindex="-1">0.19.1 - 23 July, 2019 <a class="header-anchor" href="#_0-19-1-23-july-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Allow to extend knex query builder <a href="https://github.com/knex/knex/issues/3334" target="_blank" rel="noopener noreferrer">#3334</a></li><li>Add .isCompleted() to transaction <a href="https://github.com/knex/knex/issues/3368" target="_blank" rel="noopener noreferrer">#3368</a></li><li>Minor enhancements around aliasing of aggregates <a href="https://github.com/knex/knex/issues/3354" target="_blank" rel="noopener noreferrer">#3354</a></li></ul><p><strong>Typings</strong></p><ul><li>Update configuration typings to allow for oracle db connectionstring <a href="https://github.com/knex/knex/issues/3361" target="_blank" rel="noopener noreferrer">#3361</a></li><li>Update Knex.raw type to be any by default because the actual type is dialect specific <a href="https://github.com/knex/knex/issues/3349" target="_blank" rel="noopener noreferrer">#3349</a></li></ul><h3 id="_0-19-0-11-july-2019" tabindex="-1">0.19.0 - 11 July, 2019 <a class="header-anchor" href="#_0-19-0-11-july-2019" aria-hidden="true">#</a></h3><p><strong>Other Changes</strong></p><ul><li>Pooling: tarn.js connection pool was updated to version 2.0.0. This fixes issue with destroying connections and introduces support for connection pool event handlers. Please see tarn.js documentation for more details <a href="https://github.com/knex/knex/issues/3345" target="_blank" rel="noopener noreferrer">#3345</a></li><li>Pooling: Passing unsupported pooling configuration options now throws an error</li><li>Pooling: <code>beforeDestroy</code> configuration option was removed</li></ul><h3 id="_0-18-4-10-july-2019" tabindex="-1">0.18.4 - 10 July, 2019 <a class="header-anchor" href="#_0-18-4-10-july-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Seeds: Option to run specific seed file <a href="https://github.com/knex/knex/issues/3335" target="_blank" rel="noopener noreferrer">#3335</a></li><li>Implement &quot;skipLocked()&quot; and &quot;noWait()&quot; <a href="https://github.com/knex/knex/issues/2961" target="_blank" rel="noopener noreferrer">#2961</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>CLI: Respect the knexfile stub option while generating a migration <a href="https://github.com/knex/knex/issues/3337" target="_blank" rel="noopener noreferrer">#3337</a></li><li>Fix mssql import not being ignored, breaking webpack builds <a href="https://github.com/knex/knex/issues/3336" target="_blank" rel="noopener noreferrer">#3336</a></li></ul><h3 id="_0-18-3-04-july-2019" tabindex="-1">0.18.3 - 04 July, 2019 <a class="header-anchor" href="#_0-18-3-04-july-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>CLI: add --stub option to migration:make <a href="https://github.com/knex/knex/issues/3316" target="_blank" rel="noopener noreferrer">#3316</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix return duplicate transaction promise for standalone transactions <a href="https://github.com/knex/knex/issues/3328" target="_blank" rel="noopener noreferrer">#3328</a></li></ul><h3 id="_0-18-2-03-july-2019" tabindex="-1">0.18.2 - 03 July, 2019 <a class="header-anchor" href="#_0-18-2-03-july-2019" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Fix remove duplicate transaction rejection <a href="https://github.com/knex/knex/issues/3324" target="_blank" rel="noopener noreferrer">#3324</a></li><li>Fix issues around specifying default values for columns <a href="https://github.com/knex/knex/issues/3318" target="_blank" rel="noopener noreferrer">#3318</a></li><li>CLI: Fix empty --version output <a href="https://github.com/knex/knex/issues/3312" target="_blank" rel="noopener noreferrer">#3312</a></li></ul><h3 id="_0-18-1-30-june-2019" tabindex="-1">0.18.1 - 30 June, 2019 <a class="header-anchor" href="#_0-18-1-30-june-2019" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Do not reject duplicate promise on transaction rollback <a href="https://github.com/knex/knex/issues/3319" target="_blank" rel="noopener noreferrer">#3319</a></li></ul><h3 id="_0-18-0-26-june-2019" tabindex="-1">0.18.0 - 26 June, 2019 <a class="header-anchor" href="#_0-18-0-26-june-2019" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Do not reject promise on transaction rollback (by default only for new, non-callback, style of transactions for now to avoid breaking old code) <a href="https://github.com/knex/knex/issues/3235" target="_blank" rel="noopener noreferrer">#3235</a></li></ul><p><strong>New features</strong></p><ul><li>Added <code>doNotRejectOnRollback</code> options for starting transactions, to prevent rejecting promises on rollback for callback-style transactions.</li><li>Use extension from knexfile for generating migrations unless overriden <a href="https://github.com/knex/knex/issues/3282" target="_blank" rel="noopener noreferrer">#3282</a></li><li>Use migrations.extension from config when generating migration <a href="https://github.com/knex/knex/issues/3242" target="_blank" rel="noopener noreferrer">#3242</a></li><li>Expose executionPromise for transactors <a href="https://github.com/knex/knex/issues/3297" target="_blank" rel="noopener noreferrer">#3297</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Oracle: Updated handling of connection errors for disposal <a href="https://github.com/knex/knex/issues/2608" target="_blank" rel="noopener noreferrer">#2608</a></li><li>Fix extension resolution from env configs <a href="https://github.com/knex/knex/issues/3294" target="_blank" rel="noopener noreferrer">#3294</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Drop support for Node.js 6 <a href="https://github.com/knex/knex/issues/3227" target="_blank" rel="noopener noreferrer">#3227</a></li><li>Remove Babel <a href="https://github.com/knex/knex/issues/3227" target="_blank" rel="noopener noreferrer">#3227</a></li><li>Remove Bluebird <a href="https://github.com/knex/knex/issues/3290" target="_blank" rel="noopener noreferrer">#3290</a> <a href="https://github.com/knex/knex/issues/3287" target="_blank" rel="noopener noreferrer">#3287</a> <a href="https://github.com/knex/knex/issues/3285" target="_blank" rel="noopener noreferrer">#3285</a> <a href="https://github.com/knex/knex/issues/3267" target="_blank" rel="noopener noreferrer">#3267</a> <a href="https://github.com/knex/knex/issues/3266" target="_blank" rel="noopener noreferrer">#3266</a> <a href="https://github.com/knex/knex/issues/3263" target="_blank" rel="noopener noreferrer">#3263</a></li><li>Fix comments that were modified by find &amp; replace <a href="https://github.com/knex/knex/issues/3308" target="_blank" rel="noopener noreferrer">#3308</a></li></ul><p><strong>Typings</strong></p><ul><li>Add workarounds for degraded inference when strictNullChecks is set to false <a href="https://github.com/knex/knex/issues/3275" target="_blank" rel="noopener noreferrer">#3275</a></li><li>Add stub type definition for Migrator config <a href="https://github.com/knex/knex/issues/3279" target="_blank" rel="noopener noreferrer">#3279</a></li><li>Add stub to seeds type <a href="https://github.com/knex/knex/issues/3296" target="_blank" rel="noopener noreferrer">#3296</a></li><li>Fix MSSQL config typings <a href="https://github.com/knex/knex/issues/3269" target="_blank" rel="noopener noreferrer">#3269</a></li><li>Add pgsql specific table builder method typings <a href="https://github.com/knex/knex/issues/3146" target="_blank" rel="noopener noreferrer">#3146</a></li></ul><h3 id="_0-17-5-8-june-2019" tabindex="-1">0.17.5 - 8 June, 2019 <a class="header-anchor" href="#_0-17-5-8-june-2019" aria-hidden="true">#</a></h3><p><strong>Typings</strong></p><ul><li>Include result.d.ts in published package <a href="https://github.com/knex/knex/issues/3271" target="_blank" rel="noopener noreferrer">#3271</a></li></ul><h3 id="_0-17-4-8-june-2019" tabindex="-1">0.17.4 - 8 June, 2019 <a class="header-anchor" href="#_0-17-4-8-june-2019" aria-hidden="true">#</a></h3><p><strong>Typings</strong></p><ul><li>Fix some cases of left-to-right inference causing type mismatch <a href="https://github.com/knex/knex/issues/3265" target="_blank" rel="noopener noreferrer">#3265</a></li><li>Improve count typings <a href="https://github.com/knex/knex/issues/3249" target="_blank" rel="noopener noreferrer">#3249</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix error message bubbling up on seed error <a href="https://github.com/knex/knex/issues/3248" target="_blank" rel="noopener noreferrer">#3248</a></li></ul><h3 id="_0-17-3-2-june-2019" tabindex="-1">0.17.3 - 2 June, 2019 <a class="header-anchor" href="#_0-17-3-2-june-2019" aria-hidden="true">#</a></h3><p><strong>Typings</strong></p><ul><li>Improve typings for aggregations <a href="https://github.com/knex/knex/issues/3245" target="_blank" rel="noopener noreferrer">#3245</a></li><li>Add decimalNumbers to MySqlConnectionConfig interface <a href="https://github.com/knex/knex/issues/3244" target="_blank" rel="noopener noreferrer">#3244</a></li></ul><h3 id="_0-17-2-1-june-2019" tabindex="-1">0.17.2 - 1 June, 2019 <a class="header-anchor" href="#_0-17-2-1-june-2019" aria-hidden="true">#</a></h3><p><strong>Typings</strong></p><ul><li>Improve count typings <a href="https://github.com/knex/knex/issues/3239" target="_blank" rel="noopener noreferrer">#3239</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>&quot;colorette&quot; dependency breaks browserify builds <a href="https://github.com/knex/knex/issues/3238" target="_blank" rel="noopener noreferrer">#3238</a></li></ul><h3 id="_0-17-1-31-may-2019" tabindex="-1">0.17.1 - 31 May, 2019 <a class="header-anchor" href="#_0-17-1-31-may-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Add migrate:down functionality <a href="https://github.com/knex/knex/issues/3228" target="_blank" rel="noopener noreferrer">#3228</a></li></ul><p><strong>Typings</strong></p><ul><li>Update type of aggregation results to not be arrays when first has been invoked before <a href="https://github.com/knex/knex/issues/3237" target="_blank" rel="noopener noreferrer">#3237</a></li><li>Include undefined in type of single row results <a href="https://github.com/knex/knex/issues/3231" target="_blank" rel="noopener noreferrer">#3231</a></li><li>Fix incorrect type definitions for single row queries <a href="https://github.com/knex/knex/issues/3230" target="_blank" rel="noopener noreferrer">#3230</a></li></ul><h3 id="_0-17-0-28-may-2019" tabindex="-1">0.17.0 - 28 May, 2019 <a class="header-anchor" href="#_0-17-0-28-may-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Add support for returning started transaction without immediately executing it <a href="https://github.com/knex/knex/issues/3099" target="_blank" rel="noopener noreferrer">#3099</a></li><li>Add support for passing transaction around with only starting it when needed <a href="https://github.com/knex/knex/issues/3099" target="_blank" rel="noopener noreferrer">#3099</a></li><li>Add clearHaving function <a href="https://github.com/knex/knex/issues/3141" target="_blank" rel="noopener noreferrer">#3141</a></li><li>Add --all flag for rollback in CLI <a href="https://github.com/knex/knex/issues/3187" target="_blank" rel="noopener noreferrer">#3187</a></li><li>Add error detail log to knex CLI <a href="https://github.com/knex/knex/issues/3149" target="_blank" rel="noopener noreferrer">#3149</a></li><li>Support multi-column whereIn in sqlite through values clause <a href="https://github.com/knex/knex/issues/3220" target="_blank" rel="noopener noreferrer">#3220</a></li><li>Allow users to specify the migrations &quot;tableName&quot; parameter via the CLI <a href="https://github.com/knex/knex/issues/3214" target="_blank" rel="noopener noreferrer">#3214</a></li><li>Unify object options handling for datetime/timestamp across dialects <a href="https://github.com/knex/knex/issues/3181" target="_blank" rel="noopener noreferrer">#3181</a></li><li>Add &quot;up&quot; command for migrations <a href="https://github.com/knex/knex/issues/3205" target="_blank" rel="noopener noreferrer">#3205</a></li></ul><p><strong>Typings</strong></p><ul><li>Add default values for generic types (fixes backwards compatibility broken by 0.16.6) <a href="https://github.com/knex/knex/issues/3189" target="_blank" rel="noopener noreferrer">#3189</a></li><li>Make function types generic in type definitions <a href="https://github.com/knex/knex/issues/3168" target="_blank" rel="noopener noreferrer">#3168</a></li><li>Add missing types to MigratorConfig <a href="https://github.com/knex/knex/issues/3174" target="_blank" rel="noopener noreferrer">#3174</a></li><li>Add types for havingBetween, orHavingBetween, havingNotBetween and orHavingNotBetween <a href="https://github.com/knex/knex/issues/3144" target="_blank" rel="noopener noreferrer">#3144</a></li><li>Update Knex.Config types to include log <a href="https://github.com/knex/knex/issues/3221" target="_blank" rel="noopener noreferrer">#3221</a></li><li>Fix some more cases of missing typings <a href="https://github.com/knex/knex/issues/3223" target="_blank" rel="noopener noreferrer">#3223</a></li><li>Support type safe refs <a href="https://github.com/knex/knex/issues/3215" target="_blank" rel="noopener noreferrer">#3215</a></li><li>Expose some utility types <a href="https://github.com/knex/knex/issues/3211" target="_blank" rel="noopener noreferrer">#3211</a></li><li>Fix issues with typings of joins and some conflicts with Bluebird typings <a href="https://github.com/knex/knex/issues/3209" target="_blank" rel="noopener noreferrer">#3209</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Fix order of migration rollback <a href="https://github.com/knex/knex/issues/3172" target="_blank" rel="noopener noreferrer">#3172</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Execute CI tests on Node.js 12 <a href="https://github.com/knex/knex/issues/3171" target="_blank" rel="noopener noreferrer">#3171</a></li><li>Docker-based test dbs <a href="https://github.com/knex/knex/issues/3157" target="_blank" rel="noopener noreferrer">#3157</a></li><li>Use cli-testlab for testing CLI <a href="https://github.com/knex/knex/issues/3191" target="_blank" rel="noopener noreferrer">#3191</a></li></ul><h3 id="_0-16-5-11-apr-2019" tabindex="-1">0.16.5 - 11 Apr, 2019 <a class="header-anchor" href="#_0-16-5-11-apr-2019" aria-hidden="true">#</a></h3><ul><li>Bundle polyfills with knex for 0.16.x line again <a href="https://github.com/knex/knex/issues/3139" target="_blank" rel="noopener noreferrer">#3139</a></li></ul><h3 id="_0-16-4-11-apr-2019" tabindex="-1">0.16.4 - 11 Apr, 2019 <a class="header-anchor" href="#_0-16-4-11-apr-2019" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Boolean param for rollback() to rollback all migrations <a href="https://github.com/knex/knex/issues/2968" target="_blank" rel="noopener noreferrer">#2968</a></li><li>seed:run print the file name of the failing seed <a href="https://github.com/knex/knex/issues/2972" target="_blank" rel="noopener noreferrer">#2972</a> <a href="https://github.com/knex/knex/issues/2973" target="_blank" rel="noopener noreferrer">#2973</a></li><li>verbose option to CLI commands <a href="https://github.com/knex/knex/issues/2887" target="_blank" rel="noopener noreferrer">#2887</a></li><li>add intersect() <a href="https://github.com/knex/knex/issues/3023" target="_blank" rel="noopener noreferrer">#3023</a></li><li>Improved format for TS stubs <a href="https://github.com/knex/knex/issues/3080" target="_blank" rel="noopener noreferrer">#3080</a></li><li>MySQL: Support nullable timestamps <a href="https://github.com/knex/knex/issues/3100" target="_blank" rel="noopener noreferrer">#3100</a></li><li>MySQL: Warn <code>.returning()</code> does not have any effect <a href="https://github.com/knex/knex/issues/3039" target="_blank" rel="noopener noreferrer">#3039</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Respect &quot;loadExtensions&quot; configuration <a href="https://github.com/knex/knex/issues/2969" target="_blank" rel="noopener noreferrer">#2969</a></li><li>Fix event listener duplication when using Migrator <a href="https://github.com/knex/knex/issues/2982" target="_blank" rel="noopener noreferrer">#2982</a></li><li>Fix fs-migrations breaking docs <a href="https://github.com/knex/knex/issues/3022" target="_blank" rel="noopener noreferrer">#3022</a></li><li>Fix sqlite3 drop/renameColumn() breaks with postProcessResponse <a href="https://github.com/knex/knex/issues/3040" target="_blank" rel="noopener noreferrer">#3040</a></li><li>Fix transaction support for migrations <a href="https://github.com/knex/knex/issues/3084" target="_blank" rel="noopener noreferrer">#3084</a></li><li>Fix queryContext not being passed to raw queries <a href="https://github.com/knex/knex/issues/3111" target="_blank" rel="noopener noreferrer">#3111</a></li><li>Typings: Allow to pass query builders, identifiers and raw in various places as parameters <a href="https://github.com/knex/knex/issues/2960" target="_blank" rel="noopener noreferrer">#2960</a></li><li>Typings: toNative() definition <a href="https://github.com/knex/knex/issues/2996" target="_blank" rel="noopener noreferrer">#2996</a></li><li>Typings: asCallback() definition <a href="https://github.com/knex/knex/issues/2963" target="_blank" rel="noopener noreferrer">#2963</a></li><li>Typings: queryContext() type definition Knex.Raw <a href="https://github.com/knex/knex/issues/3002" target="_blank" rel="noopener noreferrer">#3002</a></li><li>Typings: Add &quot;constraintName&quot; arg to primary() definition <a href="https://github.com/knex/knex/issues/3006" target="_blank" rel="noopener noreferrer">#3006</a></li><li>Typings: Add missing schemaName in MigratorConfig <a href="https://github.com/knex/knex/issues/3016" target="_blank" rel="noopener noreferrer">#3016</a></li><li>Typings: Add missing supported parameter types and toSQL method <a href="https://github.com/knex/knex/issues/2960" target="_blank" rel="noopener noreferrer">#2960</a></li><li>Typings: Update enum arguments to reflect latest signature <a href="https://github.com/knex/knex/issues/3043" target="_blank" rel="noopener noreferrer">#3043</a></li><li>Typings: Add size parameter to integer method <a href="https://github.com/knex/knex/issues/3074" target="_blank" rel="noopener noreferrer">#3074</a></li><li>Typings: Add &#39;string&#39; as accepted Knex constructor type definition <a href="https://github.com/knex/knex/issues/3105" target="_blank" rel="noopener noreferrer">#3105</a></li><li>Typings: Add boolean as a column name in join <a href="https://github.com/knex/knex/issues/3121" target="_blank" rel="noopener noreferrer">#3121</a></li><li>Typings: Add missing clearOrder &amp; clearCounters types <a href="https://github.com/knex/knex/issues/3109" target="_blank" rel="noopener noreferrer">#3109</a></li><li>Dependencies: Fix security warning <a href="https://github.com/knex/knex/issues/3082" target="_blank" rel="noopener noreferrer">#3082</a></li><li>Do not use unsupported column width/length arguments on data types int and tinyint in MSSQL <a href="https://github.com/knex/knex/issues/2738" target="_blank" rel="noopener noreferrer">#2738</a></li></ul><p><strong>Other Changes</strong></p><ul><li>Make unionAll()&#39;s call signature match union() <a href="https://github.com/knex/knex/issues/3055" target="_blank" rel="noopener noreferrer">#3055</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Swap chalk\u2192colorette / minimist\u2192getopts <a href="https://github.com/knex/knex/issues/2718" target="_blank" rel="noopener noreferrer">#2718</a></li><li>Always use well documented pg client query() config argument <a href="https://github.com/knex/knex/issues/3004" target="_blank" rel="noopener noreferrer">#3004</a></li><li>Do not bundle polyfills with knex <a href="https://github.com/knex/knex/issues/3024" target="_blank" rel="noopener noreferrer">#3024</a></li></ul><h3 id="_0-16-3-19-dec-2018" tabindex="-1">0.16.3 - 19 Dec, 2018 <a class="header-anchor" href="#_0-16-3-19-dec-2018" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>@babel/polyfill loaded multiple times <a href="https://github.com/knex/knex/issues/2955" target="_blank" rel="noopener noreferrer">#2955</a></li><li>Resolve migrations and seeds relatively to knexfile directory when specified (the way it used to be before 0.16.1) <a href="https://github.com/knex/knex/issues/2952" target="_blank" rel="noopener noreferrer">#2952</a></li></ul><h3 id="_0-16-2-10-dec-2018" tabindex="-1">0.16.2 - 10 Dec, 2018 <a class="header-anchor" href="#_0-16-2-10-dec-2018" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Add TypeScript types to the &quot;files&quot; entry so they are properly included in the release <a href="https://github.com/knex/knex/issues/2943" target="_blank" rel="noopener noreferrer">#2943</a></li></ul><h3 id="_0-16-1-28-nov-2018" tabindex="-1">0.16.1 - 28 Nov, 2018 <a class="header-anchor" href="#_0-16-1-28-nov-2018" aria-hidden="true">#</a></h3><p><strong>Breaking changes</strong></p><ul><li>Use datetime2 for MSSQL datetime + timestamp types. This change is incompatible with MSSQL older than 2008 <a href="https://github.com/knex/knex/issues/2757" target="_blank" rel="noopener noreferrer">#2757</a></li><li>Knex.VERSION() method was removed, run &quot;require(&#39;knex/package&#39;).version&quot; instead <a href="https://github.com/knex/knex/issues/2776" target="_blank" rel="noopener noreferrer">#2776</a></li><li>Knex transpilation now targets Node.js 6, meaning it will no longer run on older Node.js versions <a href="https://github.com/knex/knex/issues/2813" target="_blank" rel="noopener noreferrer">#2813</a></li><li>Add json type support for SQLite 3.9+ (tested to work with Node package &#39;sqlite3&#39; 4.0.2+) <a href="https://github.com/knex/knex/issues/2814" target="_blank" rel="noopener noreferrer">#2814</a></li></ul><p><strong>New features</strong></p><ul><li>Support passing explicit connection to query builder (<a href="https://github.com/knex/knex/issues/2817" target="_blank" rel="noopener noreferrer">#2817</a>)</li><li>Introduced abstraction for getting migrations to make migration bundling easier <a href="https://github.com/knex/knex/issues/2775" target="_blank" rel="noopener noreferrer">#2775</a></li><li>Allow timestamp with timezone on mssql databases <a href="https://github.com/knex/knex/issues/2724" target="_blank" rel="noopener noreferrer">#2724</a></li><li>Allow specifying multiple migration directories <a href="https://github.com/knex/knex/issues/2735" target="_blank" rel="noopener noreferrer">#2735</a></li><li>Allow cloning query builder with .userParams({}) assigned to it <a href="https://github.com/knex/knex/issues/2802" target="_blank" rel="noopener noreferrer">#2802</a></li><li>Allow chaining of increment, decrement, and update <a href="https://github.com/knex/knex/issues/2740" target="_blank" rel="noopener noreferrer">#2740</a></li><li>Allow table names with <code>forUpdate</code>/<code>forShare</code> <a href="https://github.com/knex/knex/issues/2834" target="_blank" rel="noopener noreferrer">#2834</a></li><li>Added <code>whereColumn</code> and the associated <code>not</code> / <code>and</code> / <code>or</code> methods for using columns on the right side of a where clause <a href="https://github.com/knex/knex/issues/2837" target="_blank" rel="noopener noreferrer">#2837</a></li><li>Added <code>whereRecursive</code> method to make self-referential CTEs possible <a href="https://github.com/knex/knex/issues/2889" target="_blank" rel="noopener noreferrer">#2889</a></li><li>Added support for named unique, primary and foreign keys to SQLite3 <a href="https://github.com/knex/knex/issues/2840" target="_blank" rel="noopener noreferrer">#2840</a></li><li>Added support for generating new migration and seed files without knexfile <a href="https://github.com/knex/knex/issues/2884" target="_blank" rel="noopener noreferrer">#2884</a> <a href="https://github.com/knex/knex/issues/2905" target="_blank" rel="noopener noreferrer">#2905</a> <a href="https://github.com/knex/knex/issues/2935" target="_blank" rel="noopener noreferrer">#2935</a></li><li>Added support for multiple columns in <code>.orderBy()</code> <a href="https://github.com/knex/knex/issues/2881" target="_blank" rel="noopener noreferrer">#2881</a></li><li>Added option of <code>existingType</code> to <code>.enum()</code> method to support repeated use of enums <a href="https://github.com/knex/knex/issues/2719" target="_blank" rel="noopener noreferrer">#2719</a></li><li>Added option to pass <code>indexType</code> for MySQL dialect <a href="https://github.com/knex/knex/issues/2890" target="_blank" rel="noopener noreferrer">#2890</a></li><li>Added <code>onVal</code> and the associated <code>not</code> / <code>and</code> / <code>or</code> methods for using values in <code>on</code> clauses within joins <a href="https://github.com/knex/knex/issues/2746" target="_blank" rel="noopener noreferrer">#2746</a></li><li>Kill queries after timeout for PostgreSQL <a href="https://github.com/knex/knex/issues/2636" target="_blank" rel="noopener noreferrer">#2636</a></li><li>Manage TypeScript types internally <a href="https://github.com/knex/knex/issues/2845" target="_blank" rel="noopener noreferrer">#2845</a></li><li>Support 5.0.0+ versions of mssql driver <a href="https://github.com/knex/knex/issues/2861" target="_blank" rel="noopener noreferrer">#2861</a></li><li>Typescript migration stub <a href="https://github.com/knex/knex/issues/2816" target="_blank" rel="noopener noreferrer">#2816</a></li><li>Options object for passing timestamp parameters + regression tests <a href="https://github.com/knex/knex/issues/2919" target="_blank" rel="noopener noreferrer">#2919</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Implement fail-fast logic for dialect resolution <a href="https://github.com/knex/knex/issues/2776" target="_blank" rel="noopener noreferrer">#2776</a></li><li>Fixed identifier wrapping for <code>using()</code>. Use columnize instead of wrap in using() <a href="https://github.com/knex/knex/issues/2713" target="_blank" rel="noopener noreferrer">#2713</a></li><li>Fix issues with warnPromise when migration does not return a promise <a href="https://github.com/knex/knex/issues/2730" target="_blank" rel="noopener noreferrer">#2730</a></li><li>Compile with before update so that bindings are put in correct order <a href="https://github.com/knex/knex/issues/2733" target="_blank" rel="noopener noreferrer">#2733</a></li><li>Fix join using builder withSchema <a href="https://github.com/knex/knex/issues/2744" target="_blank" rel="noopener noreferrer">#2744</a></li><li>Throw instead of process.exit when client module missing <a href="https://github.com/knex/knex/issues/2843" target="_blank" rel="noopener noreferrer">#2843</a></li><li>Display correct filename of a migration that failed <a href="https://github.com/knex/knex/issues/2910" target="_blank" rel="noopener noreferrer">#2910</a></li><li>Fixed support of knexSnakeCaseWrappers in migrations <a href="https://github.com/knex/knex/issues/2914" target="_blank" rel="noopener noreferrer">#2914</a></li><li>SQlite3 renameColunm quote fix <a href="https://github.com/knex/knex/issues/2833" target="_blank" rel="noopener noreferrer">#2833</a></li><li>Adjust typing for forUpdate()/forShare() variant with table names <a href="https://github.com/knex/knex/issues/2858" target="_blank" rel="noopener noreferrer">#2858</a></li><li>Fix execution of Oracle tests on Node 11 <a href="https://github.com/knex/knex/issues/2920" target="_blank" rel="noopener noreferrer">#2920</a></li><li>Fix failures in oracle test bench and added it back to mandatory CI tests <a href="https://github.com/knex/knex/issues/2924" target="_blank" rel="noopener noreferrer">#2924</a></li><li>Knex client knexfile resolution fix <a href="https://github.com/knex/knex/issues/2923" target="_blank" rel="noopener noreferrer">#2923</a></li><li>Add queryContext to type declarations <a href="https://github.com/knex/knex/issues/2931" target="_blank" rel="noopener noreferrer">#2931</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Add tests for multiple union arguments with callbacks and builders <a href="https://github.com/knex/knex/issues/2749" target="_blank" rel="noopener noreferrer">#2749</a></li><li>Update dependencies <a href="https://github.com/knex/knex/issues/2772" target="_blank" rel="noopener noreferrer">#2772</a> <a href="https://github.com/knex/knex/issues/2810" target="_blank" rel="noopener noreferrer">#2810</a> <a href="https://github.com/knex/knex/issues/2842" target="_blank" rel="noopener noreferrer">#2842</a> <a href="https://github.com/knex/knex/issues/2848" target="_blank" rel="noopener noreferrer">#2848</a> <a href="https://github.com/knex/knex/issues/2893" target="_blank" rel="noopener noreferrer">#2893</a> <a href="https://github.com/knex/knex/issues/2904" target="_blank" rel="noopener noreferrer">#2904</a></li><li>Separate migration generator <a href="https://github.com/knex/knex/issues/2786" target="_blank" rel="noopener noreferrer">#2786</a></li><li>Do not postprocess internal queries in Migrator <a href="https://github.com/knex/knex/issues/2914" target="_blank" rel="noopener noreferrer">#2914</a> <a href="https://github.com/knex/knex/issues/2934" target="_blank" rel="noopener noreferrer">#2934</a></li><li>Use Babel 7 <a href="https://github.com/knex/knex/issues/2813" target="_blank" rel="noopener noreferrer">#2813</a></li><li>Introduce <a href="http://LGTM.com" target="_blank" rel="noopener noreferrer">LGTM.com</a> badge <a href="https://github.com/knex/knex/issues/2755" target="_blank" rel="noopener noreferrer">#2755</a></li><li>Cleanup based on analysis by <a href="https://lgtm.com" target="_blank" rel="noopener noreferrer">https://lgtm.com</a> <a href="https://github.com/knex/knex/issues/2870" target="_blank" rel="noopener noreferrer">#2870</a></li><li>Add test for retrieving null dates <a href="https://github.com/knex/knex/issues/2865" target="_blank" rel="noopener noreferrer">#2865</a></li><li>Add link to wiki <a href="https://github.com/knex/knex/issues/2866" target="_blank" rel="noopener noreferrer">#2866</a></li><li>Add tests for specifying explicit pg version <a href="https://github.com/knex/knex/issues/2895" target="_blank" rel="noopener noreferrer">#2895</a></li><li>Execute tests on Node.js 11 <a href="https://github.com/knex/knex/issues/2873" target="_blank" rel="noopener noreferrer">#2873</a></li><li>Version upgrade guide <a href="https://github.com/knex/knex/issues/2894" target="_blank" rel="noopener noreferrer">#2894</a></li></ul><h3 id="_0-16-0-27-nov-2018" tabindex="-1">0.16.0 - 27 Nov, 2018 <a class="header-anchor" href="#_0-16-0-27-nov-2018" aria-hidden="true">#</a></h3><p><strong>Other Changes</strong></p><ul><li>THIS RELEASE WAS UNPUBLISHED FROM NPM BECAUSE IT HAD BROKEN MIGRATIONS USING <code>postprocessResponse</code> FEATURE (<a href="https://github.com/knex/knex/issues/2644" target="_blank" rel="noopener noreferrer">#2644</a>)</li></ul><h3 id="_0-15-2-19-jul-2018" tabindex="-1">0.15.2 - 19 Jul, 2018 <a class="header-anchor" href="#_0-15-2-19-jul-2018" aria-hidden="true">#</a></h3><p><strong>Other Changes</strong></p><ul><li>Rolled back changes introduced by <a href="https://github.com/knex/knex/issues/2542" target="_blank" rel="noopener noreferrer">#2542</a>, in favor of opt-in behavior by adding a precision option in <code>date</code> / <code>timestamp</code> / <code>datetime</code> / <code>knex.fn.now</code> (<a href="https://github.com/knex/knex/issues/2715" target="_blank" rel="noopener noreferrer">#2715</a>, <a href="https://github.com/knex/knex/issues/2721" target="_blank" rel="noopener noreferrer">#2721</a>)</li></ul><h3 id="_0-15-1-12-jul-2018" tabindex="-1">0.15.1 - 12 Jul, 2018 <a class="header-anchor" href="#_0-15-1-12-jul-2018" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Fix warning erroneously displayed for mysql <a href="https://github.com/knex/knex/issues/2705" target="_blank" rel="noopener noreferrer">#2705</a></li></ul><h3 id="_0-15-0-1-jul-2018" tabindex="-1">0.15.0 - 1 Jul, 2018 <a class="header-anchor" href="#_0-15-0-1-jul-2018" aria-hidden="true">#</a></h3><p><strong>Breaking changes</strong></p><ul><li>Stop executing tests on Node 4 and 5. <a href="https://github.com/knex/knex/issues/2451" target="_blank" rel="noopener noreferrer">#2451</a> (not supported anymore)</li><li><code>json</code> data type is no longer converted to <code>text</code> within a schema builder migration for MySQL databases (note that JSON data type is only supported for MySQL 5.7.8+) <a href="https://github.com/knex/knex/issues/2635" target="_blank" rel="noopener noreferrer">#2635</a></li><li>Removed WebSQL dialect <a href="https://github.com/knex/knex/issues/2461" target="_blank" rel="noopener noreferrer">#2461</a></li><li>Drop mariadb support <a href="https://github.com/knex/knex/issues/2681" target="_blank" rel="noopener noreferrer">#2681</a></li><li>Primary Key for Migration Lock Table <a href="https://github.com/knex/knex/issues/2569" target="_blank" rel="noopener noreferrer">#2569</a>. This shouldn&#39;t affect to old loc tables, but if you like to have your locktable to have primary key, delete the old table and it will be recreated when migrations are ran next time.</li><li>Ensure knex.destroy() returns a bluebird promise <a href="https://github.com/knex/knex/issues/2589" target="_blank" rel="noopener noreferrer">#2589</a></li><li>Increment floats <a href="https://github.com/knex/knex/issues/2614" target="_blank" rel="noopener noreferrer">#2614</a></li><li>Testing removal of &#39;skim&#39; <a href="https://github.com/knex/knex/issues/2520" target="_blank" rel="noopener noreferrer">#2520</a>, Now rows are not converted to plain js objects, returned row objects might have changed type with oracle, mssql, mysql and sqlite3</li><li>Drop support for strong-oracle <a href="https://github.com/knex/knex/issues/2487" target="_blank" rel="noopener noreferrer">#2487</a></li><li>Timeout errors doesn&#39;t silently ignore the passed errors anymore <a href="https://github.com/knex/knex/issues/2626" target="_blank" rel="noopener noreferrer">#2626</a></li><li>Removed WebSQL dialect <a href="https://github.com/knex/knex/issues/2647" target="_blank" rel="noopener noreferrer">#2647</a></li><li>Various fixes to mssql dialect to make it compatible with other dialects <a href="https://github.com/knex/knex/issues/2653" target="_blank" rel="noopener noreferrer">#2653</a>, Unique constraint now allow multiple null values, float type is now float instaed of decimal, rolling back transaction with undefined rejects with Error, select for update and select for share actually locks selected row, so basically old schema migrations will work a lot different and produce different schema like before. Also now MSSQL is included in CI tests.</li></ul><p><strong>Bug fixes</strong></p><ul><li>Fixes onIn with empty values array <a href="https://github.com/knex/knex/issues/2513" target="_blank" rel="noopener noreferrer">#2513</a></li><li>fix wrapIdentifier not being called in postgres alter column <a href="https://github.com/knex/knex/issues/2612" target="_blank" rel="noopener noreferrer">#2612</a></li><li>fixes wrapIdentifier to work with postgres <code>returning</code> statement 2630 <a href="https://github.com/knex/knex/issues/2642" target="_blank" rel="noopener noreferrer">#2642</a></li><li>Fix mssql driver crashing in certain cases when conneciton is closed unexpectedly <a href="https://github.com/knex/knex/issues/2637" target="_blank" rel="noopener noreferrer">#2637</a></li><li>Removed semicolon from rollback stmt for oracle <a href="https://github.com/knex/knex/issues/2564" target="_blank" rel="noopener noreferrer">#2564</a></li><li>Make the stream catch errors in the query <a href="https://github.com/knex/knex/issues/2638" target="_blank" rel="noopener noreferrer">#2638</a></li></ul><p><strong>New features</strong></p><ul><li>Create timestamp columns with microsecond precision on MySQL 5.6 and newer <a href="https://github.com/knex/knex/issues/2542" target="_blank" rel="noopener noreferrer">#2542</a></li><li>Allow storing stacktrace, where builder is initialized to be able trace back where certain query was created <a href="https://github.com/knex/knex/issues/2500" target="_blank" rel="noopener noreferrer">#2500</a> <a href="https://github.com/knex/knex/issues/2505" target="_blank" rel="noopener noreferrer">#2505</a></li><li>Added &#39;ref&#39; function <a href="https://github.com/knex/knex/issues/2509" target="_blank" rel="noopener noreferrer">#2509</a>, no need for knex.raw(&#39;??&#39;, [&#39;id&#39;]) anymore, one can do knex.ref(&#39;id&#39;)</li><li>Support postgresql connection uri protocol <a href="https://github.com/knex/knex/issues/2609" target="_blank" rel="noopener noreferrer">#2609</a></li><li>Add support for native enums on Postgres <a href="https://github.com/knex/knex/issues/2632" target="_blank" rel="noopener noreferrer">#2632</a></li><li>Allow overwriting log functions <a href="https://github.com/knex/knex/issues/2625" target="_blank" rel="noopener noreferrer">#2625</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>chore: cache node_modules <a href="https://github.com/knex/knex/issues/2595" target="_blank" rel="noopener noreferrer">#2595</a></li><li>Remove babel-plugin-lodash <a href="https://github.com/knex/knex/issues/2634" target="_blank" rel="noopener noreferrer">#2634</a></li><li>Remove readable-stream and safe-buffer <a href="https://github.com/knex/knex/issues/2640" target="_blank" rel="noopener noreferrer">#2640</a></li><li>chore: add Node.js 10 <a href="https://github.com/knex/knex/issues/2594" target="_blank" rel="noopener noreferrer">#2594</a></li><li>add homepage field to package.json <a href="https://github.com/knex/knex/issues/2650" target="_blank" rel="noopener noreferrer">#2650</a></li></ul><h3 id="_0-14-6-12-apr-2018" tabindex="-1">0.14.6 - 12 Apr, 2018 <a class="header-anchor" href="#_0-14-6-12-apr-2018" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Restored functionality of query event <a href="https://github.com/knex/knex/issues/2566" target="_blank" rel="noopener noreferrer">#2566</a> (<a href="https://github.com/knex/knex/issues/2549" target="_blank" rel="noopener noreferrer">#2549</a>)</li></ul><h3 id="_0-14-5-8-apr-2018" tabindex="-1">0.14.5 - 8 Apr, 2018 <a class="header-anchor" href="#_0-14-5-8-apr-2018" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Fix wrapping returning column on oracledb <a href="https://github.com/knex/knex/issues/2554" target="_blank" rel="noopener noreferrer">#2554</a></li></ul><p><strong>New features</strong></p><ul><li>Support passing DB schema name for migrations <a href="https://github.com/knex/knex/issues/2499" target="_blank" rel="noopener noreferrer">#2499</a> <a href="https://github.com/knex/knex/issues/2559" target="_blank" rel="noopener noreferrer">#2559</a></li><li>add clearOrder method <a href="https://github.com/knex/knex/issues/2360" target="_blank" rel="noopener noreferrer">#2360</a> <a href="https://github.com/knex/knex/issues/2553" target="_blank" rel="noopener noreferrer">#2553</a></li><li>Added knexTxId to query events and debug calls <a href="https://github.com/knex/knex/issues/2476" target="_blank" rel="noopener noreferrer">#2476</a></li><li>Support multi-column <code>whereIn</code> with query <a href="https://github.com/knex/knex/issues/1390" target="_blank" rel="noopener noreferrer">#1390</a></li><li>Added error if chaining update/insert/etc with first() <a href="https://github.com/knex/knex/issues/2506" target="_blank" rel="noopener noreferrer">#2506</a></li><li>Checks for an empty, undefined or null object on transacting <a href="https://github.com/knex/knex/issues/2494" target="_blank" rel="noopener noreferrer">#2494</a></li><li>countDistinct with multiple columns <a href="https://github.com/knex/knex/issues/2449" target="_blank" rel="noopener noreferrer">#2449</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Added npm run test:oracledb command that runs oracledb tests in docker <a href="https://github.com/knex/knex/issues/2491" target="_blank" rel="noopener noreferrer">#2491</a></li><li>Runnin mssql tests in docker <a href="https://github.com/knex/knex/issues/2496" target="_blank" rel="noopener noreferrer">#2496</a></li><li>Update dependencies <a href="https://github.com/knex/knex/issues/2561" target="_blank" rel="noopener noreferrer">#2561</a></li></ul><h3 id="_0-14-4-19-feb-2018" tabindex="-1">0.14.4 - 19 Feb, 2018 <a class="header-anchor" href="#_0-14-4-19-feb-2018" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>containsUndefined only validate plain objects. Fixes <a href="https://github.com/knex/knex/issues/1898" target="_blank" rel="noopener noreferrer">#1898</a> (<a href="https://github.com/knex/knex/issues/2468" target="_blank" rel="noopener noreferrer">#2468</a>)</li><li>Add warning when using .returning() in sqlite3. Fixes <a href="https://github.com/knex/knex/issues/1660" target="_blank" rel="noopener noreferrer">#1660</a> (<a href="https://github.com/knex/knex/issues/2471" target="_blank" rel="noopener noreferrer">#2471</a>)</li><li>Throw an error if .update() results in an empty sql (<a href="https://github.com/knex/knex/issues/2472" target="_blank" rel="noopener noreferrer">#2472</a>)</li><li>Removed unnecessary createTableIfNotExist and replaced with createTable (<a href="https://github.com/knex/knex/issues/2473" target="_blank" rel="noopener noreferrer">#2473</a>)</li></ul><p><strong>New features</strong></p><ul><li>Allow calling lock procedures (such as forUpdate) outside of transaction. Fixes <a href="https://github.com/knex/knex/issues/2403" target="_blank" rel="noopener noreferrer">#2403</a>. (<a href="https://github.com/knex/knex/issues/2475" target="_blank" rel="noopener noreferrer">#2475</a>)</li><li>Added test and documentation for Event &#39;start&#39; (<a href="https://github.com/knex/knex/issues/2488" target="_blank" rel="noopener noreferrer">#2488</a>)</li></ul><p><strong>Test / internal changes</strong></p><ul><li>Added stress test, which uses TCP proxy to simulate flaky connection <a href="https://github.com/knex/knex/issues/2460" target="_blank" rel="noopener noreferrer">#2460</a></li><li>Removed old docker tests, new stress test setup (<a href="https://github.com/knex/knex/issues/2474" target="_blank" rel="noopener noreferrer">#2474</a>)</li><li>Removed unused property __cid on the base client (<a href="https://github.com/knex/knex/issues/2481" target="_blank" rel="noopener noreferrer">#2481</a>)</li><li>Changed rm to rimraf in &#39;npm run dev&#39; (<a href="https://github.com/knex/knex/issues/2483" target="_blank" rel="noopener noreferrer">#2483</a>)</li><li>Changed babel preset and use latest node as target when running dev (<a href="https://github.com/knex/knex/issues/2484" target="_blank" rel="noopener noreferrer">#2484</a>)</li></ul><h3 id="_0-14-3-8-feb-2018" tabindex="-1">0.14.3 - 8 Feb, 2018 <a class="header-anchor" href="#_0-14-3-8-feb-2018" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Use tarn as pool instead of generic-pool which has been given various problems <a href="https://github.com/knex/knex/issues/2450" target="_blank" rel="noopener noreferrer">#2450</a></li><li>Fixed mysql issue where add columns failed if using both after and collate <a href="https://github.com/knex/knex/issues/2432" target="_blank" rel="noopener noreferrer">#2432</a></li><li>CLI sets exit-code 1 if the command supplied was not parseable <a href="https://github.com/knex/knex/issues/2358" target="_blank" rel="noopener noreferrer">#2358</a></li><li>Set toNative() to be not enumerable <a href="https://github.com/knex/knex/issues/2388" target="_blank" rel="noopener noreferrer">#2388</a></li><li>Use wrapIdentifier in columnInfo. fixes <a href="https://github.com/knex/knex/issues/2402" target="_blank" rel="noopener noreferrer">#2402</a> <a href="https://github.com/knex/knex/issues/2405" target="_blank" rel="noopener noreferrer">#2405</a></li><li>Fixed a bug when using .returning (OUTPUT) in an update query with joins in MSSQL <a href="https://github.com/knex/knex/issues/2399" target="_blank" rel="noopener noreferrer">#2399</a></li><li>Better error message when running migrations fail before even starting run migrations <a href="https://github.com/knex/knex/issues/2373" target="_blank" rel="noopener noreferrer">#2373</a></li><li>Read oracle&#39;s UV_THREADPOOL_SIZE env variable correctly <a href="https://github.com/knex/knex/issues/2372" target="_blank" rel="noopener noreferrer">#2372</a></li><li>Added decimal variable precision / scale support <a href="https://github.com/knex/knex/issues/2353" target="_blank" rel="noopener noreferrer">#2353</a></li></ul><p><strong>New features</strong></p><ul><li>Added queryContext to schema and query builders <a href="https://github.com/knex/knex/issues/2314" target="_blank" rel="noopener noreferrer">#2314</a></li><li>Added redshift dialect <a href="https://github.com/knex/knex/issues/2233" target="_blank" rel="noopener noreferrer">#2233</a></li><li>Added warning when one uses .createTableIfNotExist and deprecated it from docs <a href="https://github.com/knex/knex/issues/2458" target="_blank" rel="noopener noreferrer">#2458</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Update dependencies and fix ESLint warnings accordingly <a href="https://github.com/knex/knex/issues/2433" target="_blank" rel="noopener noreferrer">#2433</a></li><li>Disable oracledb tests from non LTS nodes <a href="https://github.com/knex/knex/issues/2407" target="_blank" rel="noopener noreferrer">#2407</a></li><li>Update dependencies <a href="https://github.com/knex/knex/issues/2422" target="_blank" rel="noopener noreferrer">#2422</a></li></ul><h3 id="_0-14-2-24-nov-2017" tabindex="-1">0.14.2 - 24 Nov, 2017 <a class="header-anchor" href="#_0-14-2-24-nov-2017" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Fix sqlite3 truncate method to work again <a href="https://github.com/knex/knex/issues/2348" target="_blank" rel="noopener noreferrer">#2348</a></li></ul><h3 id="_0-14-1-19-nov-2017" tabindex="-1">0.14.1 - 19 Nov, 2017 <a class="header-anchor" href="#_0-14-1-19-nov-2017" aria-hidden="true">#</a></h3><p><strong>Bug fixes</strong></p><ul><li>Fix support for multiple schema names in in postgres <code>searchPath</code> <a href="https://github.com/knex/knex/issues/2340" target="_blank" rel="noopener noreferrer">#2340</a></li><li>Fix create new connection to pass errors to query instead of retry loop <a href="https://github.com/knex/knex/issues/2336" target="_blank" rel="noopener noreferrer">#2336</a></li><li>Fix recognition of connections closed by server <a href="https://github.com/knex/knex/issues/2341" target="_blank" rel="noopener noreferrer">#2341</a></li></ul><h3 id="_0-14-0-6-nov-2017" tabindex="-1">0.14.0 - 6 Nov, 2017 <a class="header-anchor" href="#_0-14-0-6-nov-2017" aria-hidden="true">#</a></h3><p><strong>Breaking changes</strong></p><ul><li>Remove sorting of statements from update queries <a href="https://github.com/knex/knex/issues/2171" target="_blank" rel="noopener noreferrer">#2171</a></li><li>Updated allowed operator list with some missing operators and make all to lower case <a href="https://github.com/knex/knex/issues/2239" target="_blank" rel="noopener noreferrer">#2239</a></li><li>Use node-mssql 4.0.0 <a href="https://github.com/knex/knex/issues/2029" target="_blank" rel="noopener noreferrer">#2029</a></li><li>Support for enum columns to SQlite3 dialect <a href="https://github.com/knex/knex/issues/2055" target="_blank" rel="noopener noreferrer">#2055</a></li><li>Better identifier quoting in Sqlite3 <a href="https://github.com/knex/knex/issues/2087" target="_blank" rel="noopener noreferrer">#2087</a></li><li>Migration Errors - Display filename of of failed migration <a href="https://github.com/knex/knex/issues/2272" target="_blank" rel="noopener noreferrer">#2272</a></li></ul><p><strong>Other Features</strong></p><ul><li>Post processing hook for query result <a href="https://github.com/knex/knex/issues/2261" target="_blank" rel="noopener noreferrer">#2261</a></li><li>Build native SQL where binding parameters are dialect specific <a href="https://github.com/knex/knex/issues/2237" target="_blank" rel="noopener noreferrer">#2237</a></li><li>Configuration option to allow override identifier wrapping <a href="https://github.com/knex/knex/issues/2217" target="_blank" rel="noopener noreferrer">#2217</a></li><li>Implemented select syntax: select({ alias: &#39;column&#39; }) <a href="https://github.com/knex/knex/issues/2227" target="_blank" rel="noopener noreferrer">#2227</a></li><li>Allows to filter seeds and migrations by extensions <a href="https://github.com/knex/knex/issues/2168" target="_blank" rel="noopener noreferrer">#2168</a></li><li>Reconnecting after database server disconnect/reconnect + tests <a href="https://github.com/knex/knex/issues/2017" target="_blank" rel="noopener noreferrer">#2017</a></li><li>Removed filering from allowed configuration settings of mysql2 <a href="https://github.com/knex/knex/issues/2040" target="_blank" rel="noopener noreferrer">#2040</a></li><li>Allow raw expressions in query builder aggregate methods <a href="https://github.com/knex/knex/issues/2257" target="_blank" rel="noopener noreferrer">#2257</a></li><li>Throw error on non-string table comment <a href="https://github.com/knex/knex/issues/2126" target="_blank" rel="noopener noreferrer">#2126</a></li><li>Support for mysql stream query options <a href="https://github.com/knex/knex/issues/2301" target="_blank" rel="noopener noreferrer">#2301</a></li></ul><p><strong>Bug fixes</strong></p><ul><li>Allow update queries and passing query builder to with statements <a href="https://github.com/knex/knex/issues/2298" target="_blank" rel="noopener noreferrer">#2298</a></li><li>Fix escape table name in SQLite columnInfo call <a href="https://github.com/knex/knex/issues/2281" target="_blank" rel="noopener noreferrer">#2281</a></li><li>Preventing containsUndefined from going to recursion loop <a href="https://github.com/knex/knex/issues/1711" target="_blank" rel="noopener noreferrer">#1711</a></li><li>Fix error caused by call to knex.migrate.currentVersion <a href="https://github.com/knex/knex/issues/2123" target="_blank" rel="noopener noreferrer">#2123</a></li><li>Upgraded generic-pool to 3.1.7 (did resolve some memory issues) <a href="https://github.com/knex/knex/issues/2208" target="_blank" rel="noopener noreferrer">#2208</a></li><li>Allow using NOT ILIKE operator <a href="https://github.com/knex/knex/issues/2195" target="_blank" rel="noopener noreferrer">#2195</a></li><li>Fix postgres searchPath to be case-sensitive <a href="https://github.com/knex/knex/issues/2172" target="_blank" rel="noopener noreferrer">#2172</a></li><li>Fix drop of multiple columns in sqlite3 <a href="https://github.com/knex/knex/issues/2107" target="_blank" rel="noopener noreferrer">#2107</a></li><li>Fix adding multiple columns in Oracle <a href="https://github.com/knex/knex/issues/2115" target="_blank" rel="noopener noreferrer">#2115</a></li><li>Use selected schema when dropping indices in Postgres. <a href="https://github.com/knex/knex/issues/2105" target="_blank" rel="noopener noreferrer">#2105</a></li><li>Fix hasTable for MySQL to not do partial matches <a href="https://github.com/knex/knex/issues/2097" target="_blank" rel="noopener noreferrer">#2097</a></li><li>Fix setting autoTransaction in batchInsert <a href="https://github.com/knex/knex/issues/2113" target="_blank" rel="noopener noreferrer">#2113</a></li><li>Fix connection error propagation when streaming <a href="https://github.com/knex/knex/issues/2199" target="_blank" rel="noopener noreferrer">#2199</a></li><li>Fix comments not being applied to increments columns <a href="https://github.com/knex/knex/issues/2243" target="_blank" rel="noopener noreferrer">#2243</a></li><li>Fix mssql wrong binding order of queries that combine a limit with select raw or update <a href="https://github.com/knex/knex/issues/2066" target="_blank" rel="noopener noreferrer">#2066</a></li><li>Fixed mysql alter table attributes order <a href="https://github.com/knex/knex/issues/2062" target="_blank" rel="noopener noreferrer">#2062</a></li></ul><p><strong>Test / internal changes</strong></p><ul><li>Update each out-of-date dependency according to <a href="http://david-dm.org" target="_blank" rel="noopener noreferrer">david-dm.org</a> <a href="https://github.com/knex/knex/issues/2297" target="_blank" rel="noopener noreferrer">#2297</a></li><li>Update v8flags to version 3.0.0 <a href="https://github.com/knex/knex/issues/2288" target="_blank" rel="noopener noreferrer">#2288</a></li><li>Update interpret version <a href="https://github.com/knex/knex/issues/2283" target="_blank" rel="noopener noreferrer">#2283</a></li><li>Fix debug output typo <a href="https://github.com/knex/knex/issues/2187" target="_blank" rel="noopener noreferrer">#2187</a></li><li>Docker CI tests <a href="https://github.com/knex/knex/issues/2164" target="_blank" rel="noopener noreferrer">#2164</a></li><li>Unit test for right/rightOuterJoin combination <a href="https://github.com/knex/knex/issues/2117" target="_blank" rel="noopener noreferrer">#2117</a></li><li>Unit test for fullOuterJoin <a href="https://github.com/knex/knex/issues/2118" target="_blank" rel="noopener noreferrer">#2118</a></li><li>Unit tests for table comment <a href="https://github.com/knex/knex/issues/2098" target="_blank" rel="noopener noreferrer">#2098</a></li><li>Test referencing non-existent column with sqlite3 <a href="https://github.com/knex/knex/issues/2104" target="_blank" rel="noopener noreferrer">#2104</a></li><li>Unit test for renaming column in postgresql <a href="https://github.com/knex/knex/issues/2099" target="_blank" rel="noopener noreferrer">#2099</a></li><li>Unit test for cross-join <a href="https://github.com/knex/knex/issues/2102" target="_blank" rel="noopener noreferrer">#2102</a></li><li>Fix incorrect parameter name <a href="https://github.com/knex/knex/issues/2068" target="_blank" rel="noopener noreferrer">#2068</a></li></ul><h3 id="_0-13-0-29-apr-2017" tabindex="-1">0.13.0 - 29 Apr, 2017 <a class="header-anchor" href="#_0-13-0-29-apr-2017" aria-hidden="true">#</a></h3><p><strong>Breaking changes</strong></p><ul><li>Multiple concurrent migration runners blocks instead of throwing error when possible <a href="https://github.com/knex/knex/issues/1962" target="_blank" rel="noopener noreferrer">#1962</a></li><li>Fixed transaction promise mutation issue <a href="https://github.com/knex/knex/issues/1991" target="_blank" rel="noopener noreferrer">#1991</a></li></ul><p><strong>Other Changes</strong></p><ul><li>Allow passing version of connected db in configuration file <a href="https://github.com/knex/knex/issues/1993" target="_blank" rel="noopener noreferrer">#1993</a></li><li>Bugfixes on batchInsert and transactions for mysql/maria <a href="https://github.com/knex/knex/issues/1992" target="_blank" rel="noopener noreferrer">#1992</a></li><li>Add fetchAsString optional parameter to oracledb dialect <a href="https://github.com/knex/knex/issues/1998" target="_blank" rel="noopener noreferrer">#1998</a></li><li>fix: escapeObject parameter order for Postgres dialect. <a href="https://github.com/knex/knex/issues/2003" target="_blank" rel="noopener noreferrer">#2003</a></li></ul><h3 id="_0-12-9-23-mar-2017" tabindex="-1">0.12.9 - 23 Mar, 2017 <a class="header-anchor" href="#_0-12-9-23-mar-2017" aria-hidden="true">#</a></h3><ul><li>Fixed unhandled exception in batchInsert when the rows to be inserted resulted in duplicate key violation <a href="https://github.com/knex/knex/issues/1880" target="_blank" rel="noopener noreferrer">#1880</a></li></ul><h3 id="_0-12-8-15-mar-2017" tabindex="-1">0.12.8 - 15 Mar, 2017 <a class="header-anchor" href="#_0-12-8-15-mar-2017" aria-hidden="true">#</a></h3><ul><li>Added clearSelect and clearWhere to query builder <a href="https://github.com/knex/knex/issues/1912" target="_blank" rel="noopener noreferrer">#1912</a></li><li>Properly close Postgres query streams on error <a href="https://github.com/knex/knex/issues/1935" target="_blank" rel="noopener noreferrer">#1935</a></li><li>Transactions should never reject with undefined <a href="https://github.com/knex/knex/issues/1970" target="_blank" rel="noopener noreferrer">#1970</a></li><li>Clear acquireConnectionTimeout if an error occurs when acquiring a connection <a href="https://github.com/knex/knex/issues/1973" target="_blank" rel="noopener noreferrer">#1973</a></li></ul><h3 id="_0-12-7-17-feb-2017" tabindex="-1">0.12.7 - 17 Feb, 2017 <a class="header-anchor" href="#_0-12-7-17-feb-2017" aria-hidden="true">#</a></h3><p><strong>Accidental Breaking Change</strong></p><ul><li>Ensure that &#39;client&#39; is provided in knex config object <a href="https://github.com/knex/knex/issues/1822" target="_blank" rel="noopener noreferrer">#1822</a></li></ul><p><strong>Other Changes</strong></p><ul><li>Support custom foreign key names <a href="https://github.com/knex/knex/issues/1311" target="_blank" rel="noopener noreferrer">#1311</a>, <a href="https://github.com/knex/knex/issues/1726" target="_blank" rel="noopener noreferrer">#1726</a></li><li>Fixed named bindings to work with queries containing <code>:</code>-chars <a href="https://github.com/knex/knex/issues/1890" target="_blank" rel="noopener noreferrer">#1890</a></li><li>Exposed more promise functions <a href="https://github.com/knex/knex/issues/1896" target="_blank" rel="noopener noreferrer">#1896</a></li><li>Pass rollback errors to transaction promise in mssql <a href="https://github.com/knex/knex/issues/1885" target="_blank" rel="noopener noreferrer">#1885</a></li><li>ONLY keyword support for PostgreSQL (for table inheritance) <a href="https://github.com/knex/knex/issues/1874" target="_blank" rel="noopener noreferrer">#1874</a></li><li>Fixed Mssql update with join syntax <a href="https://github.com/knex/knex/issues/1777" target="_blank" rel="noopener noreferrer">#1777</a></li><li>Replace migrations and seed for react-native packager <a href="https://github.com/knex/knex/issues/1813" target="_blank" rel="noopener noreferrer">#1813</a></li><li>Support knexfile, migration and seeds in TypeScript <a href="https://github.com/knex/knex/issues/1769" target="_blank" rel="noopener noreferrer">#1769</a></li><li>Fix float to integer conversion of decimal fields in MSSQL <a href="https://github.com/knex/knex/issues/1781" target="_blank" rel="noopener noreferrer">#1781</a></li><li>External authentication capability when using oracledb driver <a href="https://github.com/knex/knex/issues/1716" target="_blank" rel="noopener noreferrer">#1716</a></li><li>Fixed MSSQL incorect query build when locks are used <a href="https://github.com/knex/knex/issues/1707" target="_blank" rel="noopener noreferrer">#1707</a></li><li>Allow to use <code>first</code> method as aliased select <a href="https://github.com/knex/knex/issues/1784" target="_blank" rel="noopener noreferrer">#1784</a></li><li>Alter column for nullability, type and default value <a href="https://github.com/knex/knex/issues/46" target="_blank" rel="noopener noreferrer">#46</a>, <a href="https://github.com/knex/knex/issues/1759" target="_blank" rel="noopener noreferrer">#1759</a></li><li>Add more having* methods / join clause on* methods <a href="https://github.com/knex/knex/issues/1674" target="_blank" rel="noopener noreferrer">#1674</a></li><li>Compatibility fixes and cleanups <a href="https://github.com/knex/knex/issues/1788" target="_blank" rel="noopener noreferrer">#1788</a>, <a href="https://github.com/knex/knex/issues/1792" target="_blank" rel="noopener noreferrer">#1792</a>, <a href="https://github.com/knex/knex/issues/1794" target="_blank" rel="noopener noreferrer">#1794</a>, <a href="https://github.com/knex/knex/issues/1814" target="_blank" rel="noopener noreferrer">#1814</a>, <a href="https://github.com/knex/knex/issues/1857" target="_blank" rel="noopener noreferrer">#1857</a>, <a href="https://github.com/knex/knex/issues/1649" target="_blank" rel="noopener noreferrer">#1649</a></li></ul><h3 id="_0-12-6-19-oct-2016" tabindex="-1">0.12.6 - 19 Oct, 2016 <a class="header-anchor" href="#_0-12-6-19-oct-2016" aria-hidden="true">#</a></h3><ul><li>Address warnings mentioned in <a href="https://github.com/knex/knex/issues/1388" target="_blank" rel="noopener noreferrer">#1388</a> (<a href="https://github.com/knex/knex/issues/1740" target="_blank" rel="noopener noreferrer">#1740</a>)</li><li>Remove postinstall script (<a href="https://github.com/knex/knex/issues/1746" target="_blank" rel="noopener noreferrer">#1746</a>)</li></ul><h3 id="_0-12-5-12-oct-2016" tabindex="-1">0.12.5 - 12 Oct, 2016 <a class="header-anchor" href="#_0-12-5-12-oct-2016" aria-hidden="true">#</a></h3><ul><li>Fix broken 0.12.4 build (removed from npm)</li><li>Fix <a href="https://github.com/knex/knex/issues/1733" target="_blank" rel="noopener noreferrer">#1733</a>, <a href="https://github.com/knex/knex/issues/920" target="_blank" rel="noopener noreferrer">#920</a>, incorrect postgres array bindings</li></ul><h3 id="_0-12-3-9-oct-2016" tabindex="-1">0.12.3 - 9 Oct, 2016 <a class="header-anchor" href="#_0-12-3-9-oct-2016" aria-hidden="true">#</a></h3><ul><li>Fix <a href="https://github.com/knex/knex/issues/1703" target="_blank" rel="noopener noreferrer">#1703</a>, <a href="https://github.com/knex/knex/issues/1694" target="_blank" rel="noopener noreferrer">#1694</a> - connections should be returned to pool if acquireConnectionTimeout is triggered</li><li>Fix <a href="https://github.com/knex/knex/issues/1710" target="_blank" rel="noopener noreferrer">#1710</a> regression in postgres array escaping</li></ul><h3 id="_0-12-2-27-sep-2016" tabindex="-1">0.12.2 - 27 Sep, 2016 <a class="header-anchor" href="#_0-12-2-27-sep-2016" aria-hidden="true">#</a></h3><ul><li>Restore pool min: 1 for sqlite3, <a href="https://github.com/knex/knex/issues/1701" target="_blank" rel="noopener noreferrer">#1701</a></li><li>Fix for connection error after it&#39;s closed / released, <a href="https://github.com/knex/knex/issues/1691" target="_blank" rel="noopener noreferrer">#1691</a></li><li>Fix oracle prefetchRowCount setting, <a href="https://github.com/knex/knex/issues/1675" target="_blank" rel="noopener noreferrer">#1675</a></li></ul><h3 id="_0-12-1-16-sep-2016" tabindex="-1">0.12.1 - 16 Sep, 2016 <a class="header-anchor" href="#_0-12-1-16-sep-2016" aria-hidden="true">#</a></h3><ul><li>Fix MSSQL sql execution error, <a href="https://github.com/knex/knex/issues/1669" target="_blank" rel="noopener noreferrer">#1669</a></li><li>Added DEBUG=knex:bindings for debugging query bindings, <a href="https://github.com/knex/knex/issues/1557" target="_blank" rel="noopener noreferrer">#1557</a></li></ul><h3 id="_0-12-0-13-sep-2016" tabindex="-1">0.12.0 - 13 Sep, 2016 <a class="header-anchor" href="#_0-12-0-13-sep-2016" aria-hidden="true">#</a></h3><ul><li>Remove build / built files, <a href="https://github.com/knex/knex/issues/1616" target="_blank" rel="noopener noreferrer">#1616</a></li><li>Upgrade to Babel 6, <a href="https://github.com/knex/knex/issues/1617" target="_blank" rel="noopener noreferrer">#1617</a></li><li>Reference Bluebird module directly, remove deprecated .exec method, <a href="https://github.com/knex/knex/issues/1618" target="_blank" rel="noopener noreferrer">#1618</a></li><li>Remove documentation files from main repo</li><li>Fix broken behavior on WebSQL build, <a href="https://github.com/knex/knex/issues/1638" target="_blank" rel="noopener noreferrer">#1638</a></li><li>Oracle id sequence now handles manual inserts, <a href="https://github.com/knex/knex/issues/906" target="_blank" rel="noopener noreferrer">#906</a></li><li>Cleanup PG escaping, fix <a href="https://github.com/knex/knex/issues/1602" target="_blank" rel="noopener noreferrer">#1602</a>, <a href="https://github.com/knex/knex/issues/1548" target="_blank" rel="noopener noreferrer">#1548</a></li><li>Added <a href="/guide/query-builder.html#with"><code>with</code></a> to builder for <a href="https://www.postgresql.org/docs/9.4/static/queries-with.html" target="_blank" rel="noopener noreferrer">common table expressions</a>, <a href="https://github.com/knex/knex/issues/1599" target="_blank" rel="noopener noreferrer">#1599</a></li><li>Fix <a href="https://github.com/knex/knex/issues/1619" target="_blank" rel="noopener noreferrer">#1619</a>, pluck with explicit column names</li><li>Switching back to <a href="https://github.com/coopernurse/node-pool" target="_blank" rel="noopener noreferrer">generic-pool</a> for pooling resource management</li><li>Removed index.html, please direct all PR&#39;s for docs against the files in <a href="https://github.com/knex/documentation" target="_blank" rel="noopener noreferrer">knex/documentation</a></li></ul><h3 id="_0-11-10-9-aug-2016" tabindex="-1">0.11.10 - 9 Aug, 2016 <a class="header-anchor" href="#_0-11-10-9-aug-2016" aria-hidden="true">#</a></h3><ul><li>Added <a href="http://CHANGELOG.md" target="_blank" rel="noopener noreferrer">CHANGELOG.md</a> for a <a href="https://github.com/knex/documentation" target="_blank" rel="noopener noreferrer">new documentation</a> builder coming soon, <a href="https://github.com/knex/knex/issues/1615" target="_blank" rel="noopener noreferrer">#1615</a></li><li>Minor documentation tweaks</li><li>PG: Fix Uint8Array being considered undefined, <a href="https://github.com/knex/knex/issues/1601" target="_blank" rel="noopener noreferrer">#1601</a></li><li>MSSQL: Make columnInfo schema dynamic, <a href="https://github.com/knex/knex/issues/1585" target="_blank" rel="noopener noreferrer">#1585</a></li></ul><h3 id="_0-11-9-21-jul-2016" tabindex="-1">0.11.9 - 21 Jul, 2016 <a class="header-anchor" href="#_0-11-9-21-jul-2016" aria-hidden="true">#</a></h3><ul><li>Reverted knex client breaking change (commit b74cd69e906), fixes <a href="https://github.com/knex/knex/issues/1587" target="_blank" rel="noopener noreferrer">#1587</a></li></ul><h3 id="_0-11-8-21-jul-2016" tabindex="-1">0.11.8 - 21 Jul, 2016 <a class="header-anchor" href="#_0-11-8-21-jul-2016" aria-hidden="true">#</a></h3><ul><li>Oracledb dialect <a href="https://github.com/knex/knex/issues/990" target="_blank" rel="noopener noreferrer">#990</a></li><li>Documentation fix <a href="https://github.com/knex/knex/issues/1532" target="_blank" rel="noopener noreferrer">#1532</a></li><li>Allow named bindings to be escaped. <a href="https://github.com/knex/knex/issues/1576" target="_blank" rel="noopener noreferrer">#1576</a></li><li>Several bugs with MS SQL schema creation and installing from gihub fix <a href="https://github.com/knex/knex/issues/1577" target="_blank" rel="noopener noreferrer">#1577</a></li><li>Fix incorrect escaping of backslashes in SqlString.escape <a href="https://github.com/knex/knex/issues/1545" target="_blank" rel="noopener noreferrer">#1545</a></li></ul><h3 id="_0-11-7-19-jun-2016" tabindex="-1">0.11.7 - 19 Jun, 2016 <a class="header-anchor" href="#_0-11-7-19-jun-2016" aria-hidden="true">#</a></h3><ul><li>Add missing dependency. <a href="https://github.com/knex/knex/issues/1516" target="_blank" rel="noopener noreferrer">#1516</a></li></ul><h3 id="_0-11-6-18-jun-2016" tabindex="-1">0.11.6 - 18 Jun, 2016 <a class="header-anchor" href="#_0-11-6-18-jun-2016" aria-hidden="true">#</a></h3><ul><li>Allow cancellation on timeout (MySQL) <a href="https://github.com/knex/knex/issues/1454" target="_blank" rel="noopener noreferrer">#1454</a></li><li>Better bigint support. (MSSQL) <a href="https://github.com/knex/knex/issues/1445" target="_blank" rel="noopener noreferrer">#1445</a></li><li>More consistent handling of <code>undefined</code> values in <code>QueryBuilder#where</code> and <code>Raw</code>. <a href="https://github.com/knex/knex/issues/1459" target="_blank" rel="noopener noreferrer">#1459</a></li><li>Fix Webpack build. <a href="https://github.com/knex/knex/issues/1447" target="_blank" rel="noopener noreferrer">#1447</a></li><li>Fix code that triggered Bluebird warnings. <a href="https://github.com/knex/knex/issues/1460" target="_blank" rel="noopener noreferrer">#1460</a>, <a href="https://github.com/knex/knex/issues/1489" target="_blank" rel="noopener noreferrer">#1489</a></li><li>Fix <code>ping</code> function. (Oracle) <a href="https://github.com/knex/knex/issues/1486" target="_blank" rel="noopener noreferrer">#1486</a></li><li>Fix <code>columnInfo</code>. (MSSQL) <a href="https://github.com/knex/knex/issues/1464" target="_blank" rel="noopener noreferrer">#1464</a></li><li>Fix <code>ColumnCompiler#binary</code>. (MSSQL) <a href="https://github.com/knex/knex/issues/1464" target="_blank" rel="noopener noreferrer">#1464</a></li><li>Allow connection strings that do not contain a password. <a href="https://github.com/knex/knex/issues/1473" target="_blank" rel="noopener noreferrer">#1473</a></li><li>Fix race condition in seed stubs. <a href="https://github.com/knex/knex/issues/1493" target="_blank" rel="noopener noreferrer">#1493</a></li><li>Give each query a UUID. <a href="https://github.com/knex/knex/issues/1510" target="_blank" rel="noopener noreferrer">#1510</a></li></ul><h3 id="_0-11-5-26-may-2016" tabindex="-1">0.11.5 - 26 May, 2016 <a class="header-anchor" href="#_0-11-5-26-may-2016" aria-hidden="true">#</a></h3><ul><li>Bugfix: Using <code>Raw</code> or <code>QueryBuilder</code> as a binding to <code>Raw</code> now works as intended</li></ul><h3 id="_0-11-4-22-may-2016" tabindex="-1">0.11.4 - 22 May, 2016 <a class="header-anchor" href="#_0-11-4-22-may-2016" aria-hidden="true">#</a></h3><ul><li>Bugfix: Inconsistency of <code>.primary()</code> and <code>.dropPrimary()</code> between dialects <a href="https://github.com/knex/knex/issues/1430" target="_blank" rel="noopener noreferrer">#1430</a></li><li>Feature: Allow using custom Client/Dialect (you can pass your own client in knex config) <a href="https://github.com/knex/knex/issues/1428" target="_blank" rel="noopener noreferrer">#1428</a></li><li>Docs: Add documentation for .dropTimestamps <a href="https://github.com/knex/knex/issues/1432" target="_blank" rel="noopener noreferrer">#1432</a></li><li>Bugfix: Fixed passing undefined fields for insert/update inside transaction <a href="https://github.com/knex/knex/issues/1423" target="_blank" rel="noopener noreferrer">#1423</a></li><li>Feature: <code>batchInsert</code> with existing transaction <a href="https://github.com/knex/knex/issues/1354" target="_blank" rel="noopener noreferrer">#1354</a></li><li>Build: eslint instead of jshint <a href="https://github.com/knex/knex/issues/1416" target="_blank" rel="noopener noreferrer">#1416</a></li><li>Bugfix: Pooled connections not releasing <a href="https://github.com/knex/knex/issues/1382" target="_blank" rel="noopener noreferrer">#1382</a></li><li>Bugfix: Support passing <code>knex.raw</code> to <code>.whereNot</code> <a href="https://github.com/knex/knex/issues/1402" target="_blank" rel="noopener noreferrer">#1402</a></li><li>Docs: Fixed list of dialects which supports <code>.returning</code> <a href="https://github.com/knex/knex/issues/1398" target="_blank" rel="noopener noreferrer">#1398</a></li><li>Bugfix: rename table does not fail anymore even with schema defined <a href="https://github.com/knex/knex/issues/1403" target="_blank" rel="noopener noreferrer">#1403</a></li></ul><h3 id="_0-11-3-14-may-2016" tabindex="-1">0.11.3 - 14 May, 2016 <a class="header-anchor" href="#_0-11-3-14-may-2016" aria-hidden="true">#</a></h3><ul><li>Support nested joins. <a href="https://github.com/knex/knex/issues/1397" target="_blank" rel="noopener noreferrer">#1397</a></li></ul><h3 id="_0-11-2-14-may-2016" tabindex="-1">0.11.2 - 14 May, 2016 <a class="header-anchor" href="#_0-11-2-14-may-2016" aria-hidden="true">#</a></h3><ul><li>Prevent crash on <code>knex seed:make</code>. <a href="https://github.com/knex/knex/issues/1389" target="_blank" rel="noopener noreferrer">#1389</a></li><li>Improvements to <code>batchInsert</code>. <a href="https://github.com/knex/knex/issues/1391" target="_blank" rel="noopener noreferrer">#1391</a></li><li>Improvements to inserting <code>DEFAULT</code> with <code>undefined</code> binding. <a href="https://github.com/knex/knex/issues/1396" target="_blank" rel="noopener noreferrer">#1396</a></li><li>Correct generated code for adding/dropping multiple columns. (MSSQL) <a href="https://github.com/knex/knex/issues/1401" target="_blank" rel="noopener noreferrer">#1401</a></li></ul><h3 id="_0-11-1-6-may-2016" tabindex="-1">0.11.1 - 6 May, 2016 <a class="header-anchor" href="#_0-11-1-6-may-2016" aria-hidden="true">#</a></h3><ul><li>Fix error in CLI command <code>migrate:make</code>. <a href="https://github.com/knex/knex/issues/1386" target="_blank" rel="noopener noreferrer">#1386</a></li></ul><h3 id="_0-11-0-5-may-2016" tabindex="-1">0.11.0 - 5 May, 2016 <a class="header-anchor" href="#_0-11-0-5-may-2016" aria-hidden="true">#</a></h3><p><strong>Breaking changes</strong></p><ul><li><code>QueryBuilder#orWhere</code> joins multiple arguments with <code>AND</code>. <a href="https://github.com/knex/knex/issues/1164" target="_blank" rel="noopener noreferrer">#1164</a></li></ul><p><strong>Other Changes</strong></p><ul><li>Collate for columns. (MySQL) <a href="https://github.com/knex/knex/issues/1147" target="_blank" rel="noopener noreferrer">#1147</a></li><li>Add <code>QueryBuilder#timeout</code>, <code>Raw#timeout</code>. <a href="https://github.com/knex/knex/issues/1201" target="_blank" rel="noopener noreferrer">#1201</a> <a href="https://github.com/knex/knex/issues/1260" target="_blank" rel="noopener noreferrer">#1260</a></li><li>Exit with error code when appropriate. <a href="https://github.com/knex/knex/issues/1238" target="_blank" rel="noopener noreferrer">#1238</a></li><li>MSSQL connection accepts <code>host</code> as an alias for <code>server</code> in accordance with other dialects. <a href="https://github.com/knex/knex/issues/1239" target="_blank" rel="noopener noreferrer">#1239</a></li><li>Add <code>query-response</code> event. <a href="https://github.com/knex/knex/issues/1231" target="_blank" rel="noopener noreferrer">#1231</a></li><li>Correct behaviour of sibling nested transactions. <a href="https://github.com/knex/knex/issues/1226" target="_blank" rel="noopener noreferrer">#1226</a></li><li>Support <code>RETURNING</code> with <code>UPDATE</code>. (Oracle) <a href="https://github.com/knex/knex/issues/1253" target="_blank" rel="noopener noreferrer">#1253</a></li><li>Throwing callbacks from transactions automatically rolls them back. <a href="https://github.com/knex/knex/issues/1257" target="_blank" rel="noopener noreferrer">#1257</a></li><li>Fixes to named <code>Raw</code> bindings. <a href="https://github.com/knex/knex/issues/1251" target="_blank" rel="noopener noreferrer">#1251</a></li><li><code>timestamps</code> accepts an argument to set <code>NOT NULL</code> and default to current timestamp.</li><li>Add <code>TableBuilder#inherits</code> for PostgreSQL. <a href="https://github.com/knex/knex/issues/601" target="_blank" rel="noopener noreferrer">#601</a></li><li>Wrap index names. <a href="https://github.com/knex/knex/issues/1289" target="_blank" rel="noopener noreferrer">#1289</a></li><li>Restore coffeescript knexfiles and configurations. <a href="https://github.com/knex/knex/issues/1292" target="_blank" rel="noopener noreferrer">#1292</a></li><li>Add <code>andWhereBetween</code> and <code>andWhereNotBetween</code> <a href="https://github.com/knex/knex/issues/1132" target="_blank" rel="noopener noreferrer">#1132</a></li><li>Fix <code>valueForUndefined</code> failure. <a href="https://github.com/knex/knex/issues/1269" target="_blank" rel="noopener noreferrer">#1269</a></li><li><code>renameColumn</code> no longer drops default value or nullability. <a href="https://github.com/knex/knex/issues/1326" target="_blank" rel="noopener noreferrer">#1326</a></li><li>Correct MySQL2 error handling. <a href="https://github.com/knex/knex/issues/1315" target="_blank" rel="noopener noreferrer">#1315</a></li><li>Fix MSSQL <code>createTableIfNotExists</code>. <a href="https://github.com/knex/knex/issues/1362" target="_blank" rel="noopener noreferrer">#1362</a></li><li>Fix MSSQL URL parsing. <a href="https://github.com/knex/knex/issues/1342" target="_blank" rel="noopener noreferrer">#1342</a></li><li>Update Lodash to 4.6.0 <a href="https://github.com/knex/knex/issues/1242" target="_blank" rel="noopener noreferrer">#1242</a></li><li>Update Bluebird to 3.3.4 <a href="https://github.com/knex/knex/issues/1279" target="_blank" rel="noopener noreferrer">#1279</a></li></ul><h3 id="_0-10-0-15-feb-2016" tabindex="-1">0.10.0 - 15 Feb, 2016 <a class="header-anchor" href="#_0-10-0-15-feb-2016" aria-hidden="true">#</a></h3><p><strong>Breaking changes</strong></p><ul><li><code>insert</code> and <code>update</code> now ignore <code>undefined</code> values. Back compatibility is provided through the option <code>useNullAsDefault</code>. <a href="https://github.com/knex/knex/issues/1174" target="_blank" rel="noopener noreferrer">#1174</a>, <a href="https://github.com/knex/knex/issues/1043" target="_blank" rel="noopener noreferrer">#1043</a></li></ul><p><strong>Other Changes</strong></p><ul><li><a href="/guide/query-builder.html#countdistinct"><code>countDistinct</code></a>, <a href="/guide/query-builder.html#avgdistinct"><code>avgDistinct</code></a> and <a href="/guide/query-builder.html#sumdistinct"><code>sumDistinct</code></a>. <a href="https://github.com/knex/knex/issues/1046" target="_blank" rel="noopener noreferrer">#1046</a></li><li>Add <a href="#Schema-jsonb"><code>schema.jsonb</code></a>. Deprecated <code>schema.json(column, true)</code>. <a href="https://github.com/knex/knex/issues/991" target="_blank" rel="noopener noreferrer">#991</a></li><li>Support binding identifiers with <code>??</code>. <a href="https://github.com/knex/knex/issues/1103" target="_blank" rel="noopener noreferrer">#1103</a></li><li>Restore <code>query</code> event when triggered by transactions. <a href="https://github.com/knex/knex/issues/855" target="_blank" rel="noopener noreferrer">#855</a></li><li>Correct question mark escaping in rendered queries. <a href="https://github.com/knex/knex/issues/519" target="_blank" rel="noopener noreferrer">#519</a>, <a href="https://github.com/knex/knex/issues/1058" target="_blank" rel="noopener noreferrer">#1058</a></li><li>Add per-dialect escaping, allowing quotes to be escaped correctly. <a href="https://github.com/knex/knex/issues/886" target="_blank" rel="noopener noreferrer">#886</a>, <a href="https://github.com/knex/knex/issues/1095" target="_blank" rel="noopener noreferrer">#1095</a></li><li>Add MSSQL support. <a href="https://github.com/knex/knex/issues/1090" target="_blank" rel="noopener noreferrer">#1090</a></li><li>Add migration locking. <a href="https://github.com/knex/knex/issues/1094" target="_blank" rel="noopener noreferrer">#1094</a></li><li>Allow column aliases to contain <code>.</code>. <a href="https://github.com/knex/knex/issues/1181" target="_blank" rel="noopener noreferrer">#1181</a></li><li>Add <code>batchInsert</code>. <a href="https://github.com/knex/knex/issues/1182" target="_blank" rel="noopener noreferrer">#1182</a></li><li>Support non-array arguments to <a href="#Raw-Bindings"><code>knex.raw</code></a>.</li><li>Global <code>query-error</code> event. <a href="https://github.com/knex/knex/issues/1163" target="_blank" rel="noopener noreferrer">#1163</a></li><li>Add <code>batchInsert</code>. <a href="https://github.com/knex/knex/issues/1182" target="_blank" rel="noopener noreferrer">#1182</a></li><li>Better support for Mysql2 dialect options. <a href="https://github.com/knex/knex/issues/980" target="_blank" rel="noopener noreferrer">#980</a></li><li>Support for <code>acquireConnectionTimeout</code> default 60 seconds preventing <a href="https://github.com/knex/knex/issues/1040" target="_blank" rel="noopener noreferrer">#1040</a> from happening. <a href="https://github.com/knex/knex/issues/1177" target="_blank" rel="noopener noreferrer">#1177</a></li><li>Fixed constraint name escaping when dropping a constraint. <a href="https://github.com/knex/knex/issues/1177" target="_blank" rel="noopener noreferrer">#1177</a></li><li>Show also <code>.raw</code> queries in debug output. <a href="https://github.com/knex/knex/issues/1169" target="_blank" rel="noopener noreferrer">#1169</a></li><li>Support for <code>cli</code> to use basic configuration without specific environment set. <a href="https://github.com/knex/knex/issues/1101" target="_blank" rel="noopener noreferrer">#1101</a></li></ul><h3 id="_0-9-0-nov-2-2015" tabindex="-1">0.9.0 - Nov 2, 2015 <a class="header-anchor" href="#_0-9-0-nov-2-2015" aria-hidden="true">#</a></h3><ul><li>Fix error when merging <code>knex.raw</code> instances without arguments. <a href="https://github.com/knex/knex/issues/853" target="_blank" rel="noopener noreferrer">#853</a></li><li>Fix error that caused the connection to time out while streaming. <a href="https://github.com/knex/knex/issues/849" target="_blank" rel="noopener noreferrer">#849</a></li><li>Correctly parse SSL query parameter for PostgreSQL. <a href="https://github.com/knex/knex/issues/852" target="_blank" rel="noopener noreferrer">#852</a></li><li>Pass <code>compress</code> option to MySQL2. <a href="https://github.com/knex/knex/issues/843" target="_blank" rel="noopener noreferrer">#843</a></li><li>Schema: Use <code>timestamp with timezone</code> by default for <code>time</code>, <code>datetime</code> and <code>timestamp</code> for Oracle. <a href="https://github.com/knex/knex/issues/876" target="_blank" rel="noopener noreferrer">#876</a></li><li>Add <a href="/guide/query-builder.html#modify"><code>QueryBuilder#modify</code></a> <a href="https://github.com/knex/knex/issues/881" target="_blank" rel="noopener noreferrer">#881</a></li><li>Add LiveScript and Early Gray support for seeds and migrations.</li><li>Add <a href="/guide/query-builder.html#withSchema"><code>QueryBuilder#withSchema</code></a> <a href="https://github.com/knex/knex/issues/518" target="_blank" rel="noopener noreferrer">#518</a></li><li>Allow escaping of <code>?</code> in <code>knex.raw</code> queries. <a href="https://github.com/knex/knex/issues/946" target="_blank" rel="noopener noreferrer">#946</a></li><li>Allow <code>0</code> in join clause. <a href="https://github.com/knex/knex/issues/953" target="_blank" rel="noopener noreferrer">#953</a></li><li>Add migration config to allow disabling/enabling transactions per migration. <a href="https://github.com/knex/knex/issues/834" target="_blank" rel="noopener noreferrer">#834</a></li></ul><h3 id="_0-8-6-may-20-2015" tabindex="-1">0.8.6 - May 20, 2015 <a class="header-anchor" href="#_0-8-6-may-20-2015" aria-hidden="true">#</a></h3><ul><li>Fix for several transaction / migration issues, <a href="https://github.com/knex/knex/issues/832" target="_blank" rel="noopener noreferrer">#832</a>, <a href="https://github.com/knex/knex/issues/833" target="_blank" rel="noopener noreferrer">#833</a>, <a href="https://github.com/knex/knex/issues/834" target="_blank" rel="noopener noreferrer">#834</a>, <a href="https://github.com/knex/knex/issues/835" target="_blank" rel="noopener noreferrer">#835</a></li></ul><h3 id="_0-8-5-may-14-2015" tabindex="-1">0.8.5 - May 14, 2015 <a class="header-anchor" href="#_0-8-5-may-14-2015" aria-hidden="true">#</a></h3><ul><li>Pool should be initialized if no pool options are specified</li></ul><h3 id="_0-8-4-may-13-2015" tabindex="-1">0.8.4 - May 13, 2015 <a class="header-anchor" href="#_0-8-4-may-13-2015" aria-hidden="true">#</a></h3><ul><li>Pool should not be initialized if {max: 0} is sent in config options</li></ul><h3 id="_0-8-3-may-2-2015" tabindex="-1">0.8.3 - May 2, 2015 <a class="header-anchor" href="#_0-8-3-may-2-2015" aria-hidden="true">#</a></h3><ul><li>Alias postgresql -&gt; postgres in connection config options</li></ul><h3 id="_0-8-2-may-1-2015" tabindex="-1">0.8.2 - May 1, 2015 <a class="header-anchor" href="#_0-8-2-may-1-2015" aria-hidden="true">#</a></h3><ul><li>Fix regression in using query string in connection config</li></ul><h3 id="_0-8-1-may-1-2015" tabindex="-1">0.8.1 - May 1, 2015 <a class="header-anchor" href="#_0-8-1-may-1-2015" aria-hidden="true">#</a></h3><ul><li>Warn rather than error when implicit commits wipe out savepoints in mysql / mariadb, <a href="https://github.com/knex/knex/issues/805" target="_blank" rel="noopener noreferrer">#805</a>.</li><li>Fix for incorrect seed config reference, <a href="https://github.com/knex/knex/issues/804" target="_blank" rel="noopener noreferrer">#804</a></li></ul><h3 id="_0-8-0-apr-30-2015" tabindex="-1">0.8.0 - Apr 30, 2015 <a class="header-anchor" href="#_0-8-0-apr-30-2015" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Fixes several major outstanding bugs with the connection pool, switching to <a href="https://github.com/myndzi/pool2" target="_blank" rel="noopener noreferrer">Pool2</a> in place of generic-pool-redux</li><li>strong-oracle module support</li><li>Nested transactions automatically become savepoints, with <code>commit</code> &amp; <code>rollback</code> releasing or rolling back the current savepoint.</li><li>Database seed file support, <a href="https://github.com/knex/knex/issues/391" target="_blank" rel="noopener noreferrer">#391</a></li><li>Improved support for sub-raw queries within raw statements</li><li>Migrations are now wrapped in transactions where possible</li><li>Subqueries supported in insert statements, <a href="https://github.com/knex/knex/issues/627" target="_blank" rel="noopener noreferrer">#627</a></li><li>Support for nested having, <a href="https://github.com/knex/knex/issues/572" target="_blank" rel="noopener noreferrer">#572</a></li><li>Support object syntax for joins, similar to &quot;where&quot; <a href="https://github.com/knex/knex/issues/743" target="_blank" rel="noopener noreferrer">#743</a></li></ul><p><strong>Major Changes</strong></p><ul><li>Transactions are immediately invoked as A+ promises, <a href="https://github.com/knex/knex/issues/470" target="_blank" rel="noopener noreferrer">#470</a> (this is a feature and should not actually break anything in practice)</li><li>Heavy refactoring internal APIs (public APIs should not be affected)</li></ul><p><strong>Other Changes</strong></p><ul><li>Allow mysql2 to use non-default port, <a href="https://github.com/knex/knex/issues/588" target="_blank" rel="noopener noreferrer">#588</a></li><li>Support creating &amp; dropping extensions in PostgreSQL, <a href="https://github.com/knex/knex/issues/540" target="_blank" rel="noopener noreferrer">#540</a></li><li>CLI support for knexfiles that do not provide environment keys, <a href="https://github.com/knex/knex/issues/527" target="_blank" rel="noopener noreferrer">#527</a></li><li>Added sqlite3 dialect version of whereRaw/andWhereRaw (<a href="https://github.com/knex/knex/issues/477" target="_blank" rel="noopener noreferrer">#477</a>)</li></ul><h3 id="_0-7-5-mar-9-2015" tabindex="-1">0.7.5 - Mar 9, 2015 <a class="header-anchor" href="#_0-7-5-mar-9-2015" aria-hidden="true">#</a></h3><ul><li>Fix bug in validateMigrationList, (<a href="https://github.com/knex/knex/issues/697" target="_blank" rel="noopener noreferrer">#697</a>)</li></ul><h3 id="_0-7-4-feb-25-2015" tabindex="-1">0.7.4 - Feb 25, 2015 <a class="header-anchor" href="#_0-7-4-feb-25-2015" aria-hidden="true">#</a></h3><ul><li>Fix incorrect order of query parameters when using subqueries, <a href="https://github.com/knex/knex/issues/704" target="_blank" rel="noopener noreferrer">#704</a></li><li>Properly handle limit 0, (<a href="https://github.com/knex/knex/issues/655" target="_blank" rel="noopener noreferrer">#655</a>)</li><li>Apply promise args from then instead of <a href="https://github.com/petkaantonov/bluebird/issues/482" target="_blank" rel="noopener noreferrer">explicitly passing</a>.</li><li>Respect union parameter as last argument (<a href="https://github.com/knex/knex/issues/660" target="_blank" rel="noopener noreferrer">#660</a>).</li><li>Added sqlite3 dialect version of whereRaw/andWhereRaw (<a href="https://github.com/knex/knex/issues/477" target="_blank" rel="noopener noreferrer">#477</a>).</li><li>Fix SQLite dropColumn doesn&#39;t work for last column (<a href="https://github.com/knex/knex/issues/544" target="_blank" rel="noopener noreferrer">#544</a>).</li><li>Add POSIX operator support for Postgres (<a href="https://github.com/knex/knex/issues/562" target="_blank" rel="noopener noreferrer">#562</a>)</li><li>Sample seed files now correctly (<a href="https://github.com/knex/knex/issues/391" target="_blank" rel="noopener noreferrer">#391</a>)</li></ul><h3 id="_0-7-3-oct-3-2014" tabindex="-1">0.7.3 - Oct 3, 2014 <a class="header-anchor" href="#_0-7-3-oct-3-2014" aria-hidden="true">#</a></h3><ul><li>Support for <code>join(table, rawOrBuilder)</code> syntax.</li><li>Fix for regression in PostgreSQL connection (<a href="https://github.com/knex/knex/issues/516" target="_blank" rel="noopener noreferrer">#516</a>)</li></ul><h3 id="_0-7-2-oct-1-2014" tabindex="-1">0.7.2 - Oct 1, 2014 <a class="header-anchor" href="#_0-7-2-oct-1-2014" aria-hidden="true">#</a></h3><ul><li>Fix for regression in migrations</li></ul><h3 id="_0-7-1-oct-1-2014" tabindex="-1">0.7.1 - Oct 1, 2014 <a class="header-anchor" href="#_0-7-1-oct-1-2014" aria-hidden="true">#</a></h3><ul><li>Better disconnect handling &amp; pool removal for MySQL clients, <a href="https://github.com/knex/knex/issues/452" target="_blank" rel="noopener noreferrer">#452</a></li></ul><h3 id="_0-7-0-oct-1-2014" tabindex="-1">0.7.0 - Oct 1, 2014 <a class="header-anchor" href="#_0-7-0-oct-1-2014" aria-hidden="true">#</a></h3><p><strong>New features</strong></p><ul><li>Oracle support, <a href="https://github.com/knex/knex/issues/419" target="_blank" rel="noopener noreferrer">#419</a></li><li>Database seed file support, <a href="https://github.com/knex/knex/issues/391" target="_blank" rel="noopener noreferrer">#391</a></li><li>Improved support for sub-raw queries within raw statements</li></ul><p><strong>Breaking changes</strong></p><ul><li>&quot;collate nocase&quot; no longer used by default in sqlite3 <a href="https://github.com/knex/knex/issues/396" target="_blank" rel="noopener noreferrer">#396</a></li></ul><p><strong>Other Changes</strong></p><ul><li>Bumping Bluebird to ^2.x</li><li>Transactions in websql are now a no-op (unsupported) <a href="https://github.com/knex/knex/issues/375" target="_blank" rel="noopener noreferrer">#375</a></li><li>Improved test suite</li><li>knex.fn namespace as function helper (knex.fn.now), <a href="https://github.com/knex/knex/issues/372" target="_blank" rel="noopener noreferrer">#372</a></li><li>Better handling of disconnect errors</li><li>Support for offset without limit, <a href="https://github.com/knex/knex/issues/446" target="_blank" rel="noopener noreferrer">#446</a></li><li>Chainable first method for mysql schema, <a href="https://github.com/knex/knex/issues/406" target="_blank" rel="noopener noreferrer">#406</a></li><li>Support for empty array in <code>whereIn</code></li><li>Create/drop schema for postgres, <a href="https://github.com/knex/knex/issues/511" target="_blank" rel="noopener noreferrer">#511</a></li><li>Inserting multiple rows with default values, <a href="https://github.com/knex/knex/issues/468" target="_blank" rel="noopener noreferrer">#468</a></li><li>Join columns are optional for cross-join, <a href="https://github.com/knex/knex/issues/508" target="_blank" rel="noopener noreferrer">#508</a></li><li>Flag for creating jsonb columns in Postgresql, <a href="https://github.com/knex/knex/issues/500" target="_blank" rel="noopener noreferrer">#500</a></li></ul><h3 id="_0-6-22-july-10-2014" tabindex="-1">0.6.22 - July 10, 2014 <a class="header-anchor" href="#_0-6-22-july-10-2014" aria-hidden="true">#</a></h3><ul><li>Bug fix for properly binding postgresql streaming queries, (<a href="https://github.com/knex/knex/issues/363" target="_blank" rel="noopener noreferrer">#363</a>)</li></ul><h3 id="_0-6-21-july-9-2014" tabindex="-1">0.6.21 - July 9, 2014 <a class="header-anchor" href="#_0-6-21-july-9-2014" aria-hidden="true">#</a></h3><ul><li>Bug fix for raw queries not being transaction context aware, (<a href="https://github.com/knex/knex/issues/351" target="_blank" rel="noopener noreferrer">#351</a>).</li><li>Properly forward stream errors in sqlite3 runner, (<a href="https://github.com/knex/knex/issues/359" target="_blank" rel="noopener noreferrer">#359</a>)</li></ul><h3 id="_0-6-20-june-30-2014" tabindex="-1">0.6.20 - June 30, 2014 <a class="header-anchor" href="#_0-6-20-june-30-2014" aria-hidden="true">#</a></h3><ul><li>Allow case insensitive operators in sql clauses, (<a href="https://github.com/knex/knex/issues/344" target="_blank" rel="noopener noreferrer">#344</a>)</li></ul><h3 id="_0-6-19-june-27-2014" tabindex="-1">0.6.19 - June 27, 2014 <a class="header-anchor" href="#_0-6-19-june-27-2014" aria-hidden="true">#</a></h3><ul><li>Add <code>groupByRaw</code> / <code>orderByRaw</code> methods, better support for raw statements in group / order (<a href="https://github.com/knex/knex/issues/282" target="_blank" rel="noopener noreferrer">#282</a>).</li><li>Support more config options for node-mysql2 dialect (<a href="https://github.com/knex/knex/issues/341" target="_blank" rel="noopener noreferrer">#341</a>).</li><li>CLI help text fix, (<a href="https://github.com/knex/knex/issues/342" target="_blank" rel="noopener noreferrer">#342</a>)</li></ul><h3 id="_0-6-18-june-25-2014" tabindex="-1">0.6.18 - June 25, 2014 <a class="header-anchor" href="#_0-6-18-june-25-2014" aria-hidden="true">#</a></h3><ul><li>Patch for the method, calling without a handler should return the stream, not a promise (<a href="https://github.com/knex/knex/issues/337" target="_blank" rel="noopener noreferrer">#337</a>)</li></ul><h3 id="_0-6-17-june-23-2014" tabindex="-1">0.6.17 - June 23, 2014 <a class="header-anchor" href="#_0-6-17-june-23-2014" aria-hidden="true">#</a></h3><ul><li>Adding missing map / reduce proxies to bluebird&#39;s implementation</li></ul><h3 id="_0-6-16-june-18-2014" tabindex="-1">0.6.16 - June 18, 2014 <a class="header-anchor" href="#_0-6-16-june-18-2014" aria-hidden="true">#</a></h3><ul><li>Increment / decrement returns the number of affectedRows (<a href="https://github.com/knex/knex/issues/330" target="_blank" rel="noopener noreferrer">#330</a>).</li><li>Allow --cwd option flag to be passed to CLI tool (<a href="https://github.com/knex/knex/issues/326" target="_blank" rel="noopener noreferrer">#326</a>)</li></ul><h3 id="_0-6-15-june-14-2014" tabindex="-1">0.6.15 - June 14, 2014 <a class="header-anchor" href="#_0-6-15-june-14-2014" aria-hidden="true">#</a></h3><ul><li>Added the as method for aliasing subqueries</li></ul><h3 id="_0-6-14-june-14-2014" tabindex="-1">0.6.14 - June 14, 2014 <a class="header-anchor" href="#_0-6-14-june-14-2014" aria-hidden="true">#</a></h3><ul><li>whereExists / whereNotExists may now take a query builder instance as well as a callback</li></ul><h3 id="_0-6-13-june-12-2014" tabindex="-1">0.6.13 - June 12, 2014 <a class="header-anchor" href="#_0-6-13-june-12-2014" aria-hidden="true">#</a></h3><ul><li>Fix regression with onUpdate / onDelete in PostgreSQL, (<a href="https://github.com/knex/knex/issues/308" target="_blank" rel="noopener noreferrer">#308</a>).</li><li>Add missing <code>Promise</code> require to knex.js, unit test for knex.destroy (<a href="https://github.com/knex/knex/issues/314" target="_blank" rel="noopener noreferrer">#314</a>)</li></ul><h3 id="_0-6-12-june-10-2014" tabindex="-1">0.6.12 - June 10, 2014 <a class="header-anchor" href="#_0-6-12-june-10-2014" aria-hidden="true">#</a></h3><ul><li>Fix for regression with boolean default types in PostgreSQL</li></ul><h3 id="_0-6-11-june-10-2014" tabindex="-1">0.6.11 - June 10, 2014 <a class="header-anchor" href="#_0-6-11-june-10-2014" aria-hidden="true">#</a></h3><ul><li>Fix for regression with queries containing multiple order by statements in sqlite3</li></ul><h3 id="_0-6-10-june-10-2014" tabindex="-1">0.6.10 - June 10, 2014 <a class="header-anchor" href="#_0-6-10-june-10-2014" aria-hidden="true">#</a></h3><ul><li>Fix for big regression in memoization of column names from 0.5 -&gt; 0.6</li></ul><h3 id="_0-6-9-june-9-2014" tabindex="-1">0.6.9 - June 9, 2014 <a class="header-anchor" href="#_0-6-9-june-9-2014" aria-hidden="true">#</a></h3><ul><li>Fix for regression in specificType method</li></ul><h3 id="_0-6-8-june-9-2014" tabindex="-1">0.6.8 - June 9, 2014 <a class="header-anchor" href="#_0-6-8-june-9-2014" aria-hidden="true">#</a></h3><ul><li>Package.json fix for CLI</li></ul><h3 id="_0-6-7-june-9-2014" tabindex="-1">0.6.7 - June 9, 2014 <a class="header-anchor" href="#_0-6-7-june-9-2014" aria-hidden="true">#</a></h3><ul><li>Adds support for <a href="https://github.com/sidorares/node-mysql2" target="_blank" rel="noopener noreferrer">node-mysql2</a> library.</li><li>Bundles CLI with the knex install, various related migrate CLI fixes</li></ul><h3 id="_0-6-6-june-9-2014" tabindex="-1">0.6.6 - June 9, 2014 <a class="header-anchor" href="#_0-6-6-june-9-2014" aria-hidden="true">#</a></h3><ul><li>console.warn rather than throw when adding foreignKeys in SQLite3.</li><li>Add support for dropColumn in SQLite3.</li><li>Document <code>raw.wrap</code></li></ul><h3 id="_0-6-5-june-9-2014" tabindex="-1">0.6.5 - June 9, 2014 <a class="header-anchor" href="#_0-6-5-june-9-2014" aria-hidden="true">#</a></h3><ul><li>Add missing _ require to WebSQL builds</li></ul><h3 id="_0-6-4-june-9-2014" tabindex="-1">0.6.4 - June 9, 2014 <a class="header-anchor" href="#_0-6-4-june-9-2014" aria-hidden="true">#</a></h3><ul><li>Fix &amp; document schema.raw method</li></ul><h3 id="_0-6-3-june-6-2014" tabindex="-1">0.6.3 - June 6, 2014 <a class="header-anchor" href="#_0-6-3-june-6-2014" aria-hidden="true">#</a></h3><ul><li>Schema methods on transaction object are now transaction aware (<a href="https://github.com/knex/knex/issues/301" target="_blank" rel="noopener noreferrer">#301</a>).</li><li>Fix for resolved value from transactions, (<a href="https://github.com/knex/knex/issues/298" target="_blank" rel="noopener noreferrer">#298</a>).</li><li>Undefined columns are not added to builder</li></ul><h3 id="_0-6-2-june-4-2014" tabindex="-1">0.6.2 - June 4, 2014 <a class="header-anchor" href="#_0-6-2-june-4-2014" aria-hidden="true">#</a></h3><ul><li>Fix regression in raw query output, (<a href="https://github.com/knex/knex/issues/297" target="_blank" rel="noopener noreferrer">#297</a>).</li><li>Fix regression in &quot;pluck&quot; method (<a href="https://github.com/knex/knex/issues/296" target="_blank" rel="noopener noreferrer">#296</a>).</li><li>Document <a href="/guide/query-builder.html#first">first</a> method</li></ul><h3 id="_0-6-1-june-4-2014" tabindex="-1">0.6.1 - June 4, 2014 <a class="header-anchor" href="#_0-6-1-june-4-2014" aria-hidden="true">#</a></h3><ul><li>Reverting to using .npmignore, the &quot;files&quot; syntax forgot the knex.js file</li></ul><h3 id="_0-6-0-june-4-2014" tabindex="-1">0.6.0 - June 4, 2014 <a class="header-anchor" href="#_0-6-0-june-4-2014" aria-hidden="true">#</a></h3><p><strong>Major Library refactor</strong></p><ul><li>Major internal overhaul to clean up the various dialect code.</li><li>Improved unit test suite.</li><li>Support for the <a href="https://github.com/mscdex/node-mariasql" target="_blank" rel="noopener noreferrer">mariasql</a> driver.</li><li>More consistent use of raw query bindings throughout the library.</li><li>Queries are more composable, may be injected in various points throughout the builder.</li><li>Added <a href="/guide/interfaces.html#streams">streaming</a> interface</li><li>Deprecated 5 argument <a href="/guide/query-builder.html#join">join</a> in favor of additional join methods.</li><li>The wrapValue function to allow for array column operations in PostgreSQL (<a href="https://github.com/knex/knex/issues/287" target="_blank" rel="noopener noreferrer">#287</a>).</li><li>An explicit connection can be passed for any query (<a href="https://github.com/knex/knex/issues/56" target="_blank" rel="noopener noreferrer">#56</a>).</li><li>Drop column support for sqlite3</li><li>All schema actions are run sequentially on the same connection if chained.</li><li>Schema actions can now be wrapped in a transaction</li><li><code>.references(tableName.columnName)</code> as shorthand for <code>.references(columnName).inTable(tableName)</code></li><li><code>.join(&#39;table.column&#39;, &#39;otherTable.column&#39;)</code> as shorthand for .join(&#39;table.column&#39;, &#39;=&#39;, &#39;otherTable.column&#39;)</li><li>Streams are supported for selects, passing through to the streaming capabilities of node-mysql and node-postgres</li><li>For More information, see this <a href="https://github.com/tgriesser/knex/pull/252" target="_blank" rel="noopener noreferrer">pull-request</a></li></ul><h3 id="_0-5-15-june-4-2014" tabindex="-1">0.5.15 - June 4, 2014 <a class="header-anchor" href="#_0-5-15-june-4-2014" aria-hidden="true">#</a></h3><ul><li>Dropped indexes feature now functions correctly, (<a href="https://github.com/knex/knex/issues/278" target="_blank" rel="noopener noreferrer">#278</a>)</li></ul><h3 id="_0-5-14-may-6-2014" tabindex="-1">0.5.14 - May 6, 2014 <a class="header-anchor" href="#_0-5-14-may-6-2014" aria-hidden="true">#</a></h3><ul><li>Remove the charset encoding if it&#39;s utf8 for mysql, as it&#39;s the default but also currently causes some issues in recent versions of node-mysql</li></ul><h3 id="_0-5-13-april-2-2014" tabindex="-1">0.5.13 - April 2, 2014 <a class="header-anchor" href="#_0-5-13-april-2-2014" aria-hidden="true">#</a></h3><ul><li>Fix regression in array bindings for postgresql (<a href="https://github.com/knex/knex/issues/228" target="_blank" rel="noopener noreferrer">#228</a>)</li></ul><h3 id="_0-5-12-mar-31-2014" tabindex="-1">0.5.12 - Mar 31, 2014 <a class="header-anchor" href="#_0-5-12-mar-31-2014" aria-hidden="true">#</a></h3><ul><li>Add more operators for where clauses, including &amp;&amp; (<a href="https://github.com/knex/knex/issues/226" target="_blank" rel="noopener noreferrer">#226</a>)</li></ul><h3 id="_0-5-11-mar-25-2014" tabindex="-1">0.5.11 - Mar 25, 2014 <a class="header-anchor" href="#_0-5-11-mar-25-2014" aria-hidden="true">#</a></h3><ul><li><code>.where(col, &#39;is&#39;, null)</code> or <code>.where(col, &#39;is not&#39;, null)</code> are not supported (<a href="https://github.com/knex/knex/issues/221" target="_blank" rel="noopener noreferrer">#221</a>).</li><li>Case insensitive <code>where</code> operators now allowed (<a href="https://github.com/knex/knex/issues/212" target="_blank" rel="noopener noreferrer">#212</a>).</li><li>Fix bug in increment/decrement truncating to an integer (<a href="https://github.com/knex/knex/issues/210" target="_blank" rel="noopener noreferrer">#210</a>).</li><li>Disconnected connections are now properly handled &amp; removed from the pool (<a href="https://github.com/knex/knex/issues/206" target="_blank" rel="noopener noreferrer">#206</a>).</li><li>Internal tweaks to binding concatenations for performance (<a href="https://github.com/knex/knex/issues/207" target="_blank" rel="noopener noreferrer">#207</a>)</li></ul><h3 id="_0-5-10-mar-19-2014" tabindex="-1">0.5.10 - Mar 19, 2014 <a class="header-anchor" href="#_0-5-10-mar-19-2014" aria-hidden="true">#</a></h3><ul><li>Add the .exec method to the internal promise shim</li></ul><h3 id="_0-5-9-mar-18-2014" tabindex="-1">0.5.9 - Mar 18, 2014 <a class="header-anchor" href="#_0-5-9-mar-18-2014" aria-hidden="true">#</a></h3><ul><li>Remove error&#39;ed connections from the connection pool (<a href="https://github.com/knex/knex/issues/206" target="_blank" rel="noopener noreferrer">#206</a>), added support for node-postgres-pure (pg.js) (<a href="https://github.com/knex/knex/issues/200" target="_blank" rel="noopener noreferrer">#200</a>)</li></ul><h3 id="_0-5-8-feb-27-2014" tabindex="-1">0.5.8 - Feb 27, 2014 <a class="header-anchor" href="#_0-5-8-feb-27-2014" aria-hidden="true">#</a></h3><ul><li>Fix for chaining on forUpdate / forShare, adding map &amp; reduce from bluebird</li></ul><h3 id="_0-5-7-feb-18-2014" tabindex="-1">0.5.7 - Feb 18, 2014 <a class="header-anchor" href="#_0-5-7-feb-18-2014" aria-hidden="true">#</a></h3><ul><li>Fix for a null limit / offset breaking query chain (<a href="https://github.com/knex/knex/issues/182" target="_blank" rel="noopener noreferrer">#182</a>)</li></ul><h3 id="_0-5-6-feb-5-2014" tabindex="-1">0.5.6 - Feb 5, 2014 <a class="header-anchor" href="#_0-5-6-feb-5-2014" aria-hidden="true">#</a></h3><ul><li>Bump bluebird dependency to ~1.0.0, fixing regression in Bluebird 1.0.2 (<a href="https://github.com/knex/knex/issues/176" target="_blank" rel="noopener noreferrer">#176</a>)</li></ul><h3 id="_0-5-5-jan-28-2014" tabindex="-1">0.5.5 - Jan 28, 2014 <a class="header-anchor" href="#_0-5-5-jan-28-2014" aria-hidden="true">#</a></h3><ul><li>Fix for the exit code on the migrations cli (<a href="https://github.com/knex/knex/issues/151" target="_blank" rel="noopener noreferrer">#151</a>).</li><li>The <code>init</code> method in <code>knex.migrate</code> now uses <code>this.config</code> if one isn&#39;t passed in (<a href="https://github.com/knex/knex/issues/156" target="_blank" rel="noopener noreferrer">#156</a>)</li></ul><h3 id="_0-5-4-jan-7-2014" tabindex="-1">0.5.4 - Jan 7, 2014 <a class="header-anchor" href="#_0-5-4-jan-7-2014" aria-hidden="true">#</a></h3><ul><li>Fix for using raw statements in defaultTo schema builder methods (<a href="https://github.com/knex/knex/issues/146" target="_blank" rel="noopener noreferrer">#146</a>)</li></ul><h3 id="_0-5-3-jan-2-2014" tabindex="-1">0.5.3 - Jan 2, 2014 <a class="header-anchor" href="#_0-5-3-jan-2-2014" aria-hidden="true">#</a></h3><ul><li>Fix for incorrectly formed sql when aggregates are used with columns (<a href="https://github.com/knex/knex/issues/144" target="_blank" rel="noopener noreferrer">#144</a>)</li></ul><h3 id="_0-5-2-dec-18-2013" tabindex="-1">0.5.2 - Dec 18, 2013 <a class="header-anchor" href="#_0-5-2-dec-18-2013" aria-hidden="true">#</a></h3><ul><li>Adding passthrough &quot;catch&quot;, &quot;finally&quot; to bluebird implementations, use bluebird&#39;s &quot;nodeify&quot; internally for exec</li></ul><h3 id="_0-5-1-dec-12-2013" tabindex="-1">0.5.1 - Dec 12, 2013 <a class="header-anchor" href="#_0-5-1-dec-12-2013" aria-hidden="true">#</a></h3><ul><li>The <a href="/guide/query-builder.html#returning">returning</a> in PostgreSQL may now accept * or an array of columns to return. If either of these are passed, the response will be an array of objects rather than an array of values. Updates may also now use a <code>returning</code> value. (<a href="https://github.com/knex/knex/issues/132" target="_blank" rel="noopener noreferrer">#132</a>)</li><li>Added <code>bigint</code> and <code>bigserial</code> type to PostgreSQL. (<a href="https://github.com/knex/knex/issues/111" target="_blank" rel="noopener noreferrer">#111</a>)</li><li>Fix for the <a href="/guide/schema-builder.html#specifictype">specificType</a> schema call (<a href="https://github.com/knex/knex/issues/118" target="_blank" rel="noopener noreferrer">#118</a>)</li><li>Several fixes for migrations, including migration file path fixes, passing a Promise constructor to the migration <code>up</code> and <code>down</code> methods, allowing the &quot;knex&quot; module to be used globally, file ordering on migrations, and other small improvements. (<a href="https://github.com/knex/knex/issues/112" target="_blank" rel="noopener noreferrer">#112</a>-115, <a href="https://github.com/knex/knex/issues/125" target="_blank" rel="noopener noreferrer">#125</a>, <a href="https://github.com/knex/knex/issues/135" target="_blank" rel="noopener noreferrer">#135</a>)</li></ul><h3 id="_0-5-0-nov-25-2013" tabindex="-1">0.5.0 - Nov 25, 2013 <a class="header-anchor" href="#_0-5-0-nov-25-2013" aria-hidden="true">#</a></h3><ul><li>Initial pass at a <a href="/guide/migrations.html">migration</a> api.</li><li>Aggregate methods are no longer aliased as &quot;aggregate&quot;, but may now be aliased and have more than one aggregate in a query (<a href="https://github.com/knex/knex/issues/108" target="_blank" rel="noopener noreferrer">#108</a>, <a href="https://github.com/knex/knex/issues/110" target="_blank" rel="noopener noreferrer">#110</a>).</li><li>Adding bigint and bigserial to PostgreSQL (<a href="https://github.com/knex/knex/issues/111" target="_blank" rel="noopener noreferrer">#111</a>).</li><li>Bugfix on increment/decrement values (<a href="https://github.com/knex/knex/issues/100" target="_blank" rel="noopener noreferrer">#100</a>).</li><li>Bugfix with having method (<a href="https://github.com/knex/knex/issues/107" target="_blank" rel="noopener noreferrer">#107</a>).</li><li>Switched from when.js to <a href="https://github.com/petkaantonov/bluebird" target="_blank" rel="noopener noreferrer">bluebird</a> for promise implementation, with shim for backward compatibility.</li><li>Switched from underscore to lodash, for semver reliability</li></ul><h3 id="_0-4-13-oct-31-2013" tabindex="-1">0.4.13 - Oct 31, 2013 <a class="header-anchor" href="#_0-4-13-oct-31-2013" aria-hidden="true">#</a></h3><ul><li>Fix for aggregate methods on toString and clone, (<a href="https://github.com/knex/knex/issues/98" target="_blank" rel="noopener noreferrer">#98</a>)</li></ul><h3 id="_0-4-12-oct-29-2013" tabindex="-1">0.4.12 - Oct 29, 2013 <a class="header-anchor" href="#_0-4-12-oct-29-2013" aria-hidden="true">#</a></h3><ul><li>Fix incorrect values passed to float in MySQL and decimal in PostgreSQL</li></ul><h3 id="_0-4-11-oct-15-2013" tabindex="-1">0.4.11 - Oct 15, 2013 <a class="header-anchor" href="#_0-4-11-oct-15-2013" aria-hidden="true">#</a></h3><ul><li>Fix potential sql injection vulnerability in orderBy, thanks to @sebgie</li></ul><h3 id="_0-4-10-oct-14-2013" tabindex="-1">0.4.10 - Oct 14, 2013 <a class="header-anchor" href="#_0-4-10-oct-14-2013" aria-hidden="true">#</a></h3><ul><li>Added <a href="/guide/query-builder.html#forupdate">forUpdate</a> and <a href="#Builder-forShare">forShare</a> for select modes in transactions. (<a href="https://github.com/knex/knex/issues/84" target="_blank" rel="noopener noreferrer">#84</a>)</li><li>Fix bug where current query chain type is not copied on <a href="#Builder-clone">clone</a>. (<a href="https://github.com/knex/knex/issues/90" target="_blank" rel="noopener noreferrer">#90</a>)</li><li>Charset and collate are now added as methods on the schema builder. (<a href="https://github.com/knex/knex/issues/89" target="_blank" rel="noopener noreferrer">#89</a>)</li><li>Added <code>into</code> as an alias of <a href="/guide/query-builder.html#from">from</a>, for builder syntax of: <code>insert(value).into(tableName)</code></li><li>Internal pool fixes. (<a href="https://github.com/knex/knex/issues/90" target="_blank" rel="noopener noreferrer">#90</a>)</li></ul><h3 id="_0-4-9-oct-7-2013" tabindex="-1">0.4.9 - Oct 7, 2013 <a class="header-anchor" href="#_0-4-9-oct-7-2013" aria-hidden="true">#</a></h3><ul><li>Fix for documentation of <a href="/guide/schema-builder.html#hascolumn">hasColumn</a>, ensure that <code>hasColumn</code> works with MySQL (<a href="https://github.com/knex/knex/issues/87" target="_blank" rel="noopener noreferrer">#87</a>).</li><li>More cleanup of error messages, showing the original error message concatenated with the sql and bindings</li></ul><h3 id="_0-4-8-oct-2-2013" tabindex="-1">0.4.8 - Oct 2, 2013 <a class="header-anchor" href="#_0-4-8-oct-2-2013" aria-hidden="true">#</a></h3><ul><li>Connections are no longer pushed back into the pool if they never existed to begin with (<a href="https://github.com/knex/knex/issues/85" target="_blank" rel="noopener noreferrer">#85</a>)</li></ul><h3 id="_0-4-7-sep-27-2013" tabindex="-1">0.4.7 - Sep 27, 2013 <a class="header-anchor" href="#_0-4-7-sep-27-2013" aria-hidden="true">#</a></h3><ul><li>The column is now a documented method on the builder api, and takes either an individual column or an array of columns to select</li></ul><h3 id="_0-4-6-sep-25-2013" tabindex="-1">0.4.6 - Sep 25, 2013 <a class="header-anchor" href="#_0-4-6-sep-25-2013" aria-hidden="true">#</a></h3><ul><li>Standardizing handling of errors for easier debugging, as noted in (<a href="https://github.com/knex/knex/issues/39" target="_blank" rel="noopener noreferrer">#39</a>)</li></ul><h3 id="_0-4-5-sep-24-2013" tabindex="-1">0.4.5 - Sep 24, 2013 <a class="header-anchor" href="#_0-4-5-sep-24-2013" aria-hidden="true">#</a></h3><ul><li>Fix for hasTable always returning true in MySQL (<a href="https://github.com/knex/knex/issues/82" target="_blank" rel="noopener noreferrer">#82</a>), fix where sql queries were duplicated with multiple calls on toSql with the schema builder</li></ul><h3 id="_0-4-4-sep-22-2013" tabindex="-1">0.4.4 - Sep 22, 2013 <a class="header-anchor" href="#_0-4-4-sep-22-2013" aria-hidden="true">#</a></h3><ul><li>Fix for debug method not properly debugging individual queries</li></ul><h3 id="_0-4-3-sep-18-2013" tabindex="-1">0.4.3 - Sep 18, 2013 <a class="header-anchor" href="#_0-4-3-sep-18-2013" aria-hidden="true">#</a></h3><ul><li>Fix for underscore not being defined in various grammar files</li></ul><h3 id="_0-4-2-sep-17-2013" tabindex="-1">0.4.2 - Sep 17, 2013 <a class="header-anchor" href="#_0-4-2-sep-17-2013" aria-hidden="true">#</a></h3><ul><li>Fix for an error being thrown when an initialized ClientBase instance was passed into Knex.initialize. pool.destroy now optionally accepts a callback to notify when it has completed draining and destroying all connections</li></ul><h3 id="_0-4-1-sep-16-2013" tabindex="-1">0.4.1 - Sep 16, 2013 <a class="header-anchor" href="#_0-4-1-sep-16-2013" aria-hidden="true">#</a></h3><ul><li>Cleanup from the 0.4.0 release, fix a potential exploit in &quot;where&quot; clauses pointed out by Andri M\xF6ll, fix for clients not being properly released from the pool <a href="https://github.com/knex/knex/issues/70" target="_blank" rel="noopener noreferrer">#70</a>, fix for where(&quot;foo&quot;, &quot;&lt;&gt;&quot;, null) doing an &quot;IS NULL&quot; statement</li></ul><h3 id="_0-4-0-sep-13-2013" tabindex="-1">0.4.0 - Sep 13, 2013 <a class="header-anchor" href="#_0-4-0-sep-13-2013" aria-hidden="true">#</a></h3><p><strong>Breaking changes</strong></p><ul><li>Global state is no longer stored in the library, an instance is returned from <code>Knex.initialize</code>, so you will need to call this once and then reference this <code>knex</code> client elsewhere in your application.</li><li>Lowercasing of <code>knex.raw</code>, <code>knex.transaction</code>, and <code>knex.schema</code>.</li><li>Created columns are now nullable by default, unless <code>notNullable</code> is chained as an option.</li><li>Keys created with <code>increments</code> are now assumed to be unsigned (MySQL) by default.</li><li>The <code>destroyAllNow</code> is no longer called by the library on <code>process.exit</code> event. If you need to call it explicitly yourself, you may use <code>knex.client.destroyPool</code></li></ul><h3 id="_0-2-6-aug-29-2013" tabindex="-1">0.2.6 - Aug 29, 2013 <a class="header-anchor" href="#_0-2-6-aug-29-2013" aria-hidden="true">#</a></h3><ul><li>Reject the transaction promise if the transaction &quot;commit&quot; fails, (<a href="https://github.com/knex/knex/issues/50" target="_blank" rel="noopener noreferrer">#50</a>)</li></ul><h3 id="_0-2-5-aug-25-2013" tabindex="-1">0.2.5 - Aug 25, 2013 <a class="header-anchor" href="#_0-2-5-aug-25-2013" aria-hidden="true">#</a></h3><ul><li>Fix error if a callback isn&#39;t specified for exec, (<a href="https://github.com/knex/knex/issues/49" target="_blank" rel="noopener noreferrer">#49</a>)</li></ul><h3 id="_0-2-4-aug-22-2013" tabindex="-1">0.2.4 - Aug 22, 2013 <a class="header-anchor" href="#_0-2-4-aug-22-2013" aria-hidden="true">#</a></h3><ul><li>Fix SQLite3 delete not returning affected row count, (<a href="https://github.com/knex/knex/issues/45" target="_blank" rel="noopener noreferrer">#45</a>)</li></ul><h3 id="_0-2-3-aug-22-2013" tabindex="-1">0.2.3 - Aug 22, 2013 <a class="header-anchor" href="#_0-2-3-aug-22-2013" aria-hidden="true">#</a></h3><ul><li>Fix insert with default values in PostgreSQL and SQLite3, (<a href="https://github.com/knex/knex/issues/44" target="_blank" rel="noopener noreferrer">#44</a>)</li></ul><h3 id="_0-2-2-aug-20-2013" tabindex="-1">0.2.2 - Aug 20, 2013 <a class="header-anchor" href="#_0-2-2-aug-20-2013" aria-hidden="true">#</a></h3><ul><li>Allowing Raw queries to be passed as the primary table names</li></ul><h3 id="_0-2-1-aug-13-2013" tabindex="-1">0.2.1 - Aug 13, 2013 <a class="header-anchor" href="#_0-2-1-aug-13-2013" aria-hidden="true">#</a></h3><ul><li>Fix for an array passed to insert being mutated</li></ul><h3 id="_0-2-0-aug-7-2013" tabindex="-1">0.2.0 - Aug 7, 2013 <a class="header-anchor" href="#_0-2-0-aug-7-2013" aria-hidden="true">#</a></h3><p><strong>Breaking changes</strong></p><ul><li><a href="/guide/schema-builder.html#hastable">hasTable</a> now returns a boolean rather than a failed promise.</li><li>Changed syntax for insert in postgresql, where the <code>id</code> is not assumed on inserts (<a href="https://github.com/knex/knex/issues/18" target="_blank" rel="noopener noreferrer">#18</a>). The second parameter of <a href="#Builder-insert">insert</a> is now required to return an array of insert id&#39;s for the last insert.</li><li>The <a href="/guide/schema-builder.html#timestamp">timestamp</a> method on the schema builder now uses a <code>dateTime</code> rather than a <code>timestamp</code></li></ul><h3 id="_0-1-8-july-7-2013" tabindex="-1">0.1.8 - July 7, 2013 <a class="header-anchor" href="#_0-1-8-july-7-2013" aria-hidden="true">#</a></h3><ul><li>Somehow missing the != operator. Using _.find rather than _.where in getCommandsByName(<a href="https://github.com/knex/knex/issues/22" target="_blank" rel="noopener noreferrer">#22</a>)</li></ul><h3 id="_0-1-7-june-12-2013" tabindex="-1">0.1.7 - June 12, 2013 <a class="header-anchor" href="#_0-1-7-june-12-2013" aria-hidden="true">#</a></h3><ul><li>Ensures unhandled errors in the exec callback interface are re-thrown</li></ul><h3 id="_0-1-6-june-9-2013" tabindex="-1">0.1.6 - June 9, 2013 <a class="header-anchor" href="#_0-1-6-june-9-2013" aria-hidden="true">#</a></h3><ul><li>Renaming beforeCreate to afterCreate. Better handling of errors in the connection pooling</li></ul><h3 id="_0-1-5-june-9-2013" tabindex="-1">0.1.5 - June 9, 2013 <a class="header-anchor" href="#_0-1-5-june-9-2013" aria-hidden="true">#</a></h3><ul><li>Added the ability to specify beforeCreate and beforeDestroy hooks on the initialize&#39;s options.pool to perform any necessary database setup/teardown on connections before use (<a href="https://github.com/knex/knex/issues/14" target="_blank" rel="noopener noreferrer">#14</a>). where and having may now accept Knex.Raw instances, for consistency (<a href="https://github.com/knex/knex/issues/15" target="_blank" rel="noopener noreferrer">#15</a>). Added an orHaving method to the builder. The ability to specify bindings on Raw queries has been removed</li></ul><h3 id="_0-1-4-may-22-2013" tabindex="-1">0.1.4 - May 22, 2013 <a class="header-anchor" href="#_0-1-4-may-22-2013" aria-hidden="true">#</a></h3><ul><li>defaultTo now accepts &quot;false&quot; for boolean columns, allows for empty strings as default values</li></ul><h3 id="_0-1-3-may-18-2013" tabindex="-1">0.1.3 - May 18, 2013 <a class="header-anchor" href="#_0-1-3-may-18-2013" aria-hidden="true">#</a></h3><ul><li>Enabling table aliases (<a href="https://github.com/knex/knex/issues/11" target="_blank" rel="noopener noreferrer">#11</a>). Fix for issues with transactions not functioning (<a href="https://github.com/knex/knex/issues/12" target="_blank" rel="noopener noreferrer">#12</a>)</li></ul><h3 id="_0-1-2-may-15-2013" tabindex="-1">0.1.2 - May 15, 2013 <a class="header-anchor" href="#_0-1-2-may-15-2013" aria-hidden="true">#</a></h3><ul><li>Bug fixes for groupBy (<a href="https://github.com/knex/knex/issues/7" target="_blank" rel="noopener noreferrer">#7</a>). Mysql using collation, charset config settings in createTable. Added engine on schemaBuilder specifier (<a href="https://github.com/knex/knex/issues/6" target="_blank" rel="noopener noreferrer">#6</a>). Other doc fixes, tests</li></ul><h3 id="_0-1-1-may-14-2013" tabindex="-1">0.1.1 - May 14, 2013 <a class="header-anchor" href="#_0-1-1-may-14-2013" aria-hidden="true">#</a></h3><ul><li>Bug fixes for sub-queries, minor changes to initializing &quot;main&quot; instance, adding &quot;pg&quot; as a valid parameter for the client name in the connection settings</li></ul><h3 id="_0-1-0-may-13-2013" tabindex="-1">0.1.0 - May 13, 2013 <a class="header-anchor" href="#_0-1-0-may-13-2013" aria-hidden="true">#</a></h3><ul><li>Initial Knex release</li></ul>',820),i=[o];function s(l,h,u,p,g,c){return n(),r("div",null,i)}var k=e(a,[["render",s]]);export{d as __pageData,k as default};
