import{y as v}from"./index.e3438241.js";import{d as w,u as x,b as y,w as d,e as b,f as k,o as P,c as R,g as B}from"../app.36cb52e5.js";const C={class:"algolia-search-box",id:"docsearch"},j=w({__name:"AlgoliaSearchBox",props:{options:{},multilang:{type:Boolean}},setup(g){var h;const o=g,r=B(),i=x(),c=y();d(()=>o.options,e=>{_(e)}),b(()=>{p(o.options)});function m(e){return e.button===1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}function l(e){const{pathname:a,hash:t}=new URL(e);return a+t}function _(e){r&&r.vnode.el&&(r.vnode.el.innerHTML='<div class="algolia-search-box" id="docsearch"></div>',p(e))}const{lang:u}=k(),s=o.multilang?["lang:"+u.value]:[];(h=o.options.searchParameters)!=null&&h.facetFilters&&s.push(...o.options.searchParameters.facetFilters),d(u,(e,a)=>{const t=s.findIndex(n=>n==="lang:"+a);t>-1&&s.splice(t,1,"lang:"+e)});function p(e){v(Object.assign({},e,{container:"#docsearch",searchParameters:Object.assign({},e.searchParameters,{facetFilters:s}),navigator:{navigate:({itemUrl:a})=>{const{pathname:t}=new URL(window.location.origin+a);i.path===t?window.location.assign(window.location.origin+a):c.go(a)}},transformItems:a=>a.map(t=>{const n=new URL(t.url);return n.pathname.startsWith("/knex")&&(n.pathname=n.pathname.replace("/knex","")),Object.assign({},t,{url:l(n.href)})}),hitComponent:({hit:a,children:t})=>{const n=a.url.startsWith("http")?l(a.url):a.url;return{type:"a",ref:void 0,constructor:void 0,key:void 0,props:{href:a.url,onClick:f=>{m(f)||i.path!==n&&(i.path!==n&&f.preventDefault(),c.go(n))},children:t},__v:null}}}))}return(e,a)=>(P(),R("div",C))}});export{j as default};
