<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>F.A.Q. | Knex.js</title>
    <meta name="description" content="Beta knex.js documentation.">
    <link rel="stylesheet" href="/assets/style.a21b8e16.css">
    <link rel="modulepreload" href="/assets/chunks/AlgoliaSearchBox.a88cc1e3.js">
    <link rel="modulepreload" href="/assets/chunks/AlgoliaSearchBox.639416b3.js">
    <link rel="modulepreload" href="/assets/app.36cb52e5.js">
    <link rel="modulepreload" href="/assets/faq_index.md.5b931eb6.lean.js">
    
    <link rel="icon" type="image/png" href="/knex-logo.png">
  <meta name="twitter:title" content="F.A.Q. | Knex.js">
  <meta property="og:title" content="F.A.Q. | Knex.js">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Knex.js, back to home" data-v-675d8756 data-v-cc01ef16><img class="logo" src="/knex-logo.png" alt="Logo" data-v-cc01ef16> Knex.js</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/guide/" data-v-b8818f8c>Guide <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/faq/" data-v-b8818f8c>F.A.Q. <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/changelog.html" data-v-b8818f8c>Changelog <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/knex/knex" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><select class="sql-dropdown item nav-link"><option value="mysql" selected>MySQL / MariaDB</option><option value="mysql2">MySQL2</option><option value="postgres">PostgreSQL</option><option value="pgnative">PG Native</option><option value="cockroachdb">CockroachDB</option><option value="redshift">Amazon Redshift</option><option value="sqlite3">SQLite3</option><option value="oracledb">OracleDB</option><option value="mssql">MSSQL</option></select><div class="algolia-search-box" id="docsearch"></div><a class="toggle-dark" tabindex="0" role="button" data-v-2a5e0da6><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--ph" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256" data-v-2a5e0da6><circle cx="128" cy="128" r="60" fill="currentColor" opacity=".2" data-v-2a5e0da6></circle><path fill="currentColor" d="M128 60a68 68 0 1 0 68 68a68.1 68.1 0 0 0-68-68Zm0 120a52 52 0 1 1 52-52a52 52 0 0 1-52 52Zm-8-144V16a8 8 0 0 1 16 0v20a8 8 0 0 1-16 0ZM43.1 54.5a8.1 8.1 0 1 1 11.4-11.4l14.1 14.2a8 8 0 0 1 0 11.3a8.1 8.1 0 0 1-11.3 0ZM36 136H16a8 8 0 0 1 0-16h20a8 8 0 0 1 0 16Zm32.6 51.4a8 8 0 0 1 0 11.3l-14.1 14.2a8.3 8.3 0 0 1-5.7 2.3a8.5 8.5 0 0 1-5.7-2.3a8.1 8.1 0 0 1 0-11.4l14.2-14.1a8 8 0 0 1 11.3 0ZM136 220v20a8 8 0 0 1-16 0v-20a8 8 0 0 1 16 0Zm76.9-18.5a8.1 8.1 0 0 1 0 11.4a8.5 8.5 0 0 1-5.7 2.3a8.3 8.3 0 0 1-5.7-2.3l-14.1-14.2a8 8 0 0 1 11.3-11.3ZM248 128a8 8 0 0 1-8 8h-20a8 8 0 0 1 0-16h20a8 8 0 0 1 8 8Zm-60.6-59.4a8 8 0 0 1 0-11.3l14.1-14.2a8.1 8.1 0 0 1 11.4 11.4l-14.2 14.1a8.1 8.1 0 0 1-11.3 0Z" data-v-2a5e0da6></path></svg></a><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/guide/" data-v-b8818f8c>Guide <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/faq/" data-v-b8818f8c>F.A.Q. <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/changelog.html" data-v-b8818f8c>Changelog <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/knex/knex" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item active" href="/faq/">F.A.Q.</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#how-do-i-help-contribute">How do I help contribute?</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#how-do-i-debug">How do I debug?</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#how-do-i-run-the-test-suite">How do I run the test suite?</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#my-tests-are-failing-because-slow-db-connection-and-short-test-timeouts-how-to-extend-test-timeouts">My tests are failing because slow DB connection and short test timeouts! How to extend test timeouts?</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#i-found-something-broken-with-amazon-redshift-can-you-help">I found something broken with Amazon Redshift! Can you help?</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/faq/recipes">Recipes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/faq/support">Support</a><!----></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="f-a-q" tabindex="-1">F.A.Q. <a class="header-anchor" href="#f-a-q" aria-hidden="true">#</a></h1><h2 id="how-do-i-help-contribute" tabindex="-1">How do I help contribute? <a class="header-anchor" href="#how-do-i-help-contribute" aria-hidden="true">#</a></h2><p>Glad you asked! Pull requests, or feature requests, though not always implemented, are a great way to help make Knex even better than it is now. If you&#39;re looking for something specific to help out with, there&#39;s a number of unit tests that aren&#39;t implemented yet, the library could never have too many of those. If you want to submit a fix or feature, take a look at the <a href="https://github.com/knex/knex/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">Contributing</a> readme in the Github and go ahead and open a ticket.</p><h2 id="how-do-i-debug" tabindex="-1">How do I debug? <a class="header-anchor" href="#how-do-i-debug" aria-hidden="true">#</a></h2><p>Knex is beginning to make use of the <a href="https://github.com/visionmedia/debug" target="_blank" rel="noopener noreferrer">debug</a> module internally, so you can set the <code>DEBUG</code> environment variable to <code>knex:*</code> to see all debugging, or select individual namespaces <code>DEBUG=knex:query,knex:tx</code> to constrain a bit.</p><p>If you pass <code>{debug: true}</code> as one of the options in your initialize settings, you can see all of the query calls being made. Sometimes you need to dive a bit further into the various calls and see what all is going on behind the scenes. I&#39;d recommend <a href="https://github.com/dannycoates/node-inspector" target="_blank" rel="noopener noreferrer">node-inspector</a>, which allows you to debug code with <code>debugger</code> statements like you would in the browser.</p><p>At the start of your application code will catch any errors not otherwise caught in the normal promise chain handlers, which is very helpful in debugging.</p><h2 id="how-do-i-run-the-test-suite" tabindex="-1">How do I run the test suite? <a class="header-anchor" href="#how-do-i-run-the-test-suite" aria-hidden="true">#</a></h2><p>The test suite looks for an environment variable called <code>KNEX_TEST</code> for the path to the database configuration. If you run the following command:</p><div class="language-bash"><pre><code>$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">KNEX_TEST</span><span class="token operator">=</span><span class="token string">&#39;/path/to/your/knex_config.js&#39;</span>
$ <span class="token function">npm</span> <span class="token builtin class-name">test</span>
</code></pre></div><p>replacing with the path to your config file, and the config file is valid, the test suite should run properly.</p><h2 id="my-tests-are-failing-because-slow-db-connection-and-short-test-timeouts-how-to-extend-test-timeouts" tabindex="-1">My tests are failing because slow DB connection and short test timeouts! How to extend test timeouts? <a class="header-anchor" href="#my-tests-are-failing-because-slow-db-connection-and-short-test-timeouts-how-to-extend-test-timeouts" aria-hidden="true">#</a></h2><p>Sometimes, e.g. when running CI on travis, test suite&#39;s default timeout of 5 seconds might be too short. In such cases an alternative test timeout value in milliseconds can be specified using the <code>KNEX_TEST_TIMEOUT</code> environment variable.</p><div class="language-bash"><pre><code>$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">KNEX_TEST_TIMEOUT</span><span class="token operator">=</span><span class="token number">30000</span>
$ <span class="token function">npm</span> <span class="token builtin class-name">test</span>
</code></pre></div><h2 id="i-found-something-broken-with-amazon-redshift-can-you-help" tabindex="-1">I found something broken with Amazon Redshift! Can you help? <a class="header-anchor" href="#i-found-something-broken-with-amazon-redshift-can-you-help" aria-hidden="true">#</a></h2><p>Because there is no testing platform available for Amazon Redshift, be aware that it is included as a dialect but is unsupported. With that said, please file an issue if something is found to be broken that is not noted in the documentation, and we will do our best.</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><a class="link" href="https://github.com/knex/knex/edit/master/docs/src/faq/index.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-07c132fc><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><!----></div><div class="next" data-v-38ede35f><a class="link" href="/faq/recipes" data-v-38ede35f><span class="text" data-v-38ede35f>Recipes</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"changelog.md\":\"17672f85\",\"faq_index.md\":\"5b931eb6\",\"faq_recipes.md\":\"9519710b\",\"faq_support.md\":\"3a1bb589\",\"guide_extending.md\":\"fba00f2b\",\"guide_index.md\":\"8af088ee\",\"guide_interfaces.md\":\"69039f37\",\"guide_migrations.md\":\"a3b60bcd\",\"guide_query-builder.md\":\"bcead624\",\"guide_raw.md\":\"82150b7b\",\"guide_ref.md\":\"871a08f0\",\"guide_schema-builder.md\":\"8594d7f3\",\"guide_transactions.md\":\"287f817f\",\"guide_utility.md\":\"36a2823b\",\"index.md\":\"09ca53f9\"}")</script>
    <script type="module" async src="/assets/app.36cb52e5.js"></script>
    
  </body>
</html>